// ROLLUP_NO_REPLACE 
 const _12_learnSolr = "{\"parsed\":{\"_path\":\"/note/program/learnsolr\",\"_dir\":\"program\",\"_draft\":false,\"_partial\":false,\"_locale\":\"en\",\"_empty\":false,\"title\":\"Solr\",\"description\":\"\",\"excerpt\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tag\":\"h1\",\"props\":{\"id\":\"solr\"},\"children\":[{\"type\":\"text\",\"value\":\"Solr\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"1-solr简介\"},\"children\":[{\"type\":\"text\",\"value\":\"1. Solr简介\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"前言\"},\"children\":[{\"type\":\"text\",\"value\":\"前言\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"学习Solr需要一些和java相关的储备知识，在此之前，假设您已经：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拥有 Java 开发环境以及相应 IDE（eclipse idea）\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"熟悉 Spring Boot\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"熟悉 Maven\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"熟悉 Lucene\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"11-solr是什么\"},\"children\":[{\"type\":\"text\",\"value\":\"1.1 Solr是什么\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr是Apache旗下基于Lucene开发的全文检索的服务。用户可以通过http请求，向Solr服务器提交一定格式的数据（XML,JSON），完成索引库的索引。也可以通过Http请求查询索引库获取返回结果(XML,JSON)。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr和Lucene的区别\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lucene是一个开放源代码的全文检索引擎工具包，它不是一个完整的全文检索引擎，Lucene提供了完整的查询引擎和索引引擎，目的是为软件开发人员提供一个简单易用的工具包，以方便的在目标系统中实现全文检索的功能，或者以Lucene为基础构建全文检索引擎。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr的目标是打造一款企业级的搜索引擎系统，它是一个搜索引擎服务，可以独立运行，通过Solr可以非常快速的构建企业的搜索引擎，通过Solr也可以高效的完成站内搜索功能。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1576984490418\",\"src\":\"imgs/001.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"12-solr的发展历程\"},\"children\":[{\"type\":\"text\",\"value\":\"1.2 Solr的发展历程\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2004年，CNET NetWorks公司的Yonik Seeley工程师为公司网站开发搜索功能时完成了Solr的雏形。起初Solr知识CNET公司的内部项目。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2006 年1月，CNET公司决定将Solr源码捐赠给Apache软件基金会。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2008 年9月，Solr1.3发布了新功能，其他包括分布式搜索和性能增强等功能。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2009 年11月，Solr1.4版本发布，此版本对索引，搜索，Facet等方面进行优化，提高了对PDF，HTML等富文本文件处理能力，还推出了许多额外的插件；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2010 年3月，Lucene和Solr项目合并，自此,Solr称为了Lucene的子项目，产品现在由双方的参与者共同开发。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2011年，Solr改变了版本编号方案，以便与Lucene匹配。为了使Solr和Lucene有相同的版本号，Solr1.4下一版的版本变为3.1。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2012年10月，Solr4.0版本发布，新功能Solr Cloud也随之发布。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"目前Solr最新版本8.4.1\"}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"13-solr的功能优势\"},\"children\":[{\"type\":\"text\",\"value\":\"1.3 Solr的功能优势\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​灵活的查询语法；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"支持各种格式文件（Word，PDF）导入索引库；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"支持数据库数据导入索引库；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分页查询和排序\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Facet维度查询；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"自动完成功能；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拼写检查；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索关键字高亮显示；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Geo地理位置查询;\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Group 分组查询;\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr Cloud;\"}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"2-下载和安装\"},\"children\":[{\"type\":\"text\",\"value\":\"2. 下载和安装\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"21-下载\"},\"children\":[{\"type\":\"text\",\"value\":\"2.1 下载\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr的下载地址：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://lucene.apache.org/solr/downloads.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://lucene.apache.org/solr/downloads.html\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr最新版本是8.4.1的版本，由于8属于比较新的版本，可能有一些未知的Bug，出现问题后可能不好解决，所以我们使用Solr7.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"因为Solr是基于java语言开发，且Solr7.x要求的JDK版本最少是JDK8.所以我们在安装solr之前，首先必须安装JDK。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-23_000048.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"22-solr学习资源\"},\"children\":[{\"type\":\"text\",\"value\":\"2.2 Solr学习资源\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"为了方便学习，Solr官方也提供了很多学习资料。可以在官方的Resources中查看；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1577010476915\",\"src\":\"imgs/2019-12-22_182748.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"官方提供的4种资料：\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr Quick Start（即Solr快速上手教程）；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2019-12-22_183033.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr官方使用指南。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2019-12-22_183134.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr官方Wiki\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2019-12-22_183607.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr相关的英文书籍，如solr in action ,solr cookbook.\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"只不过这些资料都是英文资料。对于英文好的同学来说可以参考。对于英文不好的同学来说，直接参考我们的视频教程即可。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"23-window下安装solr\"},\"children\":[{\"type\":\"text\",\"value\":\"2.3 Window下安装Solr\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"window系统是我们平时开发和学习使用的一个平台，我们首先先来学习如何在window系统中安装Solr;\"}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"231-运行环境\"},\"children\":[{\"type\":\"text\",\"value\":\"2.3.1 \"},{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"运行环境\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr 需要运行在一个Servlet容器中，Solr7.x 要求jdk最少使用1.8以上，Solr默认提供Jetty（java写的Servlet容器），本教程使用Tocmat作为Servlet容器，环境如下：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr：Solr7.x\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Jdk：jdk1.8\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Tomcat：tomcat8.5\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"232-安装步骤\"},\"children\":[{\"type\":\"text\",\"value\":\"2.3.2 安装步骤\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下载solr-7.zip并解压；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2019-12-22_201756.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"bin：官方提供的一些solr的运行脚本。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"contrib：社区的一些贡献软件/插件，用于增强solr的功能。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"dist：Solr的核心JAR包和扩展JAR包\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"docs：solr的API文档\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"example：官方提供的一些solr的demo代码\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"licenses：solr遵守的一些开源协议文件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"server:这个目录有点意思，取名为sever，有点迷惑人，其实就是一个jetty.官方为了方便部署Solr，在安装包中内置了一个Jetty; 我们直接就可以利用内置的jetty部署solr;\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"server/solr-webapp/webapp\"}]},{\"type\":\"text\",\"value\":\" : 进入到sever目录中有一个webapp的目录，这个目录下部署的就是solr的war包（solr的服务）;\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"接下来我们先来给大家简单演示一下如何使用内置jetty服务器，部署solr服务；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入bin目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"启动命令：\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr start \"}]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-28_233040.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"关闭命令：\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr stop -all\"}]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-28_233110.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启solr    \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr restart –p p_num\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用localhost:8983就可以访问solr后台管理系统；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在实际开发中通常我们需要将solr部署到tomcat服务器中；接下来我们要讲解的就是如何将solr部署到tomcat；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"部署solr到tomcat；\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"解压一个新的tomcat\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将安装包下\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"server/solr-webapp/webapp\"}]},{\"type\":\"text\",\"value\":\"下的solr服务打war包；\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"server/solr-webapp/webapp\"}]},{\"type\":\"text\",\"value\":\"目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用cmd窗口\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"jar cvf  solr.war ./*\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"jar cvf  solr.war ./*\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将solr.war复制到tomcat/webapps目录中；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-28_233259.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"启动tomcat，解压war包；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改webapp/solr/WEB-INF/web.xml的配置solr_home的位置；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <env-entry>\\r\\n    <env-entry-name>solr/home</env-entry-name>\\r\\n    <env-entry-value>“你的solrhome位置”</env-entry-value>\\r\\n    <env-entry-type>java.lang.String</env-entry-type>\\r\\n  </env-entry>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <env-entry>\\r\\n    <env-entry-name>solr/home</env-entry-name>\\r\\n    <env-entry-value>“你的solrhome位置”</env-entry-value>\\r\\n    <env-entry-type>java.lang.String</env-entry-type>\\r\\n  </env-entry>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr home目录，SolrHome是Solr运行的主目录，将来solr产生的数据就存储在SolrHOME中；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrHOME可以含多个SolrCore；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrCore即Solr实例每个SolrCore可以对外单独提供全文检索的服务.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"理解为关系型数据库中的数据库. 关于solrCore的创建我们在后面的课程中专门来讲解；\"}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"取消安全配置\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <!--\\r\\n  <security-constraint>\\r\\n  <web-resource-collection>\\r\\n      <web-resource-name>Disable TRACE</web-resource-name>\\r\\n    <url-pattern>/</url-pattern>\\r\\n      <http-method>TRACE</http-method>\\r\\n    </web-resource-collection>\\r\\n    <auth-constraint/>\\r\\n  </security-constraint>\\r\\n  <security-constraint>\\r\\n    <web-resource-collection>\\r\\n      <web-resource-name>Enable everything but TRACE</web-resource-name>\\r\\n      <url-pattern>/</url-pattern>\\r\\n      <http-method-omission>TRACE</http-method-omission>\\r\\n    </web-resource-collection>\\r\\n  </security-constraint> -->\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <!--\\r\\n  <security-constraint>\\r\\n  <web-resource-collection>\\r\\n      <web-resource-name>Disable TRACE</web-resource-name>\\r\\n    <url-pattern>/</url-pattern>\\r\\n      <http-method>TRACE</http-method>\\r\\n    </web-resource-collection>\\r\\n    <auth-constraint/>\\r\\n  </security-constraint>\\r\\n  <security-constraint>\\r\\n    <web-resource-collection>\\r\\n      <web-resource-name>Enable everything but TRACE</web-resource-name>\\r\\n      <url-pattern>/</url-pattern>\\r\\n      <http-method-omission>TRACE</http-method-omission>\\r\\n    </web-resource-collection>\\r\\n  </security-constraint> -->\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":7},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将solr-7.7.2/server/solr中所有的文件复制到solrHome\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝日志工具相关jar包：将solr-7.7.2/server/lib/ext下的jar包拷贝至上面Tomcat下Solr的/WEB-INF/lib/目录下\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝metrics相关jar包：将solr-7.7.2/server/lib下metrics相关jar包也拷贝至/WEB-INF/lib/目录下\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝dataimport相关jar包:solr-7.7.2/dist下dataimport相关jar包也拷贝至/WEB-INF/lib/目录下\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝log4j2配置文件：将solr-7.7.2/server/resources目录中的log4j配置文件拷入web工程目录WEB-INF/classes（自行创建目录） ，并且修改日志文件的路径\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启tomcat，看到welcome,说明solr就安装完毕\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2019-12-23_221350.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"访问后台管理系统进行测试\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://localhost:8080/solr/index.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/index.html\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":14},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在tomcat的bin\\\\catalina.bat中配置日志文件的环境参数\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"set \\\"JAVA_OPTS=%JAVA_OPTS% -Dsolr.log.dir=C:\\\\webapps\\\\fooFts\\\\logs\\\"\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"set \\\"JAVA_OPTS=%JAVA_OPTS% -Dsolr.log.dir=C:\\\\webapps\\\\fooFts\\\\logs\\\"\\n\"}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"24-linux下安装solr\"},\"children\":[{\"type\":\"text\",\"value\":\"2.4 Linux下安装Solr\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在实际的生产环境中，通常我们都需要将solr安装到linux服务器中；由于我们目前属于学习阶段。我们就使用虚拟机来模拟一个Linux服务器安装solr；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"环境准备：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Cent0S 7.0 linux系统；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Jdk1.8  linux安装包\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"tomcat：tomcat8.5\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://tomcat.apache.org/\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://tomcat.apache.org/\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr7.x 安装包\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://mirror.bit.edu.cn/apache/lucene/solr/7.7.2/solr-7.7.2.tgz\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://mirror.bit.edu.cn/apache/lucene/solr/7.7.2/solr-7.7.2.tgz\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将linux中相关的安装包上传到linux\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"sftp上传  Jdk1.8  tomcat8.5   solr7.x 安装包到linux；\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用CRT连接到Linux\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"alt+p打开sftp,上传相关的软件安装到到linux\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_120708.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装jdk\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_120955.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"解压jdk\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"tar -xzvf jdk18 -C /usr/local\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"tar -xzvf jdk18 -C /usr/local\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_121041.png\"},\"children\":[]},{\"type\":\"text\",\"value\":\"\\r\\n2. 配置环境变量\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"vi /etc/profile\\r\\nexport JAVA_HOME=/usr/local/jdk1.8.0_171\\r\\nexport PATH=$JAVA_HOME/bin:$PATH\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"vi /etc/profile\\r\\nexport JAVA_HOME=/usr/local/jdk1.8.0_171\\r\\nexport PATH=$JAVA_HOME/bin:$PATH\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重新加载profile文件,让配置文件生效；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_121606.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"java -version\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"java -version\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_123052.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装tomcat，tomcat的安装比较简单，只需要解压即可；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_124804.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装solr,安装solr的过程和windows系统过程完全相同。只不过通过linux命令来操作而已；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"解压solr安装包,直接解压在宿主目录即可；\\r\\n解压的目录结构和window版的目录结构相同；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-23_111347.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将server/solr-webapp/webapp下的solr服务打war包；\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.1 进入到webapp目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd server/solr-webapp/webapp\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"cd server/solr-webapp/webapp\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.2 将webapp中的代码打成war包\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"jar -cvf  solr.war ./*    \\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"jar -cvf  solr.war ./*    \\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_125441.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将war包部署到tomcat的webapps目录\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_125630.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"启动tomcat，解压solr.war\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"4.1 进入到tomcat的bin目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd /usr/local/apache-tomcat-8.5.50\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"cd /usr/local/apache-tomcat-8.5.50\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"4.2 启动tomcat\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_125851.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"4.3 进入到webapp目录中查看\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_130034.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改webapp/solr/WEB-INF/web.xml的配置solrhome的位置；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <env-entry>\\r\\n      <env-entry-name>solr/home</env-entry-name>\\r\\n      <env-entry-value>“你的solrhome位置”</env-entry-value>\\r\\n      <env-entry-type>java.lang.String</env-entry-type>\\r\\n  </env-entry>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <env-entry>\\r\\n      <env-entry-name>solr/home</env-entry-name>\\r\\n      <env-entry-value>“你的solrhome位置”</env-entry-value>\\r\\n      <env-entry-type>java.lang.String</env-entry-type>\\r\\n  </env-entry>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"既然solrhome指定的位置在/user/local/solr_home下面；所以需要创建一个solr_home的文件夹；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_130847.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"取消安全配置（和window相同）\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":7},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将solr-7.7.2/server/solr中所有的文件复制到solrHome\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"7.1 进入到solr-7.7.2/server/solr\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_131046.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"7.2 将所有的文件复制到solrHome\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_131238.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":8},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝日志工具相关jar包：将solr-7.7.2/server/lib/ext下的jar包拷贝至上面Tomcat下Solr的/WEB-INF/lib/目录下\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"8.1 进入solr-7.7.2/server/lib/ext\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd solr-7.7.2/server/lib/ext\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"cd solr-7.7.2/server/lib/ext\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"8.2 将所有文件复制到Tomcat下Solr的/WEB-INF/lib/\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_131550.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":9},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝 metrics相关jar包：将solr-7.7.2/server/lib下metrics相关jar包也拷贝至/WEB-INF/lib/目录下\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"9.1 进入solr-7.7.2/server/lib\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd solr-7.7.2/server/lib\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"cd solr-7.7.2/server/lib\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_131801.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"9.2 将metrics-开始的所有文件复制到Tomcat下Solr的/WEB-INF/lib/\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_135654.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":10},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将solr安装包中dist目录中和数据导入相关的2个包，复制到tomcat/webapps/solr/WEB-INF/lib\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_191713.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cp solr-dataimporthandler-* /usr/local/apache-tomcat-8.5.50/webapps/solr/WEB-INF/lib/\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"cp solr-dataimporthandler-* /usr/local/apache-tomcat-8.5.50/webapps/solr/WEB-INF/lib/\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":11},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝log4j2配置文件：将solr-7.7.2/server/resource目录中的log4j配置文件拷入web工程目录WEB-INF/classes（自行创建目录） ，并且修改日志文件的路径\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"10.1 进入到solr-7.7.2/server/resource目录中\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd solr-7.7.2/server/resource\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"cd solr-7.7.2/server/resource\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_135948.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"10.2  将log4j2的配置文件复制到solr 的WEB-INF/classes目录；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建classes目录\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_140208.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"log4j的文件复制；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_140523.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":12},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启tomcat\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入到日志文件中查看启动情况；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd ../logs\\r\\nmore catalina.out\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"cd ../logs\\r\\nmore catalina.out\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":13},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"访问后台管理系统进行测试\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://192.168.200.129:8080/solr/index.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://192.168.200.129:8080/solr/index.html\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"3-solr基础\"},\"children\":[{\"type\":\"text\",\"value\":\"3. Solr基础\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"31-solrcore\"},\"children\":[{\"type\":\"text\",\"value\":\"3.1 SolrCore\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr部署启动成功之后，需要创建core才可以使用的，才可以使用Solr；类似于我们安装完毕MySQL以后，需要创建数据库一样；\"}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"311-什么是solrcore\"},\"children\":[{\"type\":\"text\",\"value\":\"3.1.1 什么是SolrCore\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中、每一个Core、代表一个索引库、里面包含索引数据及其配置信息。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中可以拥有多个Core、也就是可以同时管理多个索引库、就像mysql中可以有多个数据库一样。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"所以SolrCore可以理解成MySQL中的数据库；\"}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"312-solrcore维护windows\"},\"children\":[{\"type\":\"text\",\"value\":\"3.1.2 SolrCore维护（windows）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"简单认识SolrCore以后，接下来要完成的是SolrCore的创建。在创建solrCore之前，我们首先认识一下SolrCore目录结构：\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrCore目录结构\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Core中有二个重要目录：conf和data\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_171038.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"conf:存储SolrCore相关的配置文件；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"data:SolrCore的索引数据；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"core.properties：SolrCore的名称,name=SolrCore名称；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"所以搭建一个SolrCore只需要创建 2个目录和一个properties文件即可；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrHome中搭建SolrCore\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.1 solrCore的目录结构搞清楚以后，接下来就是关于SolrCore在哪里进行创建呢？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在之前搭建Solr的时候，我们说一个solr_home是由多个solrCore构成，所以solrCore是搭建在solrHome中；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_172533.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.2 将solr安装包中的配置文件复制到conf目录；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搭建好solrCore以后，conf目录还没没有配置文件，我们需要将solr安装包中提供的示例配置文件复制到conf目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr安装包中配置文件的位置：solr-7.7.2\\\\example\\\\example-DIH\\\\solr\\\\solr\\\\conf\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.3 重启solr\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.4 在solr的管理后台来查看\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_173832.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如何创建多个solrCore；\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"只需要复制SolrCore一份，重启solr；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_174323.png\"},\"children\":[]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"313-solrcore维护linux\"},\"children\":[{\"type\":\"text\",\"value\":\"3.1.3 SolrCore维护（linux）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入到SolrHome\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd /usr/local/solr_home/\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"cd /usr/local/solr_home/\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_175549.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建SolrCore\"},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"text\",\"value\":\"mkdir -p collection1/data\\r\\nmkdir -p collection1/conf\\r\\ncd collection1\\r\\ntouch core.properties\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_182151.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将solr安装包中提供的示例配置文件复制到conf目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd solr-8.3.1/example/example-DIH/solr/solr/conf/\\r\\n\\r\\ncp -r *  /usr/local/solr_home/collection1/conf/\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"cd solr-8.3.1/example/example-DIH/solr/solr/conf/\\r\\n\\r\\ncp -r *  /usr/local/solr_home/collection1/conf/\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启tomcat\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"访问后台管理系统\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-23_111646.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"32-solr后台管理系统的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2 Solr后台管理系统的使用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"概述\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一个章节我们已经学习完毕如何在solr中创建SolrCore。有了SolrCore以后我们就可以进行索引和搜索的操作，在进行索引和搜索操作之前，首先学习一下Solr后台管理系统的使用；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"DashBoard:solr的版本信息、jvm的相关信息还有一些内存信息。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Logging:日志信息，也有日志级别，刚进入查看的时候肯定是有几个警告（warn）信息的，因为复制solr的时候路径发生了变化导致找不到文件，但是并不影响。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Core Admin:SolrCore的管理页面。可以使用该管理界面完成SolrCore的卸载。也可以完成SolrCore的添加\\r\\n能添加的前提，SolrCore在solr_home中目录结构是完整的。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Java Properties:顾名思义，java的相关配置，比如类路径，文件编码等。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Thread Dump:solr服务器当前活跃的一些线程的相关信息。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以上的5个了解一下就行。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当我们选择某一个solrCore以后，又会出现一些菜单，这些菜单就是对选择的SolrCore进行操作的，接下来我们重点要讲解的就是这些菜单的使用；\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"321-documents\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.1 Documents\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：向SolrCore中添加数据，删除数据，更新数据(索引)。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在讲解如何使用Documents菜单向Solr中添加数据之前，我们首先回顾一下我们之前在Lucene中学习的一些概念；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"概念介绍：\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"文档：document是lucene进行索引创建以及搜索的基本单元，我们要把数据添加到Lucene的索引库中，数据结构就是document，如果我从Lucene的索引库中进行数据的搜索， 搜索出来的结果的数据结构也document；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"文档的结构：学习过Lucene的同学都知道，一个文档是由多个域（Field）组成，每个域包含了域名和域值；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果数据库进行类比，文档相单于数据库中的一行记录，域（Field）则为一条记录的字段。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据库中记录：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_114529.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"lucene/solr中文档\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_115314.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"索引：通常把添加数据这个操作也成为创建索引；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索：通常把搜索数据这个操作也成为搜索索引；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"倒排索引：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr添加数据的流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581240737074\",\"src\":\"imgs/1581240737074.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581241309080\",\"src\":\"imgs/1581241309080.png\"},\"children\":[]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lucene首先对文档域中的数据进行分词，建立词和文档之间的关系；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_174618.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将来我们就可以根据域中的词，快速查找到对应的文档；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lucene中相关概念回顾完毕；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"添加文档\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用后台管理系统，向Solr中添加文档。文档的数据格式可以是JSON，也可以XML；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以JSON的形式添加文档：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_175634.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以XML的形式添加文档\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_180244.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通常我们可以添加一些测试数据；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改数据\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr要求每一个文档都需要有一个id域；如果添加的文档id在SolrCore中已经存在，即可完成数据修改；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"删除数据\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"只能通过XML的格式删除文档；下面我们提供2种删除方式\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"根据id删除\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <delete>\\r\\n  <id>8</id>\\r\\n  </delete>\\r\\n  <commit/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <delete>\\r\\n  <id>8</id>\\r\\n  </delete>\\r\\n  <commit/>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"根据条件删除，需要指定查询的字符串，根据查询的字符串删除。查询字符串如何编写，后面详细讲解。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <delete>\\r\\n  <query>*:*</query>\\r\\n  </delete>\\r\\n  <commit/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <delete>\\r\\n  <query>*:*</query>\\r\\n  </delete>\\r\\n  <commit/>\\n\"}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"322-analyse\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.2 Analyse\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：测试域/域类型（后面讲解）分词效果；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们在讲解倒排索引的时候，当我们向Solr中添加一个文档，底层首先要对文档域中的数据进行分词。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"建立词和文档关系。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试刚才添加文档的域id ,title,name域的分词效果；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"思考的问题？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"id为什么不分词，name域为什么可以分词？\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"name域可以对中文进行分词吗?\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"添加文档的时候，域名可以随便写吗？\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要想搞清楚这些问题，我们需要学习Solr的配置；\"}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"324-solr的配置-field\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.4 Solr的配置-Field\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中我们需要学习其中4个配置文件；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrHome中solr.xml\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrCore/conf中solrconfig.xml\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrCore/confSolrCore中managed-schema\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrCore/conf/data-config.xml\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"managed-schema【最常用】\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中进行索引时，文档中的域需要提前在managed-schema文件中定义，在这个文件中，solr已经提前定义了一些域，比如我们之前使用的id,price,title域。通过管理界面查看已经定义的域；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_202315.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下面就是solr中一定定义好的一个域,name\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"name\\\" type=\\\"text_general\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"name\\\" type=\\\"text_general\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"field标签：定义一个域；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​name属性：域名\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​indexed:是否索引，是否可以根据该域进行搜索；一般哪些域不需要搜索，图片路径。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​stored:是否存储，将来查询的文档中是否包含该域的数据； 商品的描述。\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​举例：将图书的信息存储到Solr中；Description域。indexed设置为true，store设置成false；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"可以根据商品描述域进行查询，但是查询出来的文档中是不包含description域的数据；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_203024.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"multiValued：是否多值，该域是否可以存储一个数组； 图片列表；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"required:是否必须创建文档的时候，该域是否必须；id\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"type:域类型，决定该域使用的分词器。分词器可以决定该域的分词效果（分词，不分词，是否支持中文分词）。域的类型在使用之前必须提前定义；在solr中已经提供了很多的域类型\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_general\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <!-- in this example, we will only use synonyms at query time\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"index_synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"false\\\"/>\\r\\n    <filter class=\\\"solr.FlattenGraphFilterFactory\\\"/>\\r\\n    -->\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"true\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_general\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <!-- in this example, we will only use synonyms at query time\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"index_synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"false\\\"/>\\r\\n    <filter class=\\\"solr.FlattenGraphFilterFactory\\\"/>\\r\\n    -->\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"true\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"自定义一个商品描述域：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_description\\\" type=\\\"text_general\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_description\\\" type=\\\"text_general\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义一个图片域\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_image\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\" multiValued=true/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_image\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\" multiValued=true/>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启solr\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试分词效果\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过测试我们发现text_general域类型，支持英文分词，不支持中文分词；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_211511.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试定义域\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试添加文档\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"{\\\"id\\\":\\\"1101\\\",\\\"name\\\":\\\"java编程思想\\\",\\\"item_image\\\":[\\\"big.jpg\\\",\\\"small.jpg\\\"],\\\"item_description\\\":\\\"lucene是apache的开源项目，是一个全文检索的工具包。\\\"}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\\"id\\\":\\\"1101\\\",\\\"name\\\":\\\"java编程思想\\\",\\\"item_image\\\":[\\\"big.jpg\\\",\\\"small.jpg\\\"],\\\"item_description\\\":\\\"lucene是apache的开源项目，是一个全文检索的工具包。\\\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试item_description域搜索\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_213638.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过我们测试，我们发现可以通过item_description域进行搜索，但是搜索结果的文档中是没有item_description域的数据的；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试item_pic域搜索\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_213755.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过我们测试，我们发现不能通过item_pic域进行搜索；\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"325-solr的配置-fieldtype\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.5 Solr的配置-FieldType\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"概述\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一章节我们讲解了Field的定义。接下来我们要讲解的是FieldType域类型；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"刚才我们给大家讲解了如何在schema文件中定义域，接下来我们要讲解域类型如何定义；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"每个域都需要指定域类型，而且域类型必须提前定义。域类型决定该域使用的索引和搜索的分词器，影响分词效果。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中已经提供好了一些域类型；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"text_general：支持英文分词，不支持中文分词；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"string：不分词；适合于id,订单号等。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pfloat:适合小数类型的域，特殊分词，支持大小比较；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pdate:适合日期类型的域，特殊分词，支持大小比较；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pint:适合整数类型的域，特殊分词，支持大小比较；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"plong:适合长整数类型的域，特殊分词，支持大小比较；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们以text_general为例看一下如何定义FiledType.text_general是solr中已经提供好的一个域类型；他的定义如下；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_general\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <!-- in this example, we will only use synonyms at query time\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"index_synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"false\\\"/>\\r\\n    <filter class=\\\"solr.FlattenGraphFilterFactory\\\"/>\\r\\n    -->\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"true\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_general\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <!-- in this example, we will only use synonyms at query time\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"index_synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"false\\\"/>\\r\\n    <filter class=\\\"solr.FlattenGraphFilterFactory\\\"/>\\r\\n    -->\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"true\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"3251-相关属性\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.5.1 相关属性\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"name（重点）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"域类型名称，定义域类型的必须指定，并且要唯一\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将来定义域的时候需要指定通过域名称来指定域类型；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"class（重点）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"域类型对应的java类，必须指定。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果该类是solr中的内置类，使用solr.类名指定即可。如果该类是第三方的类，需要指定全类名。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果class是TextField，我们还需要使用\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\"}]},{\"type\":\"text\",\"value\":\"子标签来配置分析器；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"positionIncrementGap（了解）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"用于多值字段，定义多值间的间隔，来阻止假的短语匹配。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"autoGeneratePhraseQueries（了解）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"用于文本字段，如果设为true，solr会自动对该字段的查询生成短语查询，即使搜索文本没带“”\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"enableGraphQueries\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"是否支持图表查询（了解）\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"docValuesFormat（了解）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"docValues字段的存储格式化器：schema-aware codec，配置在solrconfig.xml中的\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"postingsFormat（了解）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"词条格式器：schema-aware codec，配置在solrconfig.xml中的\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"3252-solr自带的fieldtype类\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.5.2 Solr自带的FieldType类\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr除了提供了TextField类，我们也可以查看它提供的其他的FiledType类，我们可以通过官网查看其他的FieldType类的作用：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/field-types-included-with-solr.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/field-types-included-with-solr.html\"}]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581600836129\",\"src\":\"imgs/1581600836129.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以上的FieldType类的使用，我们不会一一进行讲解，只会讲解常用的一部分；\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"3253-fieldtype常用类的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.5.3 FieldType常用类的使用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"首先我们来讲解第一个FieldType类；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-13_214028.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"TextField：支持对字符类型的数据进行分词；对于 solr.TextField 域类型，需要为其定义分析器;\"}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"分析器的基本概念\"},\"children\":[{\"type\":\"text\",\"value\":\"分析器的基本概念\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分析器就是将用户输入的一串文本分割成一个个token，一个个token组成了tokenStream，然后遍历tokenStream对其进行过滤操作，比如去除停用词,特殊字符，标点符号和统一转化成小写的形式等。分词的准确的准确性会直接影响搜索的结果，从某种程度上来讲，分词的算法不同，都会影响返回的结果。因此分析器是搜索的基础；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分析器的工作流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分词\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"过滤\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-13_231822.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在solr中已经为我们提供了很多的分词器及过滤器；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中提供的分词器tokenizer：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/tokenizers.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/tokenizers.html\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"标准分词器，经典分词器，关键字分词器，单词分词器等，不同的分词器分词的效果也不尽相同；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/22221.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中提供的过滤器tokenfilter：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/about-filters.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/about-filters.html\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"不同的过滤器过滤效果也不同，有些是去除标点符号的，有些是大写转化小写的；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581608541470\",\"src\":\"imgs/1581608541470.png\"},\"children\":[]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"常用分词器的介绍\"},\"children\":[{\"type\":\"text\",\"value\":\"常用分词器的介绍\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Standard Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Tokenizer将文本的空格和标点当做分隔符。注意，你的Email地址（含有@符合）可能会被分解开；用点号（就是小数点）连接的部分不会被分解开。对于有连字符的单词，也会被分解开。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入：“Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please”, “email”, “john.doe”, “foo.com”, “by”, “03”, “09”, “re”, “m37”, “xq\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入：“Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please”, “email”, “john.doe”, “foo.com”, “by”, “03”, “09”, “re”, “m37”, “xq\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Classic Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：基本与Standard Tokenizer相同。注意，用点号（就是小数点）连接的部分不会被分解开；用@号（Email中常用）连接的部分不会被分解开；互联网域名（比如wo.com.cn）不会被分解开；有连字符的单词，如果是数字连接也会被分解开。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.ClassicTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.ClassicTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please”, “email”, “john.doe@foo.com”, “by”, “03-09”, “re”, “m37-xq”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please”, “email”, “john.doe@foo.com”, “by”, “03-09”, “re”, “m37-xq”\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Keyword Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：把整个输入文本当做一个整体。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.KeywordTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.KeywordTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Letter Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：只处理字母，其他的符号都被认为是分隔符\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.LetterTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.LetterTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “I can’t.”\\r\\n输出： “I”, “can”, “t”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “I can’t.”\\r\\n输出： “I”, “can”, “t”\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lower Case Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：以非字母元素分隔，将所有的字母转化为小写。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.LowerCaseTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.LowerCaseTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “I just LOVE my iPhone!”\\r\\n输出： “i”, “just”, “love”, “my”, “iphone”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “I just LOVE my iPhone!”\\r\\n输出： “i”, “just”, “love”, “my”, “iphone”\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"N-Gram Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：将输入文本转化成指定范围大小的片段的词，注意，空格也会被当成一个字符处理；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"minGramSize\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，默认1\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最小的片段大小，需大于0\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"maxGramSize\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，默认2\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最大的片段大小，需大于最小值\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.NGramTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.NGramTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “hey man”\\r\\n输出： “h”, “e”, “y”, ” “, “m”, “a”, “n”, “he”, “ey”, “y “, ” m”, “ma”, “an”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “hey man”\\r\\n输出： “h”, “e”, “y”, ” “, “m”, “a”, “n”, “he”, “ey”, “y “, ” m”, “ma”, “an”\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.NGramTokenizerFactory\\\" minGramSize=\\\"4\\\" maxGramSize=\\\"5\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.NGramTokenizerFactory\\\" minGramSize=\\\"4\\\" maxGramSize=\\\"5\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “bicycle”\\r\\n输出： “bicy”, “bicyc”, “icyc”, “icycl”, “cycl”, “cycle”, “ycle“\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “bicycle”\\r\\n输出： “bicy”, “bicyc”, “icyc”, “icycl”, “cycl”, “cycle”, “ycle“\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Edge N-Gram Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：用法和N-Gram Tokenizer类似\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"minGramSize\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，默认1\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最小的片段大小，需大于0\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"maxGramSize\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，默认1\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最大的片段大小，需大于或等于最小值\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"side\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"“front” 或 “back”, 默认”front”\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定从哪个方向进行解析\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" />\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" />\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “babaloo”\\r\\n输出： “b”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “babaloo”\\r\\n输出： “b”\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" minGramSize=\\\"2\\\" maxGramSize=\\\"5\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" minGramSize=\\\"2\\\" maxGramSize=\\\"5\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “babaloo”\\r\\n输出： “ba”, “bab”, “baba”, “babal”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “babaloo”\\r\\n输出： “ba”, “bab”, “baba”, “babal”\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子3：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" minGramSize=\\\"2\\\" maxGramSize=\\\"5\\\" side=\\\"back\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" minGramSize=\\\"2\\\" maxGramSize=\\\"5\\\" side=\\\"back\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “babaloo”\\r\\n输出： “oo”, “loo”, “aloo”, “baloo”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “babaloo”\\r\\n输出： “oo”, “loo”, “aloo”, “baloo”\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Regular Expression Pattern Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：可以指定正则表达式来分析文本。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"attern\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"必选项\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"正规表达式\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"roup\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数字，可选，默认-1\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"负数表示用正则表达式做分界符；非正数表示只分析满足正则表达式的部分；0表示满足整个正则表达式；大于0表示满足正则表达式的第几个括号中的部分\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"\\\\s*,\\\\s*\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"\\\\s*,\\\\s*\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “fee,fie, foe , fum”\\r\\n输出： “fee”, “fie”, “foe”, “fum”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “fee,fie, foe , fum”\\r\\n输出： “fee”, “fie”, “foe”, “fum”\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"[A-Z][A-Za-z]*\\\" group=\\\"0\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"[A-Z][A-Za-z]*\\\" group=\\\"0\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “Hello. My name is Inigo Montoya. You killed my father. Prepare to die.”\\r\\n输出： “Hello”, “My”, “Inigo”, “Montoya”, “You”, “Prepare”\\r\\n这里的group为0，表示必须满足整个表达式，正则表达式的含义是以大写字母开头，之后是大写字母或小写字母的组合。\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “Hello. My name is Inigo Montoya. You killed my father. Prepare to die.”\\r\\n输出： “Hello”, “My”, “Inigo”, “Montoya”, “You”, “Prepare”\\r\\n这里的group为0，表示必须满足整个表达式，正则表达式的含义是以大写字母开头，之后是大写字母或小写字母的组合。\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子3：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"(SKU|Part(\\\\sNumber)?):?\\\\s(\\\\[0-9-\\\\]+)\\\" group=\\\"3\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"(SKU|Part(\\\\sNumber)?):?\\\\s(\\\\[0-9-\\\\]+)\\\" group=\\\"3\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “SKU: 1234, Part Number 5678, Part: 126-987”\\r\\n输出： “1234”, “5678”, “126-987”\\r\\n这个group等于3，表示满足第三个括号”[0-9-]+”中的正则表达式\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “SKU: 1234, Part Number 5678, Part: 126-987”\\r\\n输出： “1234”, “5678”, “126-987”\\r\\n这个group等于3，表示满足第三个括号”[0-9-]+”中的正则表达式\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"White Space Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Tokenizer将文本的空格当做分隔符。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"rule\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认java\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"如何定义空格\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.WhitespaceTokenizerFactory\\\" rule=\\\"java\\\" />\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.WhitespaceTokenizerFactory\\\" rule=\\\"java\\\" />\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “To be, or what?”\\r\\n输出： “To”, “be,”, “or”, “what?”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"输入： “To be, or what?”\\r\\n输出： “To”, “be,”, “or”, “what?”\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在这些分词器中，我们最常用的一个分词器。Standard Tokenizer；但也仅仅只能对英文进行分词；\"}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"常用过滤器介绍\"},\"children\":[{\"type\":\"text\",\"value\":\"常用过滤器介绍\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一小结我们学习了Solr中的常用分词器，接下来我们讲解过滤器。过滤器是对分词器的分词结果进行再次处理，比如：将词转化为小写，排除掉停用词等。\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lower Case Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用:这个Filter将所有的词中大写字符转化为小写\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “Down With CamelCase” \\r\\n输入： “Down”, “With”, “CamelCase” \\r\\n输出： “down”, “with”, “camelcase”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “Down With CamelCase” \\r\\n输入： “Down”, “With”, “CamelCase” \\r\\n输出： “down”, “with”, “camelcase”\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Length Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Filter处理在给定范围长度的tokens。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"min\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，必填\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最小的token长度\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"max\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，必填，需大于min\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最大的token长度\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.LengthFilterFactory\\\" min=\\\"3\\\" max=\\\"7\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.LengthFilterFactory\\\" min=\\\"3\\\" max=\\\"7\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “turn right at Albuquerque” \\r\\n输入： “turn”, “right”, “at”, “Albuquerque” \\r\\n输出： “turn”, “right”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “turn right at Albuquerque” \\r\\n输入： “turn”, “right”, “at”, “Albuquerque” \\r\\n输出： “turn”, “right”\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pattern Replace Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Filter可以使用正则表达式来替换token的一部分内容，与正则表达式想匹配的被替换，不匹配的不变。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"pattern\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"必填，正则表达式\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"需要匹配的正则表达式\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"replacement\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"必填，字符串\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"需要替换的部分\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"replace\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"“all” 或 “first”, 默认”all”\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"全部替换还是，只替换第一个\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.PatternReplaceFilterFactory\\\" pattern=\\\"cat\\\" replacement=\\\"dog\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.PatternReplaceFilterFactory\\\" pattern=\\\"cat\\\" replacement=\\\"dog\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “cat concatenate catycat” \\r\\n输入： “cat”, “concatenate”, “catycat” \\r\\n输出： “dog”, “condogenate”, “dogydog”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “cat concatenate catycat” \\r\\n输入： “cat”, “concatenate”, “catycat” \\r\\n输出： “dog”, “condogenate”, “dogydog”\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.PatternReplaceFilterFactory\\\" pattern=\\\"cat\\\" replacement=\\\"dog\\\" replace=\\\"first\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.PatternReplaceFilterFactory\\\" pattern=\\\"cat\\\" replacement=\\\"dog\\\" replace=\\\"first\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “cat concatenate catycat” \\r\\n输入： “cat”, “concatenate”, “catycat” \\r\\n输出： “dog”, “condogenate”, “dogycat”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “cat concatenate catycat” \\r\\n输入： “cat”, “concatenate”, “catycat” \\r\\n输出： “dog”, “condogenate”, “dogycat”\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Stop Words Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Filter会在解析时忽略给定的停词列表（stopwords.txt）中的内容；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"words\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"可选，停词列表\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定停词列表的路径\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"format\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"可选，如”snowball”\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"停词列表的格式\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ignoreCase\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值，默认false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"是否忽略大小写\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"保留词列表stopwords.txt \\r\\nbe \\r\\nor \\r\\nto \\n\",\"language\":\"txt\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"保留词列表stopwords.txt \\r\\nbe \\r\\nor \\r\\nto \\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “To be or what?” \\r\\n输入： “To”(1), “be”(2), “or”(3), “what”(4) \\r\\n输出： “To”(1), “what”(4)\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “To be or what?” \\r\\n输入： “To”(1), “be”(2), “or”(3), “what”(4) \\r\\n输出： “To”(1), “what”(4)\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\" ignoreCase=\\\"true\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\" ignoreCase=\\\"true\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"保留词列表stopwords.txt \\r\\nbe \\r\\nor \\r\\nto \\n\",\"language\":\"txt\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"保留词列表stopwords.txt \\r\\nbe \\r\\nor \\r\\nto \\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “To be or what?” \\r\\n输入： “To”(1), “be”(2), “or”(3), “what”(4) \\r\\n输出： “what”(4)\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “To be or what?” \\r\\n输入： “To”(1), “be”(2), “or”(3), “what”(4) \\r\\n输出： “what”(4)\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Keep Word Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Filter将不属于列表中的单词过滤掉。和\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Stop Words Filter\"}]},{\"type\":\"text\",\"value\":\"的效果相反。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"words\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"必填，以.txt结尾的文件\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"提供保留词列表\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ignoreCase\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值，默认false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"是否忽略保留词列表大小写\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.KeepWordFilterFactory\\\" words=\\\"keepwords.txt\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.KeepWordFilterFactory\\\" words=\\\"keepwords.txt\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"保留词列表keepwords.txt \\r\\nhappy \\r\\nfunny \\r\\nsilly \\n\",\"language\":\"txt\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"保留词列表keepwords.txt \\r\\nhappy \\r\\nfunny \\r\\nsilly \\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “Happy, sad or funny” \\r\\n输入： “Happy”, “sad”, “or”, “funny” \\r\\n输出： “funny”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “Happy, sad or funny” \\r\\n输入： “Happy”, “sad”, “or”, “funny” \\r\\n输出： “funny”\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.KeepWordFilterFactory\\\" words=\\\"keepwords.txt\\\" ignoreCase=\\\"true\\\" />\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.KeepWordFilterFactory\\\" words=\\\"keepwords.txt\\\" ignoreCase=\\\"true\\\" />\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"保留词列表keepwords.txt \\r\\nhappy \\r\\nfunny \\r\\nsilly \\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"保留词列表keepwords.txt \\r\\nhappy \\r\\nfunny \\r\\nsilly \\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “Happy, sad or funny” \\r\\n输入： “Happy”, “sad”, “or”, “funny” \\r\\n输出： “Happy”, “funny”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “Happy, sad or funny” \\r\\n输入： “Happy”, “sad”, “or”, “funny” \\r\\n输出： “Happy”, “funny”\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Synonym Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Filter用来处理同义词；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"synonyms\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"必选，以.txt结尾的文件\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定同义词列表\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ignoreCase\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值，默认false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"是否忽略大小写\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"format\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"可选，默认solr\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定解析同义词的策略\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"注意，常用的同义词列表格式： \\r\\n1. 以#开头的行为注释内容，忽略 \\r\\n2. 以,分隔的文本，为双向同义词，左右内容等价，互为同义词 \\r\\n3. 以=>分隔的文本，为单向同义词，匹配到左边内容，将替换为右边内容，反之不成立\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"注意，常用的同义词列表格式： \\r\\n1. 以#开头的行为注释内容，忽略 \\r\\n2. 以,分隔的文本，为双向同义词，左右内容等价，互为同义词 \\r\\n3. 以=>分隔的文本，为单向同义词，匹配到左边内容，将替换为右边内容，反之不成立\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.SynonymFilterFactory\\\" synonyms=\\\"mysynonyms.txt\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.SynonymFilterFactory\\\" synonyms=\\\"mysynonyms.txt\\\"/>\\r\\n</analyzer>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"同义词列表synonyms.txt \\r\\ncouch,sofa,divan \\r\\nteh => the \\r\\nhuge,ginormous,humungous => large \\r\\nsmall => tiny,teeny,weeny \\n\",\"language\":\"txt\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"同义词列表synonyms.txt \\r\\ncouch,sofa,divan \\r\\nteh => the \\r\\nhuge,ginormous,humungous => large \\r\\nsmall => tiny,teeny,weeny \\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “teh small couch” \\r\\n输入： “teh”(1), “small”(2), “couch”(3) \\r\\n输出： “the”(1), “tiny”(2), “teeny”(2), “weeny”(2), “couch”(3), “sofa”(3), “divan”(3)\\r\\n\\r\\n原始文本： “teh ginormous, humungous sofa” \\r\\n输入： “teh”(1), “ginormous”(2), “humungous”(3), “sofa”(4) \\r\\n输出： “the”(1), “large”(2), “large”(3), “couch”(4), “sofa”(4), “divan”(4)\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “teh small couch” \\r\\n输入： “teh”(1), “small”(2), “couch”(3) \\r\\n输出： “the”(1), “tiny”(2), “teeny”(2), “weeny”(2), “couch”(3), “sofa”(3), “divan”(3)\\r\\n\\r\\n原始文本： “teh ginormous, humungous sofa” \\r\\n输入： “teh”(1), “ginormous”(2), “humungous”(3), “sofa”(4) \\r\\n输出： “the”(1), “large”(2), “large”(3), “couch”(4), “sofa”(4), “divan”(4)\\n\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"textfield的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"TextField的使用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"前面我们已经学习完毕solr中的分词器和过滤器，有了这些知识的储备后，我们就可以使用TextField这种类定义FieldType.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们说过，在我们在使用TextField作为FieldType的class的时候，必须指定Analyzer，用一个\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\"}]},{\"type\":\"text\",\"value\":\"标签来声明一个Analyzer；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"方式一：直接通过class属性指定分析器类，该类必须继承org.apache.lucene.analysis.Analyzer\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer class=\\\"org.apache.lucene.analysis.core.WhitespaceAnalyzer\\\"/>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer class=\\\"org.apache.lucene.analysis.core.WhitespaceAnalyzer\\\"/>\\r\\n</fieldType>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这里的\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"WhitespaceAnalyzer\"}]},{\"type\":\"text\",\"value\":\"就是一种分析器，这个分析器中封装了我们之前讲过了一个分词器WhitespaceTokenizer。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这种方式写起来比较简单，但是透明度不够，使用者可能不知道这个分析器中封装了哪些分词器和过滤器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_170052.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于那些复杂的分析需求，我们也可以在分析器中灵活地组合分词器、过滤器；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"方式二：可以灵活地组合分词器、过滤器\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_170312.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"方式三：如果该类型字段索引、查询时需要使用不同的分析器，则需区分配置analyzer\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n    <filter class=\\\"solr.SynonymFilterFactory\\\" synonyms=\\\"syns.txt\\\"/>\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n    <filter class=\\\"solr.SynonymFilterFactory\\\" synonyms=\\\"syns.txt\\\"/>\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试索引分词效果：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_171445.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试搜索分词效果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_171626.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过测试我们发现索引和搜索产生的分词结果是不同；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"接下来我们使用myFeildType3定义一个域。使用该域创建一个文档。我们来测试；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_172756.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_content:sofa可以搜索到吗？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"索引的时候:   sofa被分为couch,sofa,divan；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581672842954\",\"src\":\"imgs/1581672842954.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索的时候，sofa这个内容就被分为sofa这一个词；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_content:couch可以搜索到吗？\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_content:small可以搜索到吗？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"索引的时候,small经过同义词过滤器变成 tiny,teeny,weeny 。small并没有和文档建立倒排索引关系；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索的时候small内容只能被分为samll这个词；所以找不到；\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结论:\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"所以一般我们在定义FieldType的时候，索引和搜索往往使用的分析器规则相同；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"或者索引的时候采用细粒度的分词器,目的是让更多的词和文档建立倒排索引；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索的时候使用粗粒度分词器，词分的少一点，提高查询的精度；\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"daterangefield的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"DateRangeField的使用\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_175844.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中提供的时间域类型（ DatePointField, DateRangeField）是以时间毫秒数来存储时间的。要求域值以ISO-8601标准格式来表示时间：yyyy-MM-ddTHH:mm:ssZ。Z表示是UTC时间，如1999-05-20T17:33:18Z；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"秒上可以带小数来表示毫秒如：1972-05-20T17:33:18.772Z、1972-05-20T17:33:18.77Z、1972-05-20T17:33:18.7Z\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"秒上可以带小数来表示毫秒如：1972-05-20T17:33:18.772Z、1972-05-20T17:33:18.77Z、1972-05-20T17:33:18.7Z\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"域类型定义很简单：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"myDate\\\" class=\\\"solr.DateRangeField\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"myDate\\\" class=\\\"solr.DateRangeField\\\" />\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用myDate域类型定义一个域\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_birthday\\\" type=\\\"myDate\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_birthday\\\" type=\\\"myDate\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"基于item_birthday域来索引\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"{\\\"id\\\":666777,\\\"name\\\":\\\"xiaoming\\\",\\\"item_birthday\\\":\\\"2020-3-6T19:21:22Z\\\"}\\r\\n{\\\"id\\\":777888,\\\"name\\\":\\\"misscang\\\",\\\"item_birthday\\\":\\\"2020-3-6T19:22:22.333Z\\\"}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\\"id\\\":666777,\\\"name\\\":\\\"xiaoming\\\",\\\"item_birthday\\\":\\\"2020-3-6T19:21:22Z\\\"}\\r\\n{\\\"id\\\":777888,\\\"name\\\":\\\"misscang\\\",\\\"item_birthday\\\":\\\"2020-3-6T19:22:22.333Z\\\"}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如何基于item_birthday搜索\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"语法：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"查询时如果是直接的时间串，需要用转义字符进行转义：\\r\\nitem_birthday:2020-2-14T19\\\\:21\\\\:22Z\\r\\n#用字符串表示的则不需要转义\\r\\nitem_birthday:\\\"2020-2-14T19:21:22Z\\\"\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"查询时如果是直接的时间串，需要用转义字符进行转义：\\r\\nitem_birthday:2020-2-14T19\\\\:21\\\\:22Z\\r\\n#用字符串表示的则不需要转义\\r\\nitem_birthday:\\\"2020-2-14T19:21:22Z\\\"\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"DateRangeField除了支持精确时间查询，也支持对间段数据的搜索，支持两种时间段表示方式：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"方式一：截断日期，它表示整个日期跨度的精确指示。\\r\\n方式二：时间范围，语法 [t1 TO t2] {t1 TO t2}，中括号表示包含边界，大括号表示不包含边界\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"方式一：截断日期，它表示整个日期跨度的精确指示。\\r\\n方式二：时间范围，语法 [t1 TO t2] {t1 TO t2}，中括号表示包含边界，大括号表示不包含边界\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"2000-11  #表示2000年11月整个月.\\r\\n2000-11T13  #表示2000年11月每天的13点这一个小时\\r\\n[2000-11-01 TO 2014-12-01]  #日到日\\r\\n[2014 TO 2014-12-01]  #2014年开始到2014-12-01止.\\r\\n[* TO 2014-12-01]  #2014-12-01(含）前.\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"2000-11  #表示2000年11月整个月.\\r\\n2000-11T13  #表示2000年11月每天的13点这一个小时\\r\\n[2000-11-01 TO 2014-12-01]  #日到日\\r\\n[2014 TO 2014-12-01]  #2014年开始到2014-12-01止.\\r\\n[* TO 2014-12-01]  #2014-12-01(含）前.\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"item_birthday:2020-11-21   \\r\\nitem_birthday:[2020-02-14T19:21 TO 2020-02-14T19:22]\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"item_birthday:2020-11-21   \\r\\nitem_birthday:[2020-02-14T19:21 TO 2020-02-14T19:22]\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中还支持用 【NOW ±/ 时间】的数学表达式来灵活表示时间。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"NOW+1MONTH  #当前时间加上1个月\\r\\nNOW+2MONTHS  #当前时间加上两个月，复数要机上S\\r\\nNOW-1DAY\\r\\nNOW-2DAYS\\r\\nNOW/DAY, NOW/HOURS表示，截断。如果当前时间是2017-05-20T23:32:33Z，那么即是2017-05-20T00:00:00Z，2017-05-20T23:00:00Z。取当日的0点，去当前小时0点\\r\\nNOW+6MONTHS+3DAYS/DAY\\r\\n1972-05-20T17:33:18.772Z+6MONTHS+3DAYS/DAY\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"NOW+1MONTH  #当前时间加上1个月\\r\\nNOW+2MONTHS  #当前时间加上两个月，复数要机上S\\r\\nNOW-1DAY\\r\\nNOW-2DAYS\\r\\nNOW/DAY, NOW/HOURS表示，截断。如果当前时间是2017-05-20T23:32:33Z，那么即是2017-05-20T00:00:00Z，2017-05-20T23:00:00Z。取当日的0点，去当前小时0点\\r\\nNOW+6MONTHS+3DAYS/DAY\\r\\n1972-05-20T17:33:18.772Z+6MONTHS+3DAYS/DAY\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"item_birthday:[NOW-3MONTHS  TO NOW] 生日在三个月内的；\\r\\nitem_birthday:[NOW/DAY TO NOW] 当前时间的0点到当前时间\\r\\nitem_birthday:[NOW/HOURS TO NOW] 当前小时的0点到当前时间\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"item_birthday:[NOW-3MONTHS  TO NOW] 生日在三个月内的；\\r\\nitem_birthday:[NOW/DAY TO NOW] 当前时间的0点到当前时间\\r\\nitem_birthday:[NOW/HOURS TO NOW] 当前小时的0点到当前时间\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"enumfieldtype的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"EnumFieldType的使用\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-13_214309.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"EnumFieldType 用于域值是一个枚举集合，且排序顺序可预定的情况，如新闻分类这样的字段。如果我们想定义一个域类型，他的域值只能取指定的值，我们就可以使用EnumFieldType 定义该域类型；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"域类型定义：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"mySex\\\" class=\\\"solr.EnumFieldType\\\" enumsConfig=\\\"enumsConfig.xml\\\" enumName=\\\"sexType\\\" docValues=\\\"true\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"mySex\\\" class=\\\"solr.EnumFieldType\\\" enumsConfig=\\\"enumsConfig.xml\\\" enumName=\\\"sexType\\\" docValues=\\\"true\\\" />\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"属性：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":\"left\"},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"left\"},\"children\":[{\"type\":\"text\",\"value\":\"enumsConfig\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"enumsConfig.xml\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定枚举值的配置文件，绝对路径或相对内核conf/的相对路径\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"left\"},\"children\":[{\"type\":\"text\",\"value\":\"enumName\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"任意字符串\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定配置文件的枚举名。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"left\"},\"children\":[{\"type\":\"text\",\"value\":\"docValues\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true/false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"枚举类型必须设置 true\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"enumsConfig.xml配置示例（若没有该文件则新建）如下：注意以UTF-8无BOM格式保存；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\r\\n  <enumsConfig>\\r\\n      <enum name=\\\"sexType\\\">\\r\\n          <value>男</value>\\r\\n          <value>女</value>\\r\\n      </enum>\\r\\n      <enum name=\\\"new_cat\\\">\\r\\n          <value>a</value>\\r\\n          <value>b</value>\\r\\n          <value>c</value>\\r\\n          <value>d</value>\\r\\n      </enum>\\r\\n  </enumsConfig>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\r\\n  <enumsConfig>\\r\\n      <enum name=\\\"sexType\\\">\\r\\n          <value>男</value>\\r\\n          <value>女</value>\\r\\n      </enum>\\r\\n      <enum name=\\\"new_cat\\\">\\r\\n          <value>a</value>\\r\\n          <value>b</value>\\r\\n          <value>c</value>\\r\\n          <value>d</value>\\r\\n      </enum>\\r\\n  </enumsConfig>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_sex\\\" type=\\\"mySex\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_sex\\\" type=\\\"mySex\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"基于item_sex进行索引\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"{\\\"id\\\":123321,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"男\\\"}\\r\\n{\\\"id\\\":456564,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"女\\\"}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\\"id\\\":123321,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"男\\\"}\\r\\n{\\\"id\\\":456564,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"女\\\"}\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以下报错\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"{\\\"id\\\":789987,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"妖\\\"}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"{\\\"id\\\":789987,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"妖\\\"}\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_220617.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"基于item_sex进行搜索\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_sex:男\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_sex:女\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"326-solr的配置-dynamicfield-动态域\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.6  Solr的配置-DynamicField 动态域\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在schema文件中我们还可以看到一种标签dynamicField，这个标签也是用来定义域的；他和field标签有什么区别呢\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：如果某个业务中有近百个域需要定义，其中有很多域类型是相同，重复地定义域就十分的麻烦，因此可以定一个域名的规则，索引的时候，只要域名符合该规则即可；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如：整型域都是一样的定义，则可以定义一个动态域如下\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<dynamicField name=\\\"*_i\\\" type=\\\"pint\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<dynamicField name=\\\"*_i\\\" type=\\\"pint\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"注意：动态域只能用符号*通配符进行表示，且只有前缀和后缀两种方式\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"基于动态域索引；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# bf_i就是符合上面动态域的域名；\\r\\n{\\\"id\\\":38383,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"女\\\", \\\"bf_i\\\":5}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"# bf_i就是符合上面动态域的域名；\\r\\n{\\\"id\\\":38383,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"女\\\", \\\"bf_i\\\":5}\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"327-solr的配置-复制域\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.7  Solr的配置-复制域\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在schema文件中我们还可以看到一种标签\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<copyField />\"}]},{\"type\":\"text\",\"value\":\"，这个标签是用来定义复制域的；复制域的作用是什么呢？\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：复制域允许将一个或多个域的数据填充到另外一个域中。他的最主要的作用，基于某一个域搜索，相当于在多个域中进行搜索；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <copyField source=\\\"cat\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"name\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"manu\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"features\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"includes\\\" dest=\\\"text\\\"/>\\r\\n  <!-- cat name manu features includes text都是solr提前定义好的域。\\r\\n  将 cat name manu features includes域的内容填充到text域中；\\r\\n  将来基于text域进行搜索，相当于在cat name manu features includes域中搜索； -->\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <copyField source=\\\"cat\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"name\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"manu\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"features\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"includes\\\" dest=\\\"text\\\"/>\\r\\n  <!-- cat name manu features includes text都是solr提前定义好的域。\\r\\n  将 cat name manu features includes域的内容填充到text域中；\\r\\n  将来基于text域进行搜索，相当于在cat name manu features includes域中搜索； -->\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"索引:\\r\\n{\\\"id\\\":1,\\\"name\\\":\\\"pitter wang\\\"}\\r\\n{\\\"id\\\":2,\\\"name\\\":\\\"pitter ma\\\"}\\r\\n{\\\"id\\\":3,\\\"manu\\\":\\\"jack ma\\\"}\\r\\n{\\\"id\\\":4,\\\"manu\\\":\\\"joice liu\\\"}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"索引:\\r\\n{\\\"id\\\":1,\\\"name\\\":\\\"pitter wang\\\"}\\r\\n{\\\"id\\\":2,\\\"name\\\":\\\"pitter ma\\\"}\\r\\n{\\\"id\\\":3,\\\"manu\\\":\\\"jack ma\\\"}\\r\\n{\\\"id\\\":4,\\\"manu\\\":\\\"joice liu\\\"}\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索：\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"text:ma\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"text:ma\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_223845.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"328-solr的配置-主键域\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.8  Solr的配置-主键域\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"指定用作唯一标识文档的域，必须。在solr中默认将id域作为主键域；也可以将其他改为主键域，但是一般都不会修改；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\" <field name=\\\"id\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\" required=\\\"true\\\" multiValued=\\\"false\\\" /> \\r\\n <uniqueKey>id</uniqueKey>\\r\\n <!-- 注意：主键域不可作为复制域，且不能分词。 -->\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\" <field name=\\\"id\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\" required=\\\"true\\\" multiValued=\\\"false\\\" /> \\r\\n <uniqueKey>id</uniqueKey>\\r\\n <!-- 注意：主键域不可作为复制域，且不能分词。 -->\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"329-solr的配置-中文分词器\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.9  Solr的配置-中文分词器\"}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"中文分词器的介绍\"},\"children\":[{\"type\":\"text\",\"value\":\"中文分词器的介绍\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们给大家讲解Solr中的分词器的时候，我们说Solr中最常用的分词器是Standard Tokenizer，\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Standard Tokenizer可以对英文完成精确的分词，但是对中文分词是有问题的。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们在schema文件中定义的一个FieldType.name为myFeildType2，class为TextField。使用TextField定义的域类型需要指定分析器，该分析器中使用的分词器就是Standard Tokenizer。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"myFeildType2\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"myFeildType2\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试myFeildType2的分词效果：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_230646.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于这种分词效果，显然不符合我们的要求.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"中文分词一直以来是分词领域的一个难题，因为中文中的断词需要依赖语境。相同的一句话语境不同可能分出的词就不同。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中提供了一个中文分词器SmartCN。但是该分词器并没有纳入到Solr的正式包中，属于扩展包。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"位置：solr-7.7.2\\\\contrib\\\\analysis-extras\\\\lucene-libs\\\\lucene-analyzers-smartcn-7.7.2.jar\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"而且SmartCN对中文分词也不太理想，目前市面上比较主流的中文分词器有IK，MMSeg4J,Ansj,Jcseg,TCTCLAS,HanLP.等\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"接下来我们就介绍一下这些分词器。并且使用这些分词器定义FieldType；\"}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"ik-analyzer\"},\"children\":[{\"type\":\"text\",\"value\":\"IK Analyzer\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"IK Analyzer是一个基于java语言开发的轻量级中文分词器包。采用词典分词的原理，允许使用者扩展词库。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​1.下载地址：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/EugenePig/ik-analyzer-solr5\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/EugenePig/ik-analyzer-solr5\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​2.编译打包源码:mvn package\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​3.安装: 把ik-analyzer-solr5-5.x.jar拷贝到Tomcat的Solr/WEB-INF/lib目录；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​4.配置: 把IKAnalyzer.cfg.xml和stopword.dic(停用词库)，ext.dic(扩展词库)拷贝到Solr/WEB-INF/classes。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​5.使用IK的分析器定义FiledType，IKAnalyzer分析器中提供了中分词器和过滤器。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name =\\\"text_ik\\\" class =\\\"solr.TextField\\\">\\r\\n<analyzer  class=\\\"org.wltea.analyzer.lucene.IKAnalyzer\\\"/>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name =\\\"text_ik\\\" class =\\\"solr.TextField\\\">\\r\\n<analyzer  class=\\\"org.wltea.analyzer.lucene.IKAnalyzer\\\"/>\\r\\n</fieldType>\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试text_ik分词效果。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_001958.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"传智播客，被单字分词，此处我们也可以添加扩展词库，让传智播客分成一个词；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编辑Solr/WEB-INF/classes/ext.dic(扩展词库)，加入传智播客；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"再次测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_002440.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"ansj\"},\"children\":[{\"type\":\"text\",\"value\":\"Ansj\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Ansj 是一个开源的 Java 中文分词工具，基于中科院的 ictclas 中文分词算法，比其他常用的开源分词工具（如mmseg4j）的分词准确率更高。Ansj中文分词是一款纯Java的、主要应用于自然语言处理的、高精度的中文分词工具，目标是“准确、高效、自由地进行中文分词”，可用于人名识别、地名识别、组织机构名识别、多级词性标注、关键词提取、指纹提取等领域，支持行业词典、用户自定义词典。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下载ansj以及其依赖包nlp-lang的源码\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/NLPchina/ansj_seg\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/NLPchina/ansj_seg\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/NLPchina/nlp-lang\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/NLPchina/nlp-lang\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编译打包源码mvn package -DskipTests=true\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"打包ansj\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_094215.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"打包nlp-lang\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_094631.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入到ansj/plugin/ansj_lucene5_plugin目录，打包ansj_lucene5\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_100838.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装：将以上三个jar包复制到solr/WEB-INF/lib目录\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置：将ansj的词库和配置文件复制到solr/WEB-INF/classes目录\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_101316.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用ansj中提供的分析器，分词器配置FieldType\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_ansj\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"org.ansj.lucene.util.AnsjTokenizerFactory\\\" isQuery=\\\"false\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"org.ansj.lucene.util.AnsjTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_ansj\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"org.ansj.lucene.util.AnsjTokenizerFactory\\\" isQuery=\\\"false\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"org.ansj.lucene.util.AnsjTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_103042.png\"},\"children\":[]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"mmseg4j\"},\"children\":[{\"type\":\"text\",\"value\":\"MMSeg4J\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"mmseg4j用Chih-Hao Tsai 的MMSeg算法实现的中文分词工具包，并实现lucene的analyzer和solr的r中使用。 MMSeg 算法有两种分词方法：Simple和Complex，都是基于正向最大匹配。Complex加了四个规则。官方说：词语的正确识别率达到了 98.41%。mmseg4j已经实现了这两种分词算法。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下载mmseg4j-core及mmseg4J-solr的源码;\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"mmseg4j-core包含了一些词库；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"mmseg4J-solr包含了和solr整合相关的分析器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/chenlb/mmseg4j-core\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/chenlb/mmseg4j-core\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/chenlb/mmseg4j-solr\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/chenlb/mmseg4j-solr\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编译打包源码:mvn package\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装: 把 mmseg4j-core.jar和mmseg4J-solr.jar复制到Solr/WEB-INF/lib\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用mmseg4j的分析器定义FiledType，mmseg4j提供了3种不同模式。分别针对不同情况的解析。\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"tokenizer 的参数：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"dicPath 参数 － 设置词库位置，支持相对路径(相对于 solrCore).\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"mode 参数 － 分词模式。\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"complex：复杂模式，针对语义复杂的情况\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldtype name=\\\"textComplex\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"complex\\\" dicPath=\\\"dic\\\"/>\\r\\n</analyzer>\\r\\n</fieldtype>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldtype name=\\\"textComplex\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"complex\\\" dicPath=\\\"dic\\\"/>\\r\\n</analyzer>\\r\\n</fieldtype>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"max-word：最大词模式，针对分出的词最多\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldtype name=\\\"textMaxWord\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"max-word\\\" \\r\\n  dicPath=\\\"dic\\\"/>\\r\\n</analyzer>\\r\\n</fieldtype>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldtype name=\\\"textMaxWord\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"max-word\\\" \\r\\n  dicPath=\\\"dic\\\"/>\\r\\n</analyzer>\\r\\n</fieldtype>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"simple：简单模式，针对一般情况\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldtype name=\\\"textSimple\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"simple\\\" dicPath=\\\"dic\\\" />\\r\\n</analyzer>\\r\\n</fieldtype>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldtype name=\\\"textSimple\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"simple\\\" dicPath=\\\"dic\\\" />\\r\\n</analyzer>\\r\\n</fieldtype>\\n\"}]}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在collection1下创建词库目录dic\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将 mmseg4j-core/resources/data目录中的词库文件复制到solr_home/collection1/dic目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"chars.dic 是单字的词，一般不用改动我们不需要关心它。\\r\\nunits.dic 是单字的单位，一般不用改动我们不需要关心它。\\r\\nwords.dic 是词库文件，一行一词，可以自己进行扩展词库。\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"chars.dic 是单字的词，一般不用改动我们不需要关心它。\\r\\nunits.dic 是单字的单位，一般不用改动我们不需要关心它。\\r\\nwords.dic 是词库文件，一行一词，可以自己进行扩展词库。\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试mmseg4j分词效果。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"近一百多年来，总有一些公司很幸运地、有意识或者无意识地站在技术革命的浪尖之上。一旦处在了那个位置，即使不做任何事，也可以随着波浪顺顺当当地向前漂个十年甚至更长的时间。在这十几年间，它们代表着科技的浪潮，直到下一波浪潮的来临。从一百年前算起，AT&T公司、IBM公司、苹果(Apple)公司 、英特尔(Intel) 公司、微软(Microsoft) 公司、和谷歌(Google)公司都先后被幸运地推到了浪尖。虽然，它们来自不同的领域，中间有些已经衰落或者正在衰落，但是它们都极度辉煌过。这些公司里的人，无论职位高低，在外人看来，都是时代的幸运儿。因为，虽然对一个公司来说，赶上一次浪潮不能保证其长盛不衰；但是，对一个人来说，一生赶上一次这样的浪潮就足够了。一个弄潮的年轻人，最幸运的，莫过于赶上一波大潮。\\n\",\"language\":\"txt\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"近一百多年来，总有一些公司很幸运地、有意识或者无意识地站在技术革命的浪尖之上。一旦处在了那个位置，即使不做任何事，也可以随着波浪顺顺当当地向前漂个十年甚至更长的时间。在这十几年间，它们代表着科技的浪潮，直到下一波浪潮的来临。从一百年前算起，AT&T公司、IBM公司、苹果(Apple)公司 、英特尔(Intel) 公司、微软(Microsoft) 公司、和谷歌(Google)公司都先后被幸运地推到了浪尖。虽然，它们来自不同的领域，中间有些已经衰落或者正在衰落，但是它们都极度辉煌过。这些公司里的人，无论职位高低，在外人看来，都是时代的幸运儿。因为，虽然对一个公司来说，赶上一次浪潮不能保证其长盛不衰；但是，对一个人来说，一生赶上一次这样的浪潮就足够了。一个弄潮的年轻人，最幸运的，莫过于赶上一波大潮。\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_115814.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"综上所述可以看出，三种分词方法存在着一些同样的错误，比如名词“英特尔“和”谷歌“都没有识别出来。综合比较Complex的分词方法准确率最高。\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"jcseg\"},\"children\":[{\"type\":\"text\",\"value\":\"jcseg\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Jcseg是基于mmseg算法的一个轻量级Java中文分词工具包，同时集成了关键字提取，关键短语提取，关键句子提取和文章自动摘要等功能，并且提供了一个基于Jetty的web服务器，方便各大语言直接http调用，同时提供了最新版本的lucene，solr和elasticsearch的搜索分词接口;\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1.下载地址：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://gitee.com/lionsoul/jcseg\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://gitee.com/lionsoul/jcseg\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.编译打包源码jcseg-core,jcseg-analyzer\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_125323.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"3.安装: 将jcseg-analyze.jar和jcseg-core.jar复制到Solr/WEB-INF/lib目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"4.使用jcseg的分析器定义FieldType,Jcseg提供了很多模式；复杂模式最常用。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"(1).简易模式：FMM算法，适合速度要求场合。\\r\\n(2).复杂模式：MMSEG四种过滤算法，具有较高的歧义去除，分词准确率达到了98.41%。\\r\\n(3).检测模式：只返回词库中已有的词条，很适合某些应用场合。\\r\\n(4).最多模式：细粒度切分，专为检索而生，除了中文处理外（不具备中文的人名，数字识别等智能功能）其他与复杂模式一致（英文，组合词等）。\\r\\n(5).分隔符模式：按照给定的字符切分词条，默认是空格，特定场合的应用。\\r\\n(6).NLP模式：继承自复杂模式，更改了数字，单位等词条的组合方式，增加电子邮件，大陆手机号码，网址，人名，地名，货币等以及无限种自定义实体的识别与返回。\\r\\n(7).n-gram模式：CJK和拉丁系字符的通用n-gram切分实现。\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"(1).简易模式：FMM算法，适合速度要求场合。\\r\\n(2).复杂模式：MMSEG四种过滤算法，具有较高的歧义去除，分词准确率达到了98.41%。\\r\\n(3).检测模式：只返回词库中已有的词条，很适合某些应用场合。\\r\\n(4).最多模式：细粒度切分，专为检索而生，除了中文处理外（不具备中文的人名，数字识别等智能功能）其他与复杂模式一致（英文，组合词等）。\\r\\n(5).分隔符模式：按照给定的字符切分词条，默认是空格，特定场合的应用。\\r\\n(6).NLP模式：继承自复杂模式，更改了数字，单位等词条的组合方式，增加电子邮件，大陆手机号码，网址，人名，地名，货币等以及无限种自定义实体的识别与返回。\\r\\n(7).n-gram模式：CJK和拉丁系字符的通用n-gram切分实现。\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<!-- 复杂模式分词: -->\\r\\n<fieldtype name=\\\"text_jcseg\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"complex\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 简易模式分词: -->\\r\\n<fieldtype name=\\\"textSimple\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"simple\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 检测模式分词: -->\\r\\n<fieldtype name=\\\"textDetect\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"detect\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 检索模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"most\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- NLP模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"nlp\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 空格分隔符模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"delimiter\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- n-gram模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"ngram\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<!-- 复杂模式分词: -->\\r\\n<fieldtype name=\\\"text_jcseg\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"complex\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 简易模式分词: -->\\r\\n<fieldtype name=\\\"textSimple\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"simple\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 检测模式分词: -->\\r\\n<fieldtype name=\\\"textDetect\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"detect\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 检索模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"most\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- NLP模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"nlp\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 空格分隔符模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"delimiter\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- n-gram模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"ngram\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"扩展词库定义\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"jcseg也支持对词库进行扩展\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将jcseg的配置文件从jc-core/jcseg.properties复制到solr/WEB-INF/classess目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编辑jcseg.properties配置文件，指定lexicon.path即词库位置。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"lexicon.path = D:/jcseg/lexicon\\n\",\"language\":\"ini\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"lexicon.path = D:/jcseg/lexicon\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将jcseg\\\\vendors\\\\lexicon目录下的词库文件复制到 D:/jcseg/lexicon\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"jcseg对这些词库文件进行分类\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"修改词库文件lex-place.lex加入新词\\r\\n传智播客/ns/chuan zhi bo ke/null\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"修改词库文件lex-place.lex加入新词\\r\\n传智播客/ns/chuan zhi bo ke/null\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试jcseg分词效果。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_145844.png\"},\"children\":[]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"ictclas中科院分词器\"},\"children\":[{\"type\":\"text\",\"value\":\"ICTCLAS（中科院分词器）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"ICTCLAS分词器是中国科学院计算技术研究所在多年研究工作积累的基础上，研制出了汉语词法分析系统ICTCLAS(Institute of Computing Technology, Chinese Lexical Analysis System)，基于完全C/C++编写，主要功能包括中文分词；词性标注；命名实体识别；新词识别；同时支持用户词典。先后精心打造五年，内核升级6次，目前已经升级到了ICTCLAS3.0。ICTCLAS3.0分词速度单机996KB/s，分词精度98.45%，API不超过200KB，各种词典数据压缩后不到3M，是当前世界上最好的汉语词法分析器，商业收费。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下载ICTCLAS的分析器nlpir-analysis-cn-ictclas和ictclas SDK和jna.jar(java调用c的包)：\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​nlpir-analysis-cn-ictclas:\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/NLPIR-team/nlpir-analysis-cn-ictclas\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/NLPIR-team/nlpir-analysis-cn-ictclas\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"ictclas SDK:\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/NLPIR-team/NLPIR\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/NLPIR-team/NLPIR\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"jna.jar:\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://repo1.maven.org/maven2/net/java/dev/jna/jna/5.5.0/jna-5.5.0.jar\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://repo1.maven.org/maven2/net/java/dev/jna/jna/5.5.0/jna-5.5.0.jar\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编译：打包nlpir-analysis-cn-ictclas源码生成lucene-analyzers-nlpir-ictclas-6.6.0.jar\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装：将lucene-analyzers-nlpir-ictclas-6.6.0.jar,jna.jar复制到solr/WEB-INF/lib目录\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置：在tomcat/bin目录下创建配置文件nlpir.properties，为什么要在tomcat/bin目录中创建配置文件呢？\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我猜是他的代码中使用了相对路径。而不是读取classpath下面的文件；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"data=\\\"D:/javasoft/NLPIR/NLPIR SDK/NLPIR-ICTCLAS\\\" #Data directory‘s parent path，在ictclas SDK中；\\r\\nencoding=1 #0 GBK;1 UTF-8\\r\\nsLicenseCode=\\\"\\\" # License code，此处也可以看出其收费\\r\\nuserDict=\\\"\\\" # user dictionary, a text file\\r\\nbOverwrite=false # whether overwrite the existed user dictionary or not\\n\",\"language\":\"ini\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"data=\\\"D:/javasoft/NLPIR/NLPIR SDK/NLPIR-ICTCLAS\\\" #Data directory‘s parent path，在ictclas SDK中；\\r\\nencoding=1 #0 GBK;1 UTF-8\\r\\nsLicenseCode=\\\"\\\" # License code，此处也可以看出其收费\\r\\nuserDict=\\\"\\\" # user dictionary, a text file\\r\\nbOverwrite=false # whether overwrite the existed user dictionary or not\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置fieldType，指定对应的分析器\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_ictclas\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n    <analyzer type=\\\"index\\\">\\r\\n      <tokenizer class=\\\"org.nlpir.lucene.cn.ictclas.NLPIRTokenizerFactory\\\"/>\\r\\n    </analyzer>\\r\\n    <analyzer type=\\\"query\\\">\\r\\n      <tokenizer class=\\\"org.nlpir.lucene.cn.ictclas.NLPIRTokenizerFactory\\\"/>\\r\\n    </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_ictclas\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n    <analyzer type=\\\"index\\\">\\r\\n      <tokenizer class=\\\"org.nlpir.lucene.cn.ictclas.NLPIRTokenizerFactory\\\"/>\\r\\n    </analyzer>\\r\\n    <analyzer type=\\\"query\\\">\\r\\n      <tokenizer class=\\\"org.nlpir.lucene.cn.ictclas.NLPIRTokenizerFactory\\\"/>\\r\\n    </analyzer>\\r\\n</fieldType>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试text_ictclas分词效果。\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"hanlp\"},\"children\":[{\"type\":\"text\",\"value\":\"HanLP\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"HanLP是由一系列模型与算法组成的java开源工具包，目标是普及自然语言处理在生产环境中的应用。HanLP具备功能完善、性能高效、架构清晰、语料时新、可自定义的特点；提供词法分析（中文分词、词性标注、命名实体识别）、句法分析、文本分类和情感分析等功能。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1.下载词典\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://nlp.hankcs.com/download.php?file=data\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://nlp.hankcs.com/download.php?file=data\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.下载hanlp的jar包和配置文件\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://nlp.hankcs.com/download.php?file=jar\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://nlp.hankcs.com/download.php?file=jar\"}]},{\"type\":\"text\",\"value\":\"\\r\\n下载handlp整合lucene的jar包\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/hankcs/hanlp-lucene-plugin\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/hankcs/hanlp-lucene-plugin\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"3.将词典文件压缩包data-for-1.7.zip解压到指定位置 eg:d:/javasoft下；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_162746.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"4.安装: 将hanlp.jar和hanlp-lucene-plugin.jar包复制到solr/WEB-INF/lib\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"5.配置:将配置文件hanlp.properties复制solr/WEB-INF/classes\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_163034.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"6.配置：在hanlp.properties中指定词典数据的目录\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_163653.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"7.配置停用词，扩展词等。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_163759.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"8.使用HanLP中提供的分析器配置FieldType\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_hanlp\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n  <tokenizer class=\\\"com.hankcs.lucene.HanLPTokenizerFactory\\\" enableIndexMode=\\\"true\\\"/>\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n  <!-- 切记不要在query中开启index模式 -->\\r\\n  <tokenizer class=\\\"com.hankcs.lucene.HanLPTokenizerFactory\\\" enableIndexMode=\\\"false\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_hanlp\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n  <tokenizer class=\\\"com.hankcs.lucene.HanLPTokenizerFactory\\\" enableIndexMode=\\\"true\\\"/>\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n  <!-- 切记不要在query中开启index模式 -->\\r\\n  <tokenizer class=\\\"com.hankcs.lucene.HanLPTokenizerFactory\\\" enableIndexMode=\\\"false\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试test_hanlp分词效果。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_165658.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"中文分词器建议\"},\"children\":[{\"type\":\"text\",\"value\":\"中文分词器建议\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"介绍了这么多的中文分词器，在实际开发中我们如何进行选择呢？\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"中文分词器核心就是算法和字典，算法决定了分词的效率，字典决定了分词的结果。词库不完善导致词语分不出来，虽然可以通过扩展词典进行补充，但是补充只能是发现问题再去补充，所以分词器自动发现新词的功能就很重要。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"CRF（条件随机场）算法是目前最好的识别新词的分词算法。Ansj和HanLp都支持CRF，自动补充词库；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Ansj缺点是核心词典不能修改，只能借助扩展词典进行补充。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"HanLp是目前功能最齐全，社区最活跃的分词器。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"MMseg4J和Jcseg两者都采用MMseg算法。但是Jcseg更活跃。MMseg4J基本不再更新。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"IK分词器是使用最多的一种分词器，虽然词典不支持自动扩展词汇，但是简单，所以使用率最高；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"最后一个就是Ictclas他是功能最强大的一款分词器，但是是基于C/C++编写，而且要进行商业授权。比较适合对分词要求较高且不差钱的公司。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"综上：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一般对于追求简单来说建议使用IK分词器；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对分词要求较高，但是希望免费，可以使用HanLp；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"关于中文分词器的使用我们就全部讲解完毕。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"自定义分词器了解\"},\"children\":[{\"type\":\"text\",\"value\":\"自定义分词器（了解）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们都知道分析器由分词器和过滤器构成。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要想使用分析器，首先要定义分词器。如果不需要对分词结果进行过滤，过滤器是可选的。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们在使用分词器的时候，都是使用Solr自带的分词器，比如标准分词器。当然也使用到第三方的一些中文分词器，比如IK分词器。为了更好的理解分析器的java体系结构，下面讲解自定义分词器。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义分词器的步骤：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"继承Tokenizer或者CharTokenizer抽象类；Tokenizer字符串级别的分词器，适合复杂分词器。CharTokenizer字符级别的分词器，适合简单分词器；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义过滤器的步骤：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"继承TokenFiler或者FilteringTokenFilter\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"自定义分词器将\\\"This+is+my+family\\\"按照+作为分隔符分成\\\"This\\\" \\\"is\\\" \\\"My\\\" \\\"family\\\"；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搭建环境\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建模块，引入solr-core依赖，最好和当前solr版本一致\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<dependency>\\r\\n  <groupId>org.apache.solr</groupId>\\r\\n  <artifactId>solr-core</artifactId>\\r\\n  <version>7.7.2</version>\\r\\n</dependency>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<dependency>\\r\\n  <groupId>org.apache.solr</groupId>\\r\\n  <artifactId>solr-core</artifactId>\\r\\n  <version>7.7.2</version>\\r\\n</dependency>\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义一个类继承CharTokenizer（字符级别的分词器）\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public class PlusSignTokenizer  extends CharTokenizer {\\r\\n    public PlusSignTokenizer() {\\r\\n    }\\r\\n\\r\\n    public PlusSignTokenizer(AttributeFactory factory) {\\r\\n        super(factory);\\r\\n    }\\r\\n//isTokenChar哪些字符是词；\\r\\n    public boolean isTokenChar(int i) {\\r\\n        //将什么字符作为分隔符进行分词\\r\\n      return i != '+';\\r\\n    }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"public class PlusSignTokenizer  extends CharTokenizer {\\r\\n    public PlusSignTokenizer() {\\r\\n    }\\r\\n\\r\\n    public PlusSignTokenizer(AttributeFactory factory) {\\r\\n        super(factory);\\r\\n    }\\r\\n//isTokenChar哪些字符是词；\\r\\n    public boolean isTokenChar(int i) {\\r\\n        //将什么字符作为分隔符进行分词\\r\\n      return i != '+';\\r\\n    }\\r\\n}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义分词器工厂管理分词器，定义类继承TokenizerFactory\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public class PlusSignTokenizerFactory extends TokenizerFactory {\\r\\n    /**\\r\\n    * 在schem配置文件中配置分词器的时候，指定参数args配置分词器时候的指定的参数\\r\\n    *    <analyzer>\\r\\n    *         <tokenizer class=\\\"cn.itcast.tokenizer.PlausSignTokenizerFactory\\\" mode=\\\"complex\\\"/>\\r\\n    *     </analyzer>\\r\\n    * @param args\\r\\n    */\\r\\n\\r\\n    public PlusSignTokenizerFactory(Map<String, String> args) {\\r\\n        //分词器属性配置\\r\\n        super(args);\\r\\n    }\\r\\n\\r\\n    @Override\\r\\n    public Tokenizer create(AttributeFactory attributeFactory) {\\r\\n        return new PlusSignTokenizer(attributeFactory);\\r\\n    }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"public class PlusSignTokenizerFactory extends TokenizerFactory {\\r\\n    /**\\r\\n    * 在schem配置文件中配置分词器的时候，指定参数args配置分词器时候的指定的参数\\r\\n    *    <analyzer>\\r\\n    *         <tokenizer class=\\\"cn.itcast.tokenizer.PlausSignTokenizerFactory\\\" mode=\\\"complex\\\"/>\\r\\n    *     </analyzer>\\r\\n    * @param args\\r\\n    */\\r\\n\\r\\n    public PlusSignTokenizerFactory(Map<String, String> args) {\\r\\n        //分词器属性配置\\r\\n        super(args);\\r\\n    }\\r\\n\\r\\n    @Override\\r\\n    public Tokenizer create(AttributeFactory attributeFactory) {\\r\\n        return new PlusSignTokenizer(attributeFactory);\\r\\n    }\\r\\n}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"package打包代码,将jar包复制到solr/WEB-INF/lib\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置FieldType\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_custom\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"cn.itcast.tokenizer.PlausSignTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_custom\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"cn.itcast.tokenizer.PlausSignTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"关于如何自定义一个分词器，我们就先说到这，在实际开发中我们基本上不会自己定义，主要体会流程；\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"自定义过滤器了解\"},\"children\":[{\"type\":\"text\",\"value\":\"自定义过滤器（了解）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节课，我们学习了分词器的定义，下面我们讲解定义过滤器。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中要定义一个过滤器，需要继承TokenFiler或者FilteringTokenFilter\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：过滤掉\\\"love\\\"词\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们可以参考一个solr内置过滤器LenthFilter;\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public final class LengthFilter extends FilteringTokenFilter {\\r\\n  private final int min;\\r\\n  private final int max;\\r\\n  //获取当前词\\r\\n  private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\\r\\n  //构造方法接收三个参数，词的集合，词的最小长度和最大长度\\r\\n  public LengthFilter(TokenStream in, int min, int max) {\\r\\n    super(in);\\r\\n    if (min < 0) {\\r\\n      throw new IllegalArgumentException(\\\"minimum length must be greater than or equal to zero\\\");\\r\\n    }\\r\\n    if (min > max) {\\r\\n      throw new IllegalArgumentException(\\\"maximum length must not be greater than minimum length\\\");\\r\\n    }\\r\\n    this.min = min;\\r\\n    this.max = max;\\r\\n  }\\r\\n\\r\\n  //该方法返回true，保留该词否则不保留；\\r\\n  @Override\\r\\n  public boolean accept() {\\r\\n    final int len = termAtt.length();\\r\\n    return (len >= min && len <= max);\\r\\n  }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"public final class LengthFilter extends FilteringTokenFilter {\\r\\n  private final int min;\\r\\n  private final int max;\\r\\n  //获取当前词\\r\\n  private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\\r\\n  //构造方法接收三个参数，词的集合，词的最小长度和最大长度\\r\\n  public LengthFilter(TokenStream in, int min, int max) {\\r\\n    super(in);\\r\\n    if (min < 0) {\\r\\n      throw new IllegalArgumentException(\\\"minimum length must be greater than or equal to zero\\\");\\r\\n    }\\r\\n    if (min > max) {\\r\\n      throw new IllegalArgumentException(\\\"maximum length must not be greater than minimum length\\\");\\r\\n    }\\r\\n    this.min = min;\\r\\n    this.max = max;\\r\\n  }\\r\\n\\r\\n  //该方法返回true，保留该词否则不保留；\\r\\n  @Override\\r\\n  public boolean accept() {\\r\\n    final int len = termAtt.length();\\r\\n    return (len >= min && len <= max);\\r\\n  }\\r\\n}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义一个类继承FilteringTokenFilter\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义成员变量，获取当前的词\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重写FilteringTokenFilter中accept() 方法决定保留哪些词。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public class LoveTokenFilter extends FilteringTokenFilter {\\r\\n    private String keyword;\\r\\n    //获取当前词\\r\\n    private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\\r\\n\\r\\n    public LoveTokenFilter(TokenStream in,String keyword) {\\r\\n        super(in);\\r\\n        this.keyword = keyword;\\r\\n    }\\r\\n\\r\\n    protected boolean accept() throws IOException {\\r\\n        String token = termAtt.toString();\\r\\n        if(token.equalsIgnoreCase(keyword)) {\\r\\n            return false;\\r\\n        }\\r\\n        return true;\\r\\n    }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"public class LoveTokenFilter extends FilteringTokenFilter {\\r\\n    private String keyword;\\r\\n    //获取当前词\\r\\n    private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\\r\\n\\r\\n    public LoveTokenFilter(TokenStream in,String keyword) {\\r\\n        super(in);\\r\\n        this.keyword = keyword;\\r\\n    }\\r\\n\\r\\n    protected boolean accept() throws IOException {\\r\\n        String token = termAtt.toString();\\r\\n        if(token.equalsIgnoreCase(keyword)) {\\r\\n            return false;\\r\\n        }\\r\\n        return true;\\r\\n    }\\r\\n}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义类继承TokenFilterFactory\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public class LoveTokenFilterFactory extends TokenFilterFactory {\\r\\n    private String keywords;\\r\\n\\r\\n//调用父类无参构造\\r\\n    public LoveTokenFilterFactory(Map<String, String> args) throws IllegalAccessException {\\r\\n        super(args);\\r\\n        if(args== null) {\\r\\n            throw new IllegalAccessException(\\\"必须传递keywords参数\\\");\\r\\n        }\\r\\n      this.keywords = this.get(args, \\\"keywords\\\");\\r\\n    }\\r\\n\\r\\n    public TokenStream create(TokenStream input) {\\r\\n        return new LoveTokenFilter(input,keywords);\\r\\n    }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"public class LoveTokenFilterFactory extends TokenFilterFactory {\\r\\n    private String keywords;\\r\\n\\r\\n//调用父类无参构造\\r\\n    public LoveTokenFilterFactory(Map<String, String> args) throws IllegalAccessException {\\r\\n        super(args);\\r\\n        if(args== null) {\\r\\n            throw new IllegalAccessException(\\\"必须传递keywords参数\\\");\\r\\n        }\\r\\n      this.keywords = this.get(args, \\\"keywords\\\");\\r\\n    }\\r\\n\\r\\n    public TokenStream create(TokenStream input) {\\r\\n        return new LoveTokenFilter(input,keywords);\\r\\n    }\\r\\n}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置FieldType\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_custom\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"cn.itcast.tokenizer.PlusSignTokenizerFactory\\\" />\\r\\n    <filter class=\\\"cn.itcast.tokenfilter.LoveTokenFilterFactory\\\" keywords=\\\"love\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_custom\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"cn.itcast.tokenizer.PlusSignTokenizerFactory\\\" />\\r\\n    <filter class=\\\"cn.itcast.tokenfilter.LoveTokenFilterFactory\\\" keywords=\\\"love\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"梳理工作流程：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581831142031\",\"src\":\"C:%5CUsers%5Cligan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1581831142031.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":7},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"打包安装重写测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-16_134708.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"自定义分析器了解\"},\"children\":[{\"type\":\"text\",\"value\":\"自定义分析器（了解）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中我们通常会使用\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<tokenizer>\"}]},{\"type\":\"text\",\"value\":\" + \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<filter>\"}]},{\"type\":\"text\",\"value\":\"的形式来组合分析器，这种方式耦合性低，使用起来灵活。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中也允许我们将一个分词器和一个过滤器直接封装到分析器类中；将来直接使用分析器。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"流程：\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义类继承Analyzer类。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重写createComponents()方法；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将分词器和过滤器封装在createComponents()方法的返回值即可；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public class MyAnalyzer extends Analyzer {\\r\\n  \\r\\n    @Override\\r\\n    public TokenStreamComponents createComponents(String fieldName) {\\r\\n    //自己的分词器\\r\\n        Tokenizer plusSignTokenizer = new PlusSignTokenizer();\\r\\n        //自带的过滤器\\r\\n        LowerCaseFilter lowerCaseFilter = new LowerCaseFilter(plusSignTokenizer);\\r\\n        return new TokenStreamComponents(plusSignTokenizer, lowerCaseFilter);\\r\\n    }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"public class MyAnalyzer extends Analyzer {\\r\\n  \\r\\n    @Override\\r\\n    public TokenStreamComponents createComponents(String fieldName) {\\r\\n    //自己的分词器\\r\\n        Tokenizer plusSignTokenizer = new PlusSignTokenizer();\\r\\n        //自带的过滤器\\r\\n        LowerCaseFilter lowerCaseFilter = new LowerCaseFilter(plusSignTokenizer);\\r\\n        return new TokenStreamComponents(plusSignTokenizer, lowerCaseFilter);\\r\\n    }\\r\\n}\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用分析器声明FieldType\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_custom2\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer class=\\\"cn.itcast.analyzer.MyAnalyzer\\\"></analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_custom2\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer class=\\\"cn.itcast.analyzer.MyAnalyzer\\\"></analyzer>\\r\\n</fieldType>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"打包测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-16_144934.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"3210-solr的数据导入dataimport\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.10 Solr的数据导入（DataImport）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr后台管理系统中提供了一个功能叫DataImport,作用就是将数据库中的数据导入到索引库，简称DHI；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"DataImport如何将数据库中的数据导入到索引库呢？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询数据库中的记录；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将数据库中的一条记录转化为Document，并进行索引；\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：将以下表中数据导入到MySQL\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"sql脚本在资料中；\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"sql脚本在资料中；\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_182240.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"步骤：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"0. 准备：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建MySQL数据库和表（略）；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在schema文件中声明图书相关的业务域；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<!-- id:使用solr提供的id域；\\r\\nbook_name:使用text_ik类型，因为该域中包含中文，索引，并且存储;\\r\\nbook_price:使用pfloat类型，索引，并且存储；\\r\\nbook_pic:使用string类型，不索引，存储；\\r\\nbook_description:使用text_ik类型，索引，不存储；\\r\\nbook_num:使用pint类型，索引，并且存储； -->\\r\\n<field name=\\\"book_name\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_price\\\" type=\\\"pfloat\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_pic\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_description\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\\r\\n<field name=\\\"book_num\\\" type=\\\"pint\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<!-- id:使用solr提供的id域；\\r\\nbook_name:使用text_ik类型，因为该域中包含中文，索引，并且存储;\\r\\nbook_price:使用pfloat类型，索引，并且存储；\\r\\nbook_pic:使用string类型，不索引，存储；\\r\\nbook_description:使用text_ik类型，索引，不存储；\\r\\nbook_num:使用pint类型，索引，并且存储； -->\\r\\n<field name=\\\"book_name\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_price\\\" type=\\\"pfloat\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_pic\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_description\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\\r\\n<field name=\\\"book_num\\\" type=\\\"pint\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将MySQL的mysql驱动mysql-connector-5.1.16-bin.jar复制到solr\\\\WEB-INF\\\\lib中。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查看SolrCore中的配置文件solrconfig.xml，solrconfig.xml文件主要配置了solrcore自身相关的一些参数（后面我们再给大家讲解）。作用：指定DataImport将MySQL数据导入Solr的配置文件为solr-data-config.xml；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <requestHandler name=\\\"/dataimport\\\" class=\\\"solr.DataImportHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"config\\\">solr-data-config.xml</str>\\r\\n    </lst>\\r\\n  </requestHandler>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <requestHandler name=\\\"/dataimport\\\" class=\\\"solr.DataImportHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"config\\\">solr-data-config.xml</str>\\r\\n    </lst>\\r\\n  </requestHandler>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编辑SolrCore/conf中solr-data-config.xml文件\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_183956.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <dataConfig>\\r\\n    <!-- 首先配置数据源指定数据库的连接信息 -->\\r\\n    <dataSource type=\\\"JdbcDataSource\\\" driver=\\\"com.mysql.jdbc.Driver\\\" url=\\\"jdbc:mysql://localhost:3306/lucene\\\" user=\\\"root\\\" password=\\\"root\\\" />\\r\\n    <document>\\r\\n      <!-- entity作用:数据库中字段和域名如何映射\\r\\n          name:标识，任意\\r\\n          query:执行的查询语句\\r\\n        -->\\r\\n      <entity name=\\\"book\\\" query=\\\"select * from book\\\">\\r\\n        <!-- 每一个field映射着数据库中列与文档中的域，column是数据库列，name是solr的域(必须是在managed-schema文件中配置过的域才行) -->\\r\\n        <field column=\\\"id\\\" name=\\\"id\\\" />\\r\\n        <field column=\\\"name\\\" name=\\\"book_name\\\" />\\r\\n        <field column=\\\"price\\\" name=\\\"book_price\\\" />\\r\\n        <field column=\\\"pic\\\" name=\\\"book_pic\\\" />\\r\\n        <field column=\\\"description\\\" name=\\\"book_description\\\" />\\r\\n        <field column=\\\"num\\\" name=\\\"book_num\\\" />\\r\\n      </entity>\\r\\n    </document>\\r\\n  </dataConfig>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <dataConfig>\\r\\n    <!-- 首先配置数据源指定数据库的连接信息 -->\\r\\n    <dataSource type=\\\"JdbcDataSource\\\" driver=\\\"com.mysql.jdbc.Driver\\\" url=\\\"jdbc:mysql://localhost:3306/lucene\\\" user=\\\"root\\\" password=\\\"root\\\" />\\r\\n    <document>\\r\\n      <!-- entity作用:数据库中字段和域名如何映射\\r\\n          name:标识，任意\\r\\n          query:执行的查询语句\\r\\n        -->\\r\\n      <entity name=\\\"book\\\" query=\\\"select * from book\\\">\\r\\n        <!-- 每一个field映射着数据库中列与文档中的域，column是数据库列，name是solr的域(必须是在managed-schema文件中配置过的域才行) -->\\r\\n        <field column=\\\"id\\\" name=\\\"id\\\" />\\r\\n        <field column=\\\"name\\\" name=\\\"book_name\\\" />\\r\\n        <field column=\\\"price\\\" name=\\\"book_price\\\" />\\r\\n        <field column=\\\"pic\\\" name=\\\"book_pic\\\" />\\r\\n        <field column=\\\"description\\\" name=\\\"book_description\\\" />\\r\\n        <field column=\\\"num\\\" name=\\\"book_num\\\" />\\r\\n      </entity>\\r\\n    </document>\\r\\n  </dataConfig>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用DataImport导入。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_190412.png\"},\"children\":[]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"3211-solrconfigxml\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.11 solrconfig.xml\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节在使用DataImport的时候，使用到了一个配置文件solrconfig.xml,这个配置文件是solr中常用的4个配置文件之一。但是相对schema文件，用的很少。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solrconfig.xml作用：主要配置SolrCore相关的一些信息。Lucene的版本,第三方依赖包加载路径，索引和搜索相关的配置；JMX配置，缓存配置等；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lucene的版本配置；一般和Solr版本一致；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<luceneMatchVersion>7.7.2</luceneMatchVersion>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<luceneMatchVersion>7.7.2</luceneMatchVersion>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"第三方依赖包加载路径\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<lib dir=\\\"${solr.install.dir:../../../..}/contrib/extraction/lib\\\" regex=\\\".*\\\\.jar\\\" />\\r\\n<!-- 告诉solr,第三方依赖包的位置。一般我们并不会在lib中进行设置，因为lib中的设置，只能该solrCore使用，\\r\\n其他SolrCore无法使用，一般第三方的依赖包，我们直接会放在Solr/WEB-INF/lib下。所有的solrCore共享。 -->\\r\\n<!-- solr.install.dir：SolrCore所在目录，当前配置文件属于哪个SolrCore，solr.install.dir就是那个SolrCore目录 -->\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<lib dir=\\\"${solr.install.dir:../../../..}/contrib/extraction/lib\\\" regex=\\\".*\\\\.jar\\\" />\\r\\n<!-- 告诉solr,第三方依赖包的位置。一般我们并不会在lib中进行设置，因为lib中的设置，只能该solrCore使用，\\r\\n其他SolrCore无法使用，一般第三方的依赖包，我们直接会放在Solr/WEB-INF/lib下。所有的solrCore共享。 -->\\r\\n<!-- solr.install.dir：SolrCore所在目录，当前配置文件属于哪个SolrCore，solr.install.dir就是那个SolrCore目录 -->\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"索引数据所在目录：默认位置SolrCore/data\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<dataDir>${solr.data.dir:}</dataDir>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<dataDir>${solr.data.dir:}</dataDir>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"用来配置创建索引的类\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<directoryFactory name=\\\"DirectoryFactory\\\" class=\\\"${solr.directoryFactory:solr.NRTCachingDirectoryFactory}\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<directoryFactory name=\\\"DirectoryFactory\\\" class=\\\"${solr.directoryFactory:solr.NRTCachingDirectoryFactory}\\\" />\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"用来设置Lucene倒排索引的编码工厂类，默认实现是官方提供的SchemaCodecFactory类。；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<codecFactory class=\\\"solr.SchemaCodecFactory\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<codecFactory class=\\\"solr.SchemaCodecFactory\\\"/>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"索引相关配置\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_200805.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":7},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索相关配置\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_201038.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"3212-query\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.12 Query\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"接下来我们讲解后台管理系统中Query功能，Query的主要作用是查询；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"接下来我们来讲解一下基本使用\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q:表示主查询条件，必须有.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"fq:过滤条件。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"start,rows:指定分页；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"fl:指定查询结果文档中需要的域；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"wt:查询结果的格式，JSON/XML;\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_202357.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询book_description中包含java；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询book_description中包含java并且book_name中包含lucene；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对查询的结果按照价格升序，降序。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分页查询满足条件的第一页2条数据，第二页2条数据\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"start=(页码-1) * 每页条数\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将查询结果中id域去掉；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询的结果以JSON形式返回；\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"3213-solrcore其它菜单\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.13 SolrCore其它菜单\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"overview（概览）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：包含基本统计如当前文档数，最大文档数；删除文档数，当前SolrCore配置目录；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_204229.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"files\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：对SolrCore/conf目录下文件预览\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_204405.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Ping：拼接Solr的连通性；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Plugins:Solr使用的一些插件；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Replication：集群状态查看，后面搭建完毕集群再来说；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Schema：管理Schema文件中的Field，可以查看和添加域，动态域和复制域；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_204622.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SegmentsInfo\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"展示底层Lucence索引段，包括每个段的大小和数据条数。Solr底层是基于lucene实现的，索引数据最终是存储到SolrCore/data/index目录的索引文件中；这些索引文件有_e开始的, _0开始的....对应的就是不同的索引段。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_215512.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"4-solr查询\"},\"children\":[{\"type\":\"text\",\"value\":\"4. Solr查询\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"41-solr查询概述理解\"},\"children\":[{\"type\":\"text\",\"value\":\"4.1 Solr查询概述(理解)\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们先从整体上对solr查询进行认识。当用户发起一个查询的请求，这个请求会被Solr中的Request Handler所接受并处理，Request Handler是Solr中定义好的组件，专门用来处理用户查询的请求。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Request Handler相关的配置在solrconfig.xml中；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下面就是一个请求处理器的配置\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"name:uri;\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"class:请求处理器处理请求的类；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"lst:参数设置,eg:rows每页显示的条数。wt:结果的格式\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <requestHandler name=\\\"/select\\\" class=\\\"solr.SearchHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"echoParams\\\">explicit</str>\\r\\n      <int name=\\\"rows\\\">10</int>\\r\\n      <str name=\\\"df\\\">text</str>\\r\\n      <!-- Change from JSON to XML format (the default prior to Solr 7.0)\\r\\n            <str name=\\\"wt\\\">xml</str> \\r\\n          -->\\r\\n    </lst>\\r\\n  </requestHandler>\\r\\n  <requestHandler name=\\\"/query\\\" class=\\\"solr.SearchHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"echoParams\\\">explicit</str>\\r\\n      <str name=\\\"wt\\\">json</str>\\r\\n      <str name=\\\"indent\\\">true</str>\\r\\n      <str name=\\\"df\\\">text</str>\\r\\n    </lst>\\r\\n  </requestHandler>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <requestHandler name=\\\"/select\\\" class=\\\"solr.SearchHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"echoParams\\\">explicit</str>\\r\\n      <int name=\\\"rows\\\">10</int>\\r\\n      <str name=\\\"df\\\">text</str>\\r\\n      <!-- Change from JSON to XML format (the default prior to Solr 7.0)\\r\\n            <str name=\\\"wt\\\">xml</str> \\r\\n          -->\\r\\n    </lst>\\r\\n  </requestHandler>\\r\\n  <requestHandler name=\\\"/query\\\" class=\\\"solr.SearchHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"echoParams\\\">explicit</str>\\r\\n      <str name=\\\"wt\\\">json</str>\\r\\n      <str name=\\\"indent\\\">true</str>\\r\\n      <str name=\\\"df\\\">text</str>\\r\\n    </lst>\\r\\n  </requestHandler>\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这是Solr底层处理查询的组件，RequestHandler,简单认识一下；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"宏观认识Solr查询的流程；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当用户输入查询的字符串eg:book_name:java,选择查询处理器/select.点击搜索；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"请求首先会到达RequestHandler。RequestHandler会将查询的字符串交由QueryParser进行解析。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"QueryParser会从索引库中搜索出相关的结果。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"ResponseWriter将最终结果响应给用户；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过这幅图大家需要明确的是，查询的本质就是基于Http协议和Solr服务进行请求和响应的一个过程。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-16_164833.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"42-相关度排序\"},\"children\":[{\"type\":\"text\",\"value\":\"4.2 相关度排序\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节我们了解完毕Solr的查询流程，接下来我们来讲解相关度排序。什么叫相关度排序呢？\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"比如查询book_description中包含java的文档。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询结果；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-16_082630.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"疑问：为什么id为40的文档再最前面？这里面就牵扯到Lucene的相关度排序；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"相关度排序是查询结果按照与查询关键字的相关性进行排序，越相关的越靠前。比如搜索“java”关键字，与该关键字最相关的文档应该排在前边。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"影响相关度排序2个要素\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Term Frequency (tf)：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"指此Term在此文档中出现了多少次。tf越大说明越重要。词(Term)在文档中出现的次数越多，说明此词(Term)对该文档越重要，如“java”这个词，在文档中出现的次数很多，说明该文档主要就是讲java技术的。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Document Frequency (df)：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"指有多少文档包含次Term。df越大说明越不重要。比如，在一篇英语文档中，this出现的次数更多，就说明越重要吗？不是的，有越多的文档包含此词(Term),说明此词(Term)太普通，不足以区分这些文档，因而重要性越低。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"相关度评分\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr底层会根据一定的算法，对文档进行一个打分。打分比较高的排名靠前，打分比较低的排名靠后。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"设置boost（权重）值影响相关度打分；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"举例：查询book_name或者book_description域中包含java的文档；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"book_name中包含java或者book_description域中包含java的文档都会被查询出来。假如我们认为book_name中包含java应该排名靠前。可以给book_name域增加权重值。book_name域中有java的文档就可以靠前。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"43-查询解析器queryparser\"},\"children\":[{\"type\":\"text\",\"value\":\"4.3 查询解析器(QueryParser)\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们在讲解查询流程的时候，我们说用户输入的查询内容，需要被查询解析器解析。所以查询解析器QueryParser作用就是对查询的内容进行解析。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr提供了多种查询解析器，为我们使用者提供了极大的灵活性及控制如何解析器查询内容。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr提供的查询解析器包含以下：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Standard Query Parser:标准查询解析器；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"DisMax Query Parser:DisMax 查询解析器；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Extends DisMax Query Parser:扩展DisMax 查询解析器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Others Query Parser:其他查询解析器\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当然Solr也运行用户自定义查询解析器。需要继承QParserPlugin类；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"默认解析器：lucene\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr默认使用的解析器是lucene，即Standard Query Parser。Standard Query Parser支持lucene原生的查询语法，并且进行增强,使你可以方便地构造结构化查询语句。当然，它还有不好的，就是容错比较差，总是把错误抛出来，而不是像dismax一样消化掉。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询解析器: disMax\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"只支持lucene查询语法的一个很小的子集：简单的短语查询、+  - 修饰符、AND OR 布尔操作；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"可以灵活设置各个查询字段的相关性权重，可以灵活增加满足某特定查询文档的相关性权重。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询解析器:edisMax\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"扩展 DisMax Query Parse 使支标准查询语法（是 Standard Query Parser 和 DisMax Query Parser 的复合）。也增加了不少参数来改进disMax。支持的语法很丰富；很好的容错能力；灵活的加权评分设置。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于不同的解析器来说，支持的查询语法和查询参数，也是不同的。我们不可能把所有解析器的查询语法和参数讲完。实际开发也用不上。我们重点讲解的是Standard Query Parser支持的语法和参数。\"}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"44-查询语法\"},\"children\":[{\"type\":\"text\",\"value\":\"4.4 查询语法\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们查询功能都是通过后台管理界面完成查询的。实际上，底层就是向Solr请求处理器发送了一个查询的请求，传递了查询的参数，下面我们要讲解的就是查询语法和参数。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-16_170250.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"地址信息\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://localhost:8080/solr/collection1/select?q=book_name:java\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_name:java\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询请求url\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://localhost:8080/solr\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"solr服务地址\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"collection1\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"solrCore\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"/select\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"请求处理器\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"?q=xxx\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询的参数\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"441-基本查询参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.4.1 基本查询参数\"}]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数名\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"描述\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"q\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询条件，必填项\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"fq\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"过滤查询\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"start\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"结果集第一条记录的偏移量，用于分页，默认值0\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"rows\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"返回文档的记录数，用于分页，默认值10\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"sort\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"排序，格式：\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/Snipaste_2023-01-10_04-42-35.png\"},\"children\":[]},{\"type\":\"text\",\"value\":\" 默认是相关性降序\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"fl\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定返回的域名，多个域名用逗号或者空格分隔，默认返回所有域\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"wt\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定响应的格式，例如xml、json等；\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询所有文档：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询book_name域中包含java的文档\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_name:java\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_name:java\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询book_description域中包含java,book_name中包含java。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_description:java&fq=book_name:java\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_description:java&fq=book_name:java\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询第一页的2个文档\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询第一页的2个文档\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&start=0&rows=2\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&start=2&rows=2\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&start=0&rows=2\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&start=2&rows=2\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询所有文档并且按照book_num升序,降序\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+asc\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+desc\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+asc\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+desc\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询所有文档并且按照book_num降序,如果数量一样按照价格升序。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+desc,book_price+asc\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+desc,book_price+asc\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询所有数据文档,将id域排除\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=book_name,book_price,book_num,book_pic\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=book_name,book_price,book_num,book_pic\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于基础查询来说还有其他的一些系统级别的参数，但是一般用的较少。简单说2个。\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"描述\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数名称\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"选择哪个查询解析器对q中的参数进行解析，默认lucene，还可以使用dismax|edismax\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"defType\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"覆盖schema.xml的defaultOperator（有空格时用\\\"AND\\\"还是用\\\"OR\\\"操作逻辑）.默认为OR。\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"q.op\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认查询字段\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"df\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"（query type）指定那个类型来处理查询请求，一般不用指定，默认是standard\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"qt\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询结果是否进行缩进，开启，一般调试json,php,phps,ruby输出才有必要用这个参数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"indent\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询语法的版本，建议不使用它，由服务器指定默认值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"version\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"defType:更改Solr的查询解析器的。一旦查询解析器发生改变，支持其他的查询参数和语法。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q.op：如果我们搜索的关键字可以分出很多的词，到底是基于这些词进行与的关系还是或关系。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=book_name:java编程 搜索book_name中包含java编程关键字   \\r\\njava编程---->java 编程词。\\r\\n搜索的条件时候是book_name中不仅行包含java而且包含编程，还是只要有一个即可。\\r\\nq=book_name&q.op=AND \\r\\nq=book_name&q.op=OR\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=book_name:java编程 搜索book_name中包含java编程关键字   \\r\\njava编程---->java 编程词。\\r\\n搜索的条件时候是book_name中不仅行包含java而且包含编程，还是只要有一个即可。\\r\\nq=book_name&q.op=AND \\r\\nq=book_name&q.op=OR\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"df:指定默认搜索的域,一旦我们指定了默认搜索的域，在搜索的时候，我们可以省略域名,仅仅指定搜索的关键字\\r\\n就可以在默认域中搜索\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=java&df=book_name\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=java&df=book_name\\n\"}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"442-组合查询\"},\"children\":[{\"type\":\"text\",\"value\":\"4.4.2 组合查询\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节我们讲解了基础查询，接下来我们讲解组合查询。在Solr中提供了运算符，通过运算符我们就可以进行组合查询。\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"运算符\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"通配符，替代任意单个字符（不能在检索的项开始使用*或者?符号）\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"*\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"通配符，替代任意多个字符（不能在检索的项开始使用*或者?符号）\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示相似度查询，如查询类似于\\\"roam\\\"的词，我们可以这样写：roam\"},{\"type\":\"element\",\"tag\":\"del\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将找到形如foam和roams的单词；roam\"}]},{\"type\":\"text\",\"value\":\"0.8，检索返回相似度在0.8以上的文档。 邻近检索，如检索相隔10个单词的\\\"apache\\\"和\\\"jakarta\\\"，\\\"jakarta apache\\\"~10\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"AND\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示且，等同于 “&&”\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"OR\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示或，等同于 “||”\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"NOT\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示否\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"()\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"用于构成子查询\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"范围查询，包含头尾\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"{}\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"范围查询，不包含头尾\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"+\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"存在运算符，表示文档中必须存在 “+” 号后的项\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"-\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"不存在运算符，表示文档中不包含 “-” 号后的项\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实例：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"text\",\"value\":\"查询book_name中包含c?的词。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_name:c?\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_name:c?\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"*\"}]},{\"type\":\"text\",\"value\":\"查询book_name总含spring*的词\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_name:spring*\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_name:spring*\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"text\",\"value\":\"模糊查询book_name中包含和java及和java比较像的词，相似度0.75以上\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_name:java~0.75\\r\\n# java和jave相似度就是0.75.4个字符中3个相同。\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_name:java~0.75\\r\\n# java和jave相似度就是0.75.4个字符中3个相同。\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-16_210920.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"AND\"}]},{\"type\":\"text\",\"value\":\"查询book_name域中既包含servlet又包含jsp的文档；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"方式1：使用and\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=book_name:servlet AND book_name:jsp\\r\\nq=book_name:servlet && book_name:jsp\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=book_name:servlet AND book_name:jsp\\r\\nq=book_name:servlet && book_name:jsp\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"方式2：使用+\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=+book_name:servlet +book_name:jsp\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=+book_name:servlet +book_name:jsp\\n\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"OR\"}]},{\"type\":\"text\",\"value\":\"查询book_name域中既包含servlet或者包含jsp的文档；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=book_name:servlet OR book_name:jsp\\r\\nq=book_name:servlet || book_name:jsp\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=book_name:servlet OR book_name:jsp\\r\\nq=book_name:servlet || book_name:jsp\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"NOT\"}]},{\"type\":\"text\",\"value\":\"查询book_name域中包含spring，并且id不是4的文档\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"book_name:spring AND NOT id:4\\r\\n+book_name:spring  -id:4\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"book_name:spring AND NOT id:4\\r\\n+book_name:spring  -id:4\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"TO\"}]},{\"type\":\"text\",\"value\":\"范围查询\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询商品数量>=4并且<=10\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_num:[4 TO 10]\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_num:[4 TO 10]\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询商品数量>4并且<10\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_num:{4 TO 10}\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_num:{4 TO 10}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询商品数量大于125\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_num:{125 TO *]\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_num:{125 TO *]\\n\"}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"443-q和fq的区别\"},\"children\":[{\"type\":\"text\",\"value\":\"4.4.3 q和fq的区别\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在讲解基础查询的时候我们使用了q和fq,这2个参数从使用上比较的类似，很多使用者可能认为他们的功能相同，下面我们来阐述他们两者的区别；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"从使用上：q必须传递参数,fq可选的参数。在执行查询的时候，必须有q,而fq可以有，也可以没有；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"从功能上：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q有2项功能\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"第一项：根据用户输入的查询条件，查询符合条件的文档。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"第二项：使用相关性算法,匹配到的文档进行相关度排序。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"fq只有一项功能\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对匹配到的文档进行过滤,不会影响相关度排序,效率高；\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询book_descrption中包含java并且book_name中包含java文档；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"单独使用q来完成；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581905637539\",\"src\":\"imgs/1581905637539.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"由于book_name条件的加入造成排序结果的改变；说明q查询符合条件的文档，也可以进行相关度排序；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用q + fq完成\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581906045538\",\"src\":\"imgs/1581906045538.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"说明fq:仅仅只会进行条件过滤，不会影响相关度排序；\"}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"444-solr返回结果和排序\"},\"children\":[{\"type\":\"text\",\"value\":\"4.4.4 Solr返回结果和排序\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"返回结果的格式\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中默认支持多种返回结果的格式。分别是XML，JSON,Ruby,Python,Binary Java,PHP,CVS等。下面是Solr支持的响应结果格式以及对应的实现类。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_130205.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于使用者来说，我们只需要指定wt参数即可；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询所有数据文档返回xml\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&wt=xml\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&wt=xml\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"返回结果文档包含的域\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过fl指定返回的文档包含哪些域。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"返回伪域。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将返回结果中价格转化为分。product是Solr中的一个函数，表示乘法。后面我们会讲解。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=*,product(book_price,100)\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=*,product(book_price,100)\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_131447.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"域指定别名\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上面的查询我们多了一个伪域。可以为伪域起别名fen\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=*,fen:product(book_price,100)\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=*,fen:product(book_price,100)\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_132149.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"同理也可以给原有域起别名\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=name:book_name,price:book_price\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=name:book_name,price:book_price\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_132318.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中我们是通过sort参数进行排序。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_price+asc&wt=json&rows=50\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_price+asc&wt=json&rows=50\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"特殊情况：某些文档book_price域值为null,null值排在最前面还是最后面。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义域类型的时候需要指定2个属性sortMissingLast,sortMissingFirst\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"sortMissingLast=true,无论升序还是降序，null值都排在最后\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"sortMissingFirst=true,无论升序还是降序，null值都排在最前\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldtype name=\\\"fieldName\\\" class=\\\"xx\\\" sortMissingLast=\\\"true\\\" sortMissingFirst=\\\"false\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<fieldtype name=\\\"fieldName\\\" class=\\\"xx\\\" sortMissingLast=\\\"true\\\" sortMissingFirst=\\\"false\\\"/>\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"45-高级查询-facet查询\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5 高级查询-facet查询\"}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"451简单介绍\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.1简单介绍\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet 是 solr 的高级搜索功能之一 , 可以给用户提供更友好的搜索体验 。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：可以根据用户搜索条件 ,按照指定域进行分组并统计,类似于关系型数据库中的group by分组查询；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"eg:查询title中包含手机的商品，按照品牌进行分组，并且统计数量。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"select brand,COUNT(*)from tb_item where title like '%手机%' group by brand\\n\",\"language\":\"sql\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"select brand,COUNT(*)from tb_item where title like '%手机%' group by brand\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"适合场景：在电商网站的搜索页面中，我们根据不同的关键字搜索。对应的品牌列表会跟着变化。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这个功能就可以基于Facet来实现；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_002123.png\"},\"children\":[]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_002750.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Facet比较适合的域\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一般代表了实体的某种公共属性的域 , 如商品的品牌，商品的分类 , 商品的制造厂家 , 书籍的出版商等等；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Facet域的要求\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Facet 的域必须被索引， 一般来说该域无需分词，无需存储 ,无需分词是因为该域的值代表了一个整体概念 , 如商品的品牌 ” 联想 ” 代表了一个整体概念 , 如果拆成 ” 联 ”,” 想 ” 两个字都不具有实际意义 . 另外该字段的值无需进行大小写转换等处理 , 保持其原貌即可 .无需存储是因为查询到的文档中不需要该域的数据 , 而是作为对查询结果进行分组的一种手段 , 用户一般会沿着这个分组进一步深入搜索。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"452-数据准备\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.2 数据准备\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"为了更好的学习我们后面的知识，我们将商品表数据导入到Solr索引库；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"删除图书相关的数据\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<delete>\\r\\n  <query>*:*</query>\\r\\n</delete>\\r\\n<commit />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<delete>\\r\\n  <query>*:*</query>\\r\\n</delete>\\r\\n<commit />\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建和商品相关的域\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <field name=\\\"item_title\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>   标题域\\r\\n  <field name=\\\"item_price\\\" type=\\\"pfloat\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>    价格域\\r\\n  <field name=\\\"item_images\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\"/>   图片域\\r\\n  <field name=\\\"item_createtime\\\" type=\\\"pdate\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/> 创建时间域\\r\\n  <field name=\\\"item_updatetime\\\" type=\\\"pdate\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/> 更新时间域\\r\\n  <field name=\\\"item_category\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>  商品分类域\\r\\n  <field name=\\\"item_brand\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>     品牌域\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <field name=\\\"item_title\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>   标题域\\r\\n  <field name=\\\"item_price\\\" type=\\\"pfloat\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>    价格域\\r\\n  <field name=\\\"item_images\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\"/>   图片域\\r\\n  <field name=\\\"item_createtime\\\" type=\\\"pdate\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/> 创建时间域\\r\\n  <field name=\\\"item_updatetime\\\" type=\\\"pdate\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/> 更新时间域\\r\\n  <field name=\\\"item_category\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>  商品分类域\\r\\n  <field name=\\\"item_brand\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>     品牌域\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改solrcore/conf目录中solr-data-config.xml配置文件，使用DataImport进行导入；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<entity name=\\\"item\\\" query=\\\"select id,title,price,image,create_time,update_time,category,brand from tb_item\\\">\\r\\n  <field column=\\\"id\\\" name=\\\"id\\\" />\\r\\n  <field column=\\\"title\\\" name=\\\"item_title\\\" />\\r\\n  <field column=\\\"price\\\" name=\\\"item_price\\\" />\\r\\n  <field column=\\\"image\\\" name=\\\"item_images\\\" />\\r\\n  <field column=\\\"create_time\\\" name=\\\"item_createtime\\\" />\\r\\n  <field column=\\\"update_time\\\" name=\\\"item_updatetime\\\" />\\r\\n  <field column=\\\"category\\\" name=\\\"item_category\\\" />\\r\\n  <field column=\\\"brand\\\" name=\\\"item_brand\\\" />\\r\\n</entity>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<entity name=\\\"item\\\" query=\\\"select id,title,price,image,create_time,update_time,category,brand from tb_item\\\">\\r\\n  <field column=\\\"id\\\" name=\\\"id\\\" />\\r\\n  <field column=\\\"title\\\" name=\\\"item_title\\\" />\\r\\n  <field column=\\\"price\\\" name=\\\"item_price\\\" />\\r\\n  <field column=\\\"image\\\" name=\\\"item_images\\\" />\\r\\n  <field column=\\\"create_time\\\" name=\\\"item_createtime\\\" />\\r\\n  <field column=\\\"update_time\\\" name=\\\"item_updatetime\\\" />\\r\\n  <field column=\\\"category\\\" name=\\\"item_category\\\" />\\r\\n  <field column=\\\"brand\\\" name=\\\"item_brand\\\" />\\r\\n</entity>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启服务，使用DateImport导入；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_105318.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_111434.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"453-facet查询的分类\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.3 Facet查询的分类\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet_queries:表示根据条件进行分组统计查询。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet_fields：代表根据域分组统计查询。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet_ranges：可以根据时间区间和数字区间进行分组统计查询；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet_intervals：可以根据时间区间和数字区间进行分组统计查询；\"}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"454-facet_fields\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.4 facet_fields\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：对item_title中包含手机的文档，按照品牌域进行分组，并且统计数量；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进行 Facet 查询需要在请求参数中加入 ”facet=on” 或者 ”facet=true” 只有这样 Facet 组件才起作用\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分组的字段通过在请求中加入 ”facet.field” 参数加以声明\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=item_title:手机&facet=on&facet.field=item_brand\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=item_title:手机&facet=on&facet.field=item_brand\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分组结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_113525.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果需要对多个字段进行 Facet查询 , 那么将该参数声明多次；各个分组结果互不影响eg:还想对分类进行分组统计.\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=item_title:手机&facet=on&facet.field=item_brand&facet.field=item_category\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=item_title:手机&facet=on&facet.field=item_brand&facet.field=item_category\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分组结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_113756.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"其他参数的使用。\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在facet中，还提供的其他的一些参数，可以对分组统计的结果进行优化处理；\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.prefix\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示 Facet 域值的前缀 . 比如 ”facet.field=item_brand&facet.prefix=中国”, 那么对 item_brand字段进行 Facet 查询 , 只会分组统计以中国为前缀的品牌。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.sort\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示 Facet 字段值以哪种顺序返回 . 可接受的值为 true|false. true表示按照 count 值从大到小排列 . false表示按照域值的自然顺序( 字母 , 数字的顺序 ) 排列 . 默认情况下为 true.\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.limit\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"限制 Facet 域值返回的结果条数 . 默认值为 100. 如果此值为负数 , 表示不限制 .\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.offset\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"返回结果集的偏移量 , 默认为 0. 它与 facet.limit 配合使用可以达到分页的效果\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.mincount\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"限制了 Facet 最小 count, 默认为 0. 合理设置该参数可以将用户的关注点集中在少数比较热门的领域 .\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.missing\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认为 ””, 如果设置为 true 或者 on, 那么将统计那些该 Facet 字段值为 null 的记录.\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.method\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"取值为 enum 或 fc, 默认为 fc. 该参数表示了两种 Facet 的算法 , 与执行效率相关 .enum 适用于域值种类较少的情况 , 比如域类型为布尔型 .fc适合于域值种类较多的情况。\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet.prefix\"}]},{\"type\":\"text\",\"value\":\" 分组统计以中国前缀的品牌\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.prefix=中国\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.prefix=中国\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_170253.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet.sort\"}]},{\"type\":\"text\",\"value\":\" 按照品牌值进行字典排序\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.sort=false\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.sort=false\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_170454.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet.limit\"}]},{\"type\":\"text\",\"value\":\" 限制分组统计的条数为10\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.limit=10\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.limit=10\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_170841.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet.offset\"}]},{\"type\":\"text\",\"value\":\"结合facet.limit对分组结果进行分页\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.offset=5\\r\\n&facet.limit=5\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.offset=5\\r\\n&facet.limit=5\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_171236.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet.mincount\"}]},{\"type\":\"text\",\"value\":\" 搜索标题中有手机的商品，并且对品牌进行分组统计查询，排除统计数量为0的品牌\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.mincount=1\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.mincount=1\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_171759.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"455-facet_ranges\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.5 facet_ranges\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"除了字段分组查询外，还有日期区间，数字区间分组查询。作用：将某一个时间区间(数字区间)，按照指定大小分割,统计数量；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：分组查询2015年，每一个月添加的商品数量；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"该参数表示需要进行分组的字段名 , 与 facet.field 一样 , 该参数可以被设置多次 , 表示对多个字段进行分组。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range.start\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"起始时间/数字 , 时间的一般格式为 ” 1995-12-31T23:59:59Z”, 另外可以使用 ”NOW”,”YEAR”,”MONTH” 等等 , 具体格式可以参考 org.apache.solr.schema. DateField 的 java doc.\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range.end\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"结束时间 数字\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range.gap\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"时间间隔 . 如果 start 为 2019-1-1,end 为 2020-1-1.gap 设置为 ”+1MONTH” 表示间隔1 个月 , 那么将会把这段时间划分为 12 个间隔段 . 注意 ”+” 因为是特殊字符所以应该用 ”%2B” 代替 .\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range.hardend\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"取值可以为 true|false它表示 gap 迭代到 end 处采用何种处理 . 举例说明 start 为 2019-1-1,end 为 2019-12-25,gap 为 ”+1MONTH”,hardend 为 false 的话最后一个时间段为 2009-12-1 至 2010-1-1;hardend 为 true 的话最后一个时间段为 2009-12-1 至 2009-12-25 举例start为0，end为1200，gap为500，hardend为false,最后一个数字区间\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1000,1200\"}]},{\"type\":\"text\",\"value\":\" ,hardend为true最后一个数字区间\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1000,1500\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range.other\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"取值范围为 before|after|between|none|all, 默认为 none. before 会对 start 之前的值做统计 . after 会对 end 之后的值做统计 . between 会对 start 至 end 之间所有值做统计 . 如果 hardend 为 true 的话 , 那么该值就是各个时间段统计值的和 . none 表示该项禁用. all 表示 before,after,between都会统计.\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"facet=on&\\r\\nfacet.range=item_createtime&\\r\\nfacet.range.start=2015-01-01T00:00:00Z&\\r\\nfacet.range.end=2016-01-01T00:00:00Z&\\r\\nfacet.range.gap=%2B1MONTH\\r\\n&facet.range.other=all\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"facet=on&\\r\\nfacet.range=item_createtime&\\r\\nfacet.range.start=2015-01-01T00:00:00Z&\\r\\nfacet.range.end=2016-01-01T00:00:00Z&\\r\\nfacet.range.gap=%2B1MONTH\\r\\n&facet.range.other=all\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581916975134\",\"src\":\"imgs/1581916975134.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：分组统计价格在0\"},{\"type\":\"element\",\"tag\":\"del\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1000,1000\"}]},{\"type\":\"text\",\"value\":\"2000，2000\"},{\"type\":\"element\",\"tag\":\"del\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"3000... 19000\"}]},{\"type\":\"text\",\"value\":\"20000及20000以上每个价格区间商品数量；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"facet=on&\\r\\nfacet.range=item_price&\\r\\nfacet.range.start=0&\\r\\nfacet.range.end=20000&\\r\\nfacet.range.gap=1000&\\r\\nfacet.range.hardend=true&\\r\\nfacet.range.other=all\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"facet=on&\\r\\nfacet.range=item_price&\\r\\nfacet.range.start=0&\\r\\nfacet.range.end=20000&\\r\\nfacet.range.gap=1000&\\r\\nfacet.range.hardend=true&\\r\\nfacet.range.other=all\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_132922.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"456-facet_queries\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.6 facet_queries\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在facet中还提供了第三种分组查询的方式facet query。提供了类似 filter query (fq)的语法可以更为灵活的对任意字段进行分组统计查询 .\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询分类是平板电视的商品数量 品牌是华为的商品数量 品牌是三星的商品数量；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"facet=on&\\r\\nfacet.query=item_category:平板电视&\\r\\nfacet.query=item_brand:华为&\\r\\nfacet.query=item_brand:三星\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"facet=on&\\r\\nfacet.query=item_category:平板电视&\\r\\nfacet.query=item_brand:华为&\\r\\nfacet.query=item_brand:三星\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_163534.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们会发现统计的结果中对应名称tem_category:平板电视和item_brand:华为，我们也可以起别名；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"facet=on&\\r\\nfacet.query={!key=平板电视}item_category:平板电视&\\r\\nfacet.query={!key=华为品牌}item_brand:华为&\\r\\nfacet.query={!key=三星品牌}item_brand:三星\\r\\n{---->%7B   }---->%7D\\r\\n这样可以让字段名统一起来，方便我们拿到请求数据后，封装成自己的对象;\\r\\n\\r\\nfacet=on&\\r\\nfacet.query=%7B!key=平板电视%7Ditem_category:平板电视&\\r\\nfacet.query=%7B!key=华为品牌%7Ditem_brand:华为&\\r\\nfacet.query=%7B!key=三星品牌%7Ditem_brand:三星\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"facet=on&\\r\\nfacet.query={!key=平板电视}item_category:平板电视&\\r\\nfacet.query={!key=华为品牌}item_brand:华为&\\r\\nfacet.query={!key=三星品牌}item_brand:三星\\r\\n{---->%7B   }---->%7D\\r\\n这样可以让字段名统一起来，方便我们拿到请求数据后，封装成自己的对象;\\r\\n\\r\\nfacet=on&\\r\\nfacet.query=%7B!key=平板电视%7Ditem_category:平板电视&\\r\\nfacet.query=%7B!key=华为品牌%7Ditem_brand:华为&\\r\\nfacet.query=%7B!key=三星品牌%7Ditem_brand:三星\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_195847.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"457-facet_interval\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.7 facet_interval\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Facet中还提供了一种分组查询方式facet_interval。功能类似于facet_ranges。facet_interval通过设置一个区间及域名，可以统计可变区间对应的文档数量；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过facet_ranges和facet_interval都可以实现范围查询功能，但是底层实现不同，性能也不同.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数名\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.interval\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"此参数指定统计查询的域。它可以在同一请求中多次使用以指示多个字段。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.interval.set\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定区间。如果统计的域有多个，可以通过\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"f.<fieldname>.facet.interval.set\"}]},{\"type\":\"text\",\"value\":\"语法指定不同域的区间。区间语法 区间必须以'（' 或 '\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"' 开头，然后是逗号（'，'），最终值，最后是 ')' 或'\"}]},{\"type\":\"text\",\"value\":\"'。 例如：（1,10） - 将包含大于1且小于10的值\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1,10\"}]},{\"type\":\"text\",\"value\":\")-  将包含大于或等于1且小于10的值 \"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1,10\"}]},{\"type\":\"text\",\"value\":\" -  将包含大于等于1且小于等于10的值\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：统计item_price在\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"0-10\"}]},{\"type\":\"text\",\"value\":\"及\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1000-2000\"}]},{\"type\":\"text\",\"value\":\"的商品数量和item_createtime在2019年~现在添加的商品数量\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.interval=item_price\\r\\n&f.item_price.facet.interval.set=[0,10]\\r\\n&f.item_price.facet.interval.set=[1000,2000]\\r\\n&facet.interval=item_createtime\\r\\n&f.item_createtime.facet.interval.set=[2019-01-01T0:0:0Z,NOW]\\r\\n由于有特殊符号需要进行URL编码[---->%5B   ]---->%5D\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&facet=on\\r\\n&facet.interval=item_price\\r\\n&f.item_price.facet.interval.set=%5B0,10%5D\\r\\n&f.item_price.facet.interval.set=%5B1000,2000%5D\\r\\n&facet.interval=item_createtime\\r\\n&f.item_createtime.facet.interval.set=%5B2019-01-01T0:0:0Z,NOW%5D\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.interval=item_price\\r\\n&f.item_price.facet.interval.set=[0,10]\\r\\n&f.item_price.facet.interval.set=[1000,2000]\\r\\n&facet.interval=item_createtime\\r\\n&f.item_createtime.facet.interval.set=[2019-01-01T0:0:0Z,NOW]\\r\\n由于有特殊符号需要进行URL编码[---->%5B   ]---->%5D\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&facet=on\\r\\n&facet.interval=item_price\\r\\n&f.item_price.facet.interval.set=%5B0,10%5D\\r\\n&f.item_price.facet.interval.set=%5B1000,2000%5D\\r\\n&facet.interval=item_createtime\\r\\n&f.item_createtime.facet.interval.set=%5B2019-01-01T0:0:0Z,NOW%5D\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-20_191158.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"458-facet中其他的用法\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.8 facet中其他的用法\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"tag操作符和ex操作符\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"首先我们来看一下使用场景，当查询使用q或者fq指定查询条件的时候，查询条件的域刚好是facet的域；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分组的结果就会被限制，其他的分组数据就没有意义。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&fq=item_brand:三星 \\r\\n&facet=on\\r\\n&facet.field=item_brand导致分组结果中只有三星品牌有数量，其他品牌都没有数量\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&fq=item_brand:三星 \\r\\n&facet=on\\r\\n&facet.field=item_brand导致分组结果中只有三星品牌有数量，其他品牌都没有数量\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_201921.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果想查看其他品牌手机的数量。给过滤条件定义标记，在分组统计的时候，忽略过滤条件；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询文档是2个条件，分组统计只有一个条件\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&q=item_title:手机\\r\\n&fq={!tag=brandTag}item_brand:三星   \\r\\n&facet=on\\r\\n&facet.field={!ex=brandTag}item_brand\\r\\n{---->%7B   }---->%7D\\r\\n\\r\\n&q=item_title:手机\\r\\n&fq=%7B!tag=brandTag%7Ditem_brand:三星   \\r\\n&facet=on\\r\\n&facet.field=%7B!ex=brandTag%7Ditem_brand\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"&q=item_title:手机\\r\\n&fq={!tag=brandTag}item_brand:三星   \\r\\n&facet=on\\r\\n&facet.field={!ex=brandTag}item_brand\\r\\n{---->%7B   }---->%7D\\r\\n\\r\\n&q=item_title:手机\\r\\n&fq=%7B!tag=brandTag%7Ditem_brand:三星   \\r\\n&facet=on\\r\\n&facet.field=%7B!ex=brandTag%7Ditem_brand\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试结果：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_202534.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"459-facetpivot\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.9 facet.pivot\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"多维度分组查询。听起来比较抽象。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"举例：统计每一个品牌和其不同分类商品对应的数量；\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"品牌\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"分类\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数量\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"华为\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"手机\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"200\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"华为\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"电脑\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"300\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"三星\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"手机\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"200\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"三星\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"电脑\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"20\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"三星\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"平板电视\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"200\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"。。。\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"。。。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这种需求就可以使用维度查询完成。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.pivot=item_brand,item_category\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.pivot=item_brand,item_category\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_104450.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"46-高级查询-group查询\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6  高级查询-group查询\"}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"461-group介绍和入门\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.1 group介绍和入门\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr group作用：将具有相同字段值的文档分组，并返回每个组的顶部文档。 Group和Facet的概念很像，都是用来分组,但是分组的结果是不同；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group查询相关参数\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"类型\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设为true，表示结果需要分组\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.field\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"字符串\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"需要分组的字段，字段类型需要是StrField或TextField\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.func\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询语句\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"可以指定查询函数\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.query\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询语句\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"可以指定查询语句\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"rows\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"返回多少组结果，默认10\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"start\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定结果开始位置/偏移量\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.limit\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"每组返回多数条结果,默认1\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.offset\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定每组结果开始位置/偏移量\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"sort\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"排序算法\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"控制各个组的返回顺序\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.sort\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"排序算法\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"控制每一分组内部的顺序\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.format\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"grouped/simple\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设置为simple可以使得结果以单一列表形式返回\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.main\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设为true时，结果将主要由第一个字段的分组命令决定\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.ngroups\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设为true时，Solr将返回分组数量，默认fasle\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.truncate\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设为true时，facet数量将基于group分组中匹相关性高的文档，默认fasle\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.cache.percent\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数0-100\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设为大于0时，表示缓存结果，默认为0。该项对于布尔查询，通配符查询，模糊查询有改善，却会减慢普通词查询。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询Item_title中包含手机的文档，按照品牌对文档进行分组；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.field=item_brand\\r\\ngroup分组结果和Fact分组查询的结果完全不同，他把同组的文档放在一起，显示该组文档数量，仅仅展示了第一个文档。\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.field=item_brand\\r\\ngroup分组结果和Fact分组查询的结果完全不同，他把同组的文档放在一起，显示该组文档数量，仅仅展示了第一个文档。\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_112242.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"462-group参数-分页参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.2 group参数-分页参数\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节我们讲解了group的入门，接下来我们对group中的参数进行详解。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"首先我们先来观察一下入门的分组结果。只返回10个组结果。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1582000644409\",\"src\":\"imgs/1582000644409.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"rows\"}]},{\"type\":\"text\",\"value\":\"通过rows参数设置返回组的个数。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机&group=true&group.field=item_brand&rows=13\\r\\n比上面分组结果多了三个组\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机&group=true&group.field=item_brand&rows=13\\r\\n比上面分组结果多了三个组\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_124038.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过start和rows参数结合使用可以对分组结果分页；查询第一页3个分组结果\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=3\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=3\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_124530.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"除了可以对分组结果进行分页，可以对组内文档进行分页。默认情况下。只展示该组顶部文档。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：展示每组前5个文档。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=3\\r\\n&group.limit=5&group.offset=0\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=3\\r\\n&group.limit=5&group.offset=0\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_125336.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"463-group参数-排序参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.3 group参数-排序参数\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"排序参数分为分组排序和组内文档排序；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"sort\"}]},{\"type\":\"text\",\"value\":\"分组进行排序\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：按照品牌名称进行字典排序\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=5\\r\\n&group.limit=5&group.offset=0\\r\\n&sort=item_brand asc\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=5\\r\\n&group.limit=5&group.offset=0\\r\\n&sort=item_brand asc\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group.sort\"}]},{\"type\":\"text\",\"value\":\"组内文档进行排序\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：组内文档按照价格降序；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=5\\r\\n&group.limit=5&group.offset=0\\r\\n&group.sort=item_price+desc\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=5\\r\\n&group.limit=5&group.offset=0\\r\\n&group.sort=item_price+desc\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"464-group查询结果分组\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.4 group查询结果分组\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在group中除了支持根据Field进行分组，还支持查询条件分组。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：对item_brand是华为，三星，TCL的三个品牌,分组展示对应的文档信息。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.query=item_brand:华为\\r\\n&group.query=item_brand:三星\\r\\n&group.query=item_brand:TCL\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.query=item_brand:华为\\r\\n&group.query=item_brand:三星\\r\\n&group.query=item_brand:TCL\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_140314.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"465-group-函数分组了解\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.5 group 函数分组（了解）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在group查询中除了支持Field分组，Query分组。还支持函数分组。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"按照价格范围对商品进行分组。0\"},{\"type\":\"element\",\"tag\":\"del\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1000属于第1组，1000\"}]},{\"type\":\"text\",\"value\":\"2000属于第二组，否则属于第3组。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=*:*&\\r\\ngroup=true&\\r\\ngroup.func=map(item_price,0,1000,1,map(item_price,1000,2000,2,3))\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=*:*&\\r\\ngroup=true&\\r\\ngroup.func=map(item_price,0,1000,1,map(item_price,1000,2000,2,3))\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"map(x,10,100,1,2) 在函数参数中的x如果落在[10,100)之间，则将x的值映射为1，否则将其值映射为2\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"map(x,10,100,1,2) 在函数参数中的x如果落在[10,100)之间，则将x的值映射为1，否则将其值映射为2\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_095224.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"467-group其他参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.7 group其他参数\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group.ngroups:是否统计组数量\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.field=item_brand\\r\\n&group.ngroups=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.field=item_brand\\r\\n&group.ngroups=true\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group.cache.percent\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr Group查询相比Solr的标准查询来说，速度相对要慢很多。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"可以通过group.cache.percent参数来开启group查询缓存。该参数默认值为0.可以设置为0-100之间的数字\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"该值设置的越大，越占用系统内存。对于布尔类型等分组查询。效果比较明显。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group.main\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"获取每一个分组中相关度最高的文档即顶层文档，构成一个文档列表。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&group.field=item_brand\\r\\n&group=true\\r\\n&group.main=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&group.field=item_brand\\r\\n&group=true\\r\\n&group.main=true\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group.truncate(了解)\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"按照品牌分组展示相关的商品；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=*:*&group=true&group.field=item_brand\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=*:*&group=true&group.field=item_brand\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在次基础上使用facet，按照分类分组统计；统计的结果，基于q中的条件进行的facet分组。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=*：*&group=true&group.field=item_brand\\r\\n&facet=true\\r\\n&facet.field=item_category\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=*：*&group=true&group.field=item_brand\\r\\n&facet=true\\r\\n&facet.field=item_category\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果我们想基于每个分组中匹配度高的文档进行Facet分组统计\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=*:*&group=true&group.field=item_brand\\r\\n&facet=true\\r\\n&facet.field=item_category\\r\\n&group.truncate=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=*:*&group=true&group.field=item_brand\\r\\n&facet=true\\r\\n&facet.field=item_category\\r\\n&group.truncate=true\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"47-高级查询-高亮查询\"},\"children\":[{\"type\":\"text\",\"value\":\"4.7  高级查询-高亮查询\"}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"471-高亮的概述\"},\"children\":[{\"type\":\"text\",\"value\":\"4.7.1 高亮的概述\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"高亮显示是指根据关键字搜索文档的时候，显示的页面对关键字给定了特殊样式， 让它显示更加突出，如下面商品搜索中，关键字变成了红色，其实就是给定了红色样 ；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_194149.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"高亮的本质，是对域中包含关键字前后加标签\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_194449.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"472-solr高亮分类和高亮基本使用\"},\"children\":[{\"type\":\"text\",\"value\":\"4.7.2 Solr高亮分类和高亮基本使用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节我们简单阐述了什么是高亮，接下来我们来讲解Solr中高亮的实现方案；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中提供了常用的3种高亮的组件（Highlighter）也称为高亮器，来支持高亮查询。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Unified Highlighter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Unified Highlighter是最新的Highlighter（从Solr6.4开始），它是最性能最突出和最精确的选择。它可以通过插件/扩展来处理特定的需求和其他需求。官方建议使用该Highlighter，即使它不是默认值。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Original Highlighter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Original Highlighter，有时被称为\\\"Standard Highlighter\\\" or \\\"Default Highlighter\\\"，是Solr最初的Highlighter，提供了一些定制选项，曾经一度被选择。它的查询精度足以满足大多数需求，尽管它不如统一的Highlighter完美；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"FastVector Highlighter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"FastVector Highlighter特别支持多色高亮显示，一个域中不同的词采用不同的html标签作为前后缀。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Highlighter公共的一些参数，先来认识一下其中重要的一些参数；\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"描述\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"通过此参数值用来开启或者禁用高亮.默认值是false.如果你想使用高亮，必须设置成true\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.method\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"unified|original|fastVector\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"使用哪种哪种高亮组件. 接收的值有: \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"unified\"}]},{\"type\":\"text\",\"value\":\", \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"original\"}]},{\"type\":\"text\",\"value\":\", \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"fastVector\"}]},{\"type\":\"text\",\"value\":\". 默认值是 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"original\"}]},{\"type\":\"text\",\"value\":\".\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.fl\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"filed1,filed2...\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定高亮字段列表.多个字段之间以逗号或空格分开.表示那个字段要参与高亮。默认值为空字符串。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.q\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"item_title:三星\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"高亮查询条件，此参数运行高亮的查询条件和q中的查询条件不同。如果你设置了它, 你需要设置 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.qparser\"}]},{\"type\":\"text\",\"value\":\".默认值和q中的查询条件一致\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.tag.pre\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<em>\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"高亮词开头添加的标签，可以是任意字符串，一般设置为HTML标签，默认值为\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<em>\"}]},{\"type\":\"text\",\"value\":\".对于Original Highlighter需要指定hl.simple.pre\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.tag.post\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"</em>\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"高亮词后面添加的标签，可以是任意字符串，一般设置为HTML标签，默认值\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"</em>\"}]},{\"type\":\"text\",\"value\":\".对于Original Highlighter需要指定hl.simple.post\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.qparser\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"lucene|dismax|edismax\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"用于hl.q查询的查询解析器。仅当hl.q设置时适用。默认值是defType参数的值，而defType参数又默认为lucene。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.requireFieldMatch\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认为fasle. 如果置为true，除非该字段的查询结果不为空才会被高亮。它的默认值是false，意味 着它可能匹配某个字段却高亮一个不同的字段。如果hl.fl使用了通配符，那么就要启用该参数\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.usePhraseHighlighter\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认true．如果一个查询中含有短语（引号框起来的）那么会保证一定要完全匹配短语的才会被高亮\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.highlightMultiTerm\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认true.如果设置为true,solr将会高亮出现在多terms查询中的短语。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.snippets\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认为1.指定每个字段生成的高亮字段的最大数量.\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.fragsize\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"每个snippet返回的最大字符数。默认是100.如果为0，那么该字段不会被fragmented且整个字段的值会被返回\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.encoder\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"html\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"如果为空（默认值），则存储的文本将返回，而不使用highlighter执行任何转义/编码。如果设置为html，则将对特殊的html/XML字符进行编码；\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.maxAnalyzedChars\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认10000. 搜索高亮的最大字符,对一个大字段使用一个复杂的正则表达式是非常昂贵的。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"高亮的入门案例：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询item_title中包含手机的文档，并且对item_title中的手机关键字进行高亮；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_102857.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"473-solr高亮中其他的参数介绍\"},\"children\":[{\"type\":\"text\",\"value\":\"4.7.3 Solr高亮中其他的参数介绍\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.fl\"}]},{\"type\":\"text\",\"value\":\"指定高亮的域，表示哪些域要参于高亮；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询Item_title:手机的文档， Item_title,item_category为高亮域\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果中item_title手机产生了高亮，item_category中手机也产生了高亮.\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_162842.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这种高亮肯对我们来说是不合理的。可以使用hl.requireFieldMatch参数解决。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.requireFieldMatch\"}]},{\"type\":\"text\",\"value\":\"只有符合对应查询条件的域中参数才进行高亮；只有item_title手机才会高亮。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.requireFieldMatch=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.requireFieldMatch=true\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_163021.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.q\"}]},{\"type\":\"text\",\"value\":\" 默认情况下高亮是基于q中的条件参数。  使用fl.q让高亮的条件参数和q的条件参数不一致。比较少见。但是solr提供了这种功能。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询Item_tile中包含三星的文档，对item_category为手机的进行高亮；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:三星\\r\\n&hl=true\\r\\n&hl.q=item_category:手机\\r\\n&hl.fl=item_category\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:三星\\r\\n&hl=true\\r\\n&hl.q=item_category:手机\\r\\n&hl.fl=item_category\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_105634.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.highlightMultiTerm\"}]},{\"type\":\"text\",\"value\":\"默认为true，如果为true，Solr将对通配符查询进行高亮。如果为false，则根本不会高亮显示它们。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:micro* OR item_title:panda\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:micro* OR item_title:panda\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_224730.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对应基于通配符查询的结果不进行高亮；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:micro* OR item_title:panda\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\\r\\n&hl.highlightMultiTerm=false\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:micro* OR item_title:panda\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\\r\\n&hl.highlightMultiTerm=false\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.usePhraseHighlighter\"}]},{\"type\":\"text\",\"value\":\"为true时，将来我们基于短语进行搜索的时候，短语做为一个整体被高亮。为false时，短语中的每个单词都会被单独高亮。在Solr中短语需要用引号引起来；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:\\\"老人手机\\\"\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:\\\"老人手机\\\"\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_211655.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"关闭hl.usePhraseHighlighter=false;\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:\\\"老人手机\\\"\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.usePhraseHighlighter=false;\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:\\\"老人手机\\\"\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.usePhraseHighlighter=false;\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_211733.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"474-highlighter的切换\"},\"children\":[{\"type\":\"text\",\"value\":\"4.7.4 Highlighter的切换\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们已经讲解完毕Highlighter中的通用参数，所有Highlighter都有的。接下来我们要讲解的是Highlighter的切换和特有参数。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如何切换到unified (\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.method=unified\"}]},{\"type\":\"text\",\"value\":\"),切换完毕后，其实我们是看不出他和original有什么区别。因为unified Highlighter比original Highlighter只是性能提高。精确度提高。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"区别不是很大，unified 相比original 的粒度更细；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:三星平板电视\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.method=unified\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:三星平板电视\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.method=unified\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_191319.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如何切换到fastVector\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"优势：使用fastVector最大的好处，就是可以为域中不同的词使用不同的颜色，第一个词使用黄色，第二个使用红色。而且fastVector和orignal可以混合使用，不同的域使用不同的Highlighter；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用fastVector的要求：使用FastVector Highlighter需要在高亮域上设置三个属性（termVectors、termPositions和termOffset）；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询item_title中包含三星平板电视，item_category是平板电视的文档。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_title中的高亮词要显示不同的颜色。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_title\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\" termVectors=\\\"true\\\" termPositions=\\\"true\\\" termOffsets=\\\"true\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_title\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\" termVectors=\\\"true\\\" termPositions=\\\"true\\\" termOffsets=\\\"true\\\" />\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<!-- 重启Solr,重写生成索引； -->\\r\\n<delete>\\r\\n<query>*:*</query>\\r\\n</delete>\\r\\n<commit/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<!-- 重启Solr,重写生成索引； -->\\r\\n<delete>\\r\\n<query>*:*</query>\\r\\n</delete>\\r\\n<commit/>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改solrcofig.xml配置文件指定fastVector高亮器的前后缀\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<!-- 官方给的一个例子 -->\\r\\n<fragmentsBuilder name=\\\"colored\\\" class=\\\"solr.highlight.ScoreOrderFragmentsBuilder\\\">\\r\\n  <lst name=\\\"defaults\\\">\\r\\n    <str name=\\\"hl.tag.pre\\\">\\r\\n      <![CDATA[\\r\\n      <b style=\\\"background:yellow\\\">,<b style=\\\"background:lawgreen\\\">,\\r\\n      <b style=\\\"background:aquamarine\\\">,<b style=\\\"background:magenta\\\">,\\r\\n      <b style=\\\"background:palegreen\\\">,<b style=\\\"background:coral\\\">,\\r\\n      <b style=\\\"background:wheat\\\">,<b style=\\\"background:khaki\\\">,\\r\\n      <b style=\\\"background:lime\\\">,<b style=\\\"background:deepskyblue\\\">]]>\\r\\n    </str>\\r\\n    <str name=\\\"hl.tag.post\\\">\\r\\n      <![CDATA[</b>]]>\\r\\n    </str>\\r\\n  </lst>\\r\\n</fragmentsBuilder>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<!-- 官方给的一个例子 -->\\r\\n<fragmentsBuilder name=\\\"colored\\\" class=\\\"solr.highlight.ScoreOrderFragmentsBuilder\\\">\\r\\n  <lst name=\\\"defaults\\\">\\r\\n    <str name=\\\"hl.tag.pre\\\">\\r\\n      <![CDATA[\\r\\n      <b style=\\\"background:yellow\\\">,<b style=\\\"background:lawgreen\\\">,\\r\\n      <b style=\\\"background:aquamarine\\\">,<b style=\\\"background:magenta\\\">,\\r\\n      <b style=\\\"background:palegreen\\\">,<b style=\\\"background:coral\\\">,\\r\\n      <b style=\\\"background:wheat\\\">,<b style=\\\"background:khaki\\\">,\\r\\n      <b style=\\\"background:lime\\\">,<b style=\\\"background:deepskyblue\\\">]]>\\r\\n    </str>\\r\\n    <str name=\\\"hl.tag.post\\\">\\r\\n      <![CDATA[</b>]]>\\r\\n    </str>\\r\\n  </lst>\\r\\n</fragmentsBuilder>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需要请求处理器中配置使用colored这一套fastVector的前后缀；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<str name=\\\"hl.fragmentsBuilder\\\">colored</str>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<str name=\\\"hl.fragmentsBuilder\\\">colored</str>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:三星平板电视 AND item_category:平板电视\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.method=original\\r\\n&f.item_title.hl.method=fastVector\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:三星平板电视 AND item_category:平板电视\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.method=original\\r\\n&f.item_title.hl.method=fastVector\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_215803.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"到这关于Highlighter的切换我们就讲解完毕了。不同的Highlighter也有自己特有的参数，这些参数大多是性能参数。大家可以参考官方文档。\\r\\n\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/highlighting.html#the-fastvector-highlighter\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/highlighting.html#the-fastvector-highlighter\"}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"48-solr-query-suggest\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8  Solr Query Suggest\"}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"481-solr-query-suggest简介\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.1 Solr Query Suggest简介\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr从1.4开始便提供了Query Suggest，Query Suggest目前是各大搜索应用的标配，主要作用是避免用户输入错误的搜索词，同时将用户引导到相应的关键词上进行搜索。Solr内置了Query Suggest的功能，它在Solr里叫做Suggest模块. 使用该模块.我们通常可以实现2种功能。拼写检查(Spell-Checking)，再一个就是自动建议(AutoSuggest)。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"什么是拼写检查(Spell-Checking)\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"比如说用户搜索的是sorl,搜索应用可能会提示你，你是不是想搜索solr.百度就有这个功能。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_095627.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这就是拼写检查(Spell Checking)的功能。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"什么又是自动建议(AutoSuggest)\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"AutoSuggest是指用户在搜索的时候，给用户一些提示建议，可以帮助用户快速构建自己的查询。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"比如我们搜索java.\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-26_170949.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"482-spell-checking的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.2 Spell-Checking的使用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要想使用Spell-Checking首先要做的事情，就是在SolrConfig.xml文件中配置SpellCheckComponent；并且要指定拼接检查器，Solr一共提供了4种拼写检查器IndexBasedSpellChecker，DirectSolrSpellChecker,FileBasedSpellChecker和WordBreakSolrSpellChecker。这4种拼写检查的组件，我们通常使用的都是第二种。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"IndexBasedSpellChecker（了解）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"IndexBasedSpellChecker 使用 Solr 索引作为拼写检查的基础。它要求定义一个域作为拼接检查term的基础域。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：对item_title域,item_brand域,item_category域进行拼接检查。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义一个域作为拼接检查term 的基础域item_title_spell，将item_title，item_brand，item_category域复制到item_title_spell；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_title_spell\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"false\\\" multiValued=\\\"true\\\" />\\r\\n<copyField source=\\\"item_title\\\" dest=\\\"item_title_spell\\\" />\\r\\n<copyField source=\\\"item_brand\\\" dest=\\\"item_title_spell\\\" />\\r\\n<copyField source=\\\"item_category\\\" dest=\\\"item_title_spell\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_title_spell\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"false\\\" multiValued=\\\"true\\\" />\\r\\n<copyField source=\\\"item_title\\\" dest=\\\"item_title_spell\\\" />\\r\\n<copyField source=\\\"item_brand\\\" dest=\\\"item_title_spell\\\" />\\r\\n<copyField source=\\\"item_category\\\" dest=\\\"item_title_spell\\\" />\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在SolrConfig.xml中配置IndexBasedSpellChecker作为拼写检查的组件\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<searchComponent name=\\\"indexspellcheck\\\" class=\\\"solr.SpellCheckComponent\\\">\\r\\n  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"classname\\\">solr.IndexBasedSpellChecker</str> <!--组件的实现类-->\\r\\n    <str name=\\\"spellcheckIndexDir\\\">./spellchecker</str> <!--拼写检查索引生成目录-->\\r\\n    <str name=\\\"field\\\">item_title_spell</str> <!--拼写检查的域-->\\r\\n    <str name=\\\"buildOnCommit\\\">true</str><!--是否每次提交文档的时候，都生成拼写检查的索引-->\\r\\n    <!-- optional elements with defaults\\r\\n    <str name=\\\"distanceMeasure\\\">org.apache.lucene.search.spell.LevensteinDistance</str>\\r\\n    <str name=\\\"accuracy\\\">0.5</str>\\r\\n    -->\\r\\n</lst>\\r\\n</searchComponent>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<searchComponent name=\\\"indexspellcheck\\\" class=\\\"solr.SpellCheckComponent\\\">\\r\\n  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"classname\\\">solr.IndexBasedSpellChecker</str> <!--组件的实现类-->\\r\\n    <str name=\\\"spellcheckIndexDir\\\">./spellchecker</str> <!--拼写检查索引生成目录-->\\r\\n    <str name=\\\"field\\\">item_title_spell</str> <!--拼写检查的域-->\\r\\n    <str name=\\\"buildOnCommit\\\">true</str><!--是否每次提交文档的时候，都生成拼写检查的索引-->\\r\\n    <!-- optional elements with defaults\\r\\n    <str name=\\\"distanceMeasure\\\">org.apache.lucene.search.spell.LevensteinDistance</str>\\r\\n    <str name=\\\"accuracy\\\">0.5</str>\\r\\n    -->\\r\\n</lst>\\r\\n</searchComponent>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在请求处理器中配置拼写检查的组件；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>indexspellcheck</str>\\r\\n</arr>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>indexspellcheck</str>\\r\\n</arr>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:meta\\r\\n&spellcheck=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:meta\\r\\n&spellcheck=true\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_113946.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"DirectSolrSpellChecker\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：基于item_title域,item_brand域,item_category域进行搜索的时候，需要进行拼接检查。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"首先要定义一个词典域，拼写检查是需要根据错误词--->正确的词，正确的词构成的域；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"由于我们在进行拼写检查的时候，可能会有中文，所以需要首先创建一个词典域的域类型。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<!-- 说明 这里spell 单独定义一个类型 是为了屏蔽搜索分词对中文拼写检测的影响,分词后查询结果过多不会给出建议词 -->\\r\\n<fieldType name=\\\"spell_text_ik\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\" class=\\\"org.wltea.analyzer.lucene.IKAnalyzer\\\" />\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.WhitespaceTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<!-- 说明 这里spell 单独定义一个类型 是为了屏蔽搜索分词对中文拼写检测的影响,分词后查询结果过多不会给出建议词 -->\\r\\n<fieldType name=\\\"spell_text_ik\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\" class=\\\"org.wltea.analyzer.lucene.IKAnalyzer\\\" />\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.WhitespaceTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义一个词典的域，将需要进行拼写检查的域复制到该域；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"spell\\\" type=\\\"spell_text_ik\\\" multiValued=\\\"true\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\\r\\n<copyField source=\\\"item_title\\\" dest=\\\"spell\\\"/>\\r\\n<copyField source=\\\"item_brand\\\" dest=\\\"spell\\\"/>\\r\\n<copyField source=\\\"item_category\\\" dest=\\\"spell\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"spell\\\" type=\\\"spell_text_ik\\\" multiValued=\\\"true\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\\r\\n<copyField source=\\\"item_title\\\" dest=\\\"spell\\\"/>\\r\\n<copyField source=\\\"item_brand\\\" dest=\\\"spell\\\"/>\\r\\n<copyField source=\\\"item_category\\\" dest=\\\"spell\\\"/>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改SolrConfig.xml中的配置文件中的拼写检查器组件。指定拼写词典域的类型，词典域\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_122824.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Request Handler中配置拼写检查组件\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>spellcheck</str>\\r\\n</arr>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>spellcheck</str>\\r\\n</arr>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启，重新创建索引。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试，spellcheck=true参数表示是否开启拼写检查，搜索内容一定大于等于4个字符。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=item_title:iphono&spellcheck=true\\r\\nhttp://localhost:8080/solr/collection1/select?q=item_title:galax&spellcheck=true\\r\\nhttp://localhost:8080/solr/collection1/select?q=item_brand:中国移走&spellcheck=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=item_title:iphono&spellcheck=true\\r\\nhttp://localhost:8080/solr/collection1/select?q=item_title:galax&spellcheck=true\\r\\nhttp://localhost:8080/solr/collection1/select?q=item_brand:中国移走&spellcheck=true\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_130320.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"FileBasedSpellChecker\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用外部文件作为拼写检查字的词典，基于词典中的词进行拼写检查。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在solrconfig.xml中配置拼写检查的组件。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<searchComponent name=\\\"fileChecker\\\" class=\\\"solr.SpellCheckComponent\\\">\\r\\n  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"classname\\\">solr.FileBasedSpellChecker</str>\\r\\n    <str name=\\\"name\\\">fileChecker</str>\\r\\n    <str name=\\\"sourceLocation\\\">spellings.txt</str>\\r\\n    <str name=\\\"characterEncoding\\\">UTF-8</str>\\r\\n    <!-- optional elements with defaults-->\\r\\n    <str name=\\\"distanceMeasure\\\">org.apache.lucene.search.spell.LevensteinDistance</str>\\r\\n\\r\\n    <!--精确度，介于0和1之间的值。值越大，匹配的结果数越少。假设对 helle进行拼写检查，\\r\\n        如果此值设置够小的话，\\\" hellcat\\\"，\\\"hello\\\"都会被认为是\\\"helle\\\"的正确的拼写。如果此值设置够大，则\\\"hello\\\"会被认为是正确的拼写 -->\\r\\n    <str name=\\\"accuracy\\\">0.5</str>\\r\\n\\r\\n    <!--表示最多有几个字母变动。比如：对\\\"manag\\\"进行拼写检查，则会找到\\\"manager\\\"做为正确的拼写检查；如果对\\\"mana\\\"进行拼写检查，因为\\\"mana\\\"到\\\"manager\\\"，需有3个字母的变动，所以\\\"manager\\\"会被遗弃  -->\\r\\n    <int name=\\\"maxEdits\\\">2</int>\\r\\n\\r\\n    <!-- 最小的前辍数。如设置为1，意思是指第一个字母不能错。比如：输入\\\"cinner\\\",虽然和\\\"dinner\\\"只有一个字母的编辑距离，但是变动的是第一个字母，所以\\\"dinner\\\"不是\\\"cinner\\\"的正确拼写 -->\\r\\n    <int name=\\\"minPrefix\\\">1</int>\\r\\n    <!-- 进行拼写检查所需要的最小的字符数。此处设置为4，表示如果只输入了3个以下字符，则不会进行拼写检查(3个以下的字符用户基本) -->\\r\\n    <int name=\\\"minQueryLength\\\">4</int>\\r\\n\\r\\n\\r\\n    <!-- 被推荐的词在文档中出现的最小频率。整数表示在文档中出现的次数，百分比数表示有百分之多少的文档出现了该推荐词-->\\r\\n    <float name=\\\"maxQueryFrequency\\\">0.01</float>\\r\\n  </lst>\\r\\n</searchComponent>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<searchComponent name=\\\"fileChecker\\\" class=\\\"solr.SpellCheckComponent\\\">\\r\\n  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"classname\\\">solr.FileBasedSpellChecker</str>\\r\\n    <str name=\\\"name\\\">fileChecker</str>\\r\\n    <str name=\\\"sourceLocation\\\">spellings.txt</str>\\r\\n    <str name=\\\"characterEncoding\\\">UTF-8</str>\\r\\n    <!-- optional elements with defaults-->\\r\\n    <str name=\\\"distanceMeasure\\\">org.apache.lucene.search.spell.LevensteinDistance</str>\\r\\n\\r\\n    <!--精确度，介于0和1之间的值。值越大，匹配的结果数越少。假设对 helle进行拼写检查，\\r\\n        如果此值设置够小的话，\\\" hellcat\\\"，\\\"hello\\\"都会被认为是\\\"helle\\\"的正确的拼写。如果此值设置够大，则\\\"hello\\\"会被认为是正确的拼写 -->\\r\\n    <str name=\\\"accuracy\\\">0.5</str>\\r\\n\\r\\n    <!--表示最多有几个字母变动。比如：对\\\"manag\\\"进行拼写检查，则会找到\\\"manager\\\"做为正确的拼写检查；如果对\\\"mana\\\"进行拼写检查，因为\\\"mana\\\"到\\\"manager\\\"，需有3个字母的变动，所以\\\"manager\\\"会被遗弃  -->\\r\\n    <int name=\\\"maxEdits\\\">2</int>\\r\\n\\r\\n    <!-- 最小的前辍数。如设置为1，意思是指第一个字母不能错。比如：输入\\\"cinner\\\",虽然和\\\"dinner\\\"只有一个字母的编辑距离，但是变动的是第一个字母，所以\\\"dinner\\\"不是\\\"cinner\\\"的正确拼写 -->\\r\\n    <int name=\\\"minPrefix\\\">1</int>\\r\\n    <!-- 进行拼写检查所需要的最小的字符数。此处设置为4，表示如果只输入了3个以下字符，则不会进行拼写检查(3个以下的字符用户基本) -->\\r\\n    <int name=\\\"minQueryLength\\\">4</int>\\r\\n\\r\\n\\r\\n    <!-- 被推荐的词在文档中出现的最小频率。整数表示在文档中出现的次数，百分比数表示有百分之多少的文档出现了该推荐词-->\\r\\n    <float name=\\\"maxQueryFrequency\\\">0.01</float>\\r\\n  </lst>\\r\\n</searchComponent>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在SolrCore/conf目录下，创建一个拼写检查词典文件，该文件已经存在。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_130104.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"加入拼写检查的词；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"pizza\\r\\nhistory\\r\\n传智播客\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"pizza\\r\\nhistory\\r\\n传智播客\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在请求处理器中配置拼写检查组件\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>fileChecker</str>\\r\\n</arr>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>fileChecker</str>\\r\\n</arr>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=item_title:pizzaaa&spellcheck=true&spellcheck.dictionary=fileChecker&spellcheck.build=true\"}]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_134547.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"WordBreakSolrSpellChecker\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"WordBreakSolrSpellChecker可以通过组合相邻的查询词/或将查询词分解成多个词来提供建议。是对SpellCheckComponent增强，通常WordBreakSolrSpellChecker拼写检查器可以配合一个传统的检查器（即：DirectSolrSpellChecker）。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"name\\\">wordbreak</str>\\r\\n    <str name=\\\"classname\\\">solr.WordBreakSolrSpellChecker</str>\\r\\n    <str name=\\\"field\\\">sepll</str>\\r\\n    <str name=\\\"combineWords\\\">true</str>\\r\\n    <str name=\\\"breakWords\\\">true</str>\\r\\n    <int name=\\\"maxChanges\\\">10</int>\\r\\n  </lst>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"name\\\">wordbreak</str>\\r\\n    <str name=\\\"classname\\\">solr.WordBreakSolrSpellChecker</str>\\r\\n    <str name=\\\"field\\\">sepll</str>\\r\\n    <str name=\\\"combineWords\\\">true</str>\\r\\n    <str name=\\\"breakWords\\\">true</str>\\r\\n    <int name=\\\"maxChanges\\\">10</int>\\r\\n  </lst>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=item_title:iphone&spellcheck=true&spellcheck.dictionary=default&spellcheck.dictionary=wordbreak\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"483-拼写检查相关的参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.3 拼写检查相关的参数\"}]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"描述\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"spellcheck\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true | false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"此参数为请求打开拼写检查建议。如果\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"true\"}]},{\"type\":\"text\",\"value\":\"，则会生成拼写建议。如果需要拼写检查，则这是必需的。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"spellcheck.build\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true | false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"如果设置为\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"true\"}]},{\"type\":\"text\",\"value\":\"，则此参数将创建用于拼写检查的字典。在典型的搜索应用程序中，您需要在使用拼写检查之前构建字典。但是，并不总是需要先建立一个字典。例如，您可以将拼写检查器配置为使用已存在的字典。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"spellcheck.count\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"此参数指定拼写检查器应为某个术语返回的最大建议数。如果未设置此参数，则该值默认为\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1\"}]},{\"type\":\"text\",\"value\":\"。如果参数已设置但未分配一个数字，则该值默认为\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"5\"}]},{\"type\":\"text\",\"value\":\"。如果参数设置为正整数，则该数字将成为拼写检查程序返回的建议的最大数量。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"spellcheck.dictionary\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定要使用的拼写检查器\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认值defualt\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"其他参数参考\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/spell-checking.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/spell-checking.html\"}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"484-autosuggest-入门\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.4 AutoSuggest 入门\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"AutoSuggest 是搜索应用一个方便的功能，对用户输入的关键字进行预测和建议，减少了用户的输入。首先我们先来讲解一下suggest的入门流程；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在solrconfig.xml中配置suggsetComponent,并且要在组件中配置自动建议器,配置文件已经配置过。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<searchComponent name=\\\"suggest\\\" class=\\\"solr.SuggestComponent\\\">\\r\\n  <lst name=\\\"suggester\\\">\\r\\n    <str name=\\\"name\\\">mySuggester</str> 自动建议器名称，需要在查询的时候指定\\r\\n    <str name=\\\"lookupImpl\\\">FuzzyLookupFactory</str>  查找器工厂类，确定如何从字典索引中查找词\\r\\n    <str name=\\\"dictionaryImpl\\\">DocumentDictionaryFactory</str>决定如何将词存入到索引。\\r\\n    <str name=\\\"field\\\">item_title</str>  词典域。一般指定查询的域/或者复制域。\\r\\n    <str name=\\\"weightField\\\">item_price</str>   \\r\\n    <str name=\\\"suggestAnalyzerFieldType\\\">text_ik</str>\\r\\n  </lst>\\r\\n</searchComponent>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<searchComponent name=\\\"suggest\\\" class=\\\"solr.SuggestComponent\\\">\\r\\n  <lst name=\\\"suggester\\\">\\r\\n    <str name=\\\"name\\\">mySuggester</str> 自动建议器名称，需要在查询的时候指定\\r\\n    <str name=\\\"lookupImpl\\\">FuzzyLookupFactory</str>  查找器工厂类，确定如何从字典索引中查找词\\r\\n    <str name=\\\"dictionaryImpl\\\">DocumentDictionaryFactory</str>决定如何将词存入到索引。\\r\\n    <str name=\\\"field\\\">item_title</str>  词典域。一般指定查询的域/或者复制域。\\r\\n    <str name=\\\"weightField\\\">item_price</str>   \\r\\n    <str name=\\\"suggestAnalyzerFieldType\\\">text_ik</str>\\r\\n  </lst>\\r\\n</searchComponent>\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改组件参数\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在请求处理器中配置suggest组件，sugges名称要和SearchComponent的name一致。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<arr name=\\\"components\\\">\\r\\n  <str>suggest</str>\\r\\n</arr>\\r\\n<!-- 补充：在solrConfig.xml中已经定义了一个请求处理器,并且已经配置了查询建议组件 -->\\r\\n<requestHandler name=\\\"/suggest\\\" class=\\\"solr.SearchHandler\\\" startup=\\\"lazy\\\">\\r\\n  <lst name=\\\"defaults\\\">\\r\\n    <str name=\\\"suggest\\\">true</str>\\r\\n    <str name=\\\"suggest.count\\\">10</str>\\r\\n  </lst>\\r\\n  <arr name=\\\"components\\\">\\r\\n    <str>suggest</str>\\r\\n  </arr>\\r\\n</requestHandler> \\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<arr name=\\\"components\\\">\\r\\n  <str>suggest</str>\\r\\n</arr>\\r\\n<!-- 补充：在solrConfig.xml中已经定义了一个请求处理器,并且已经配置了查询建议组件 -->\\r\\n<requestHandler name=\\\"/suggest\\\" class=\\\"solr.SearchHandler\\\" startup=\\\"lazy\\\">\\r\\n  <lst name=\\\"defaults\\\">\\r\\n    <str name=\\\"suggest\\\">true</str>\\r\\n    <str name=\\\"suggest.count\\\">10</str>\\r\\n  </lst>\\r\\n  <arr name=\\\"components\\\">\\r\\n    <str>suggest</str>\\r\\n  </arr>\\r\\n</requestHandler> \\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"执行查询，指定suggest参数\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/suggest?q=三星\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/suggest?q=三星\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=三星&suggest=true&suggest.dictionary=mySuggester\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=三星&suggest=true&suggest.dictionary=mySuggester\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-30_203630.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"485-autosuggest中相关的参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.5  AutoSuggest中相关的参数。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<searchComponent name=\\\"suggest\\\" class=\\\"solr.SuggestComponent\\\">\\r\\n  <lst name=\\\"suggester\\\">\\r\\n    <!-- 自动建议器名称，需要在查询的时候指定 -->\\r\\n    <str name=\\\"name\\\">mySuggester</str>\\r\\n    <!-- 表示自动建议的内容是基于哪个域的 -->\\r\\n    <str name=\\\"field\\\">item_title</str>\\r\\n    <!-- 词典实现类，表示分词（Term）是如何存储Suggestion字典的。 DocumentDictionaryFactory一个基于词，权重,创建词典; -->\\r\\n    <str name=\\\"dictionaryImpl\\\">DocumentDictionaryFactory</str>\\r\\n    <!-- 查询实现类，表示如何在Suggestion词典中找到分词（Term） -->\\r\\n    <str name=\\\"lookupImpl\\\">FuzzyLookupFactory</str>\\r\\n    <!-- 权重域。 -->\\r\\n    <str name=\\\"weightField\\\">item_price</str>\\r\\n    <!-- 域类型 -->\\r\\n    <str name=\\\"suggestAnalyzerFieldType\\\">text_ik</str>\\r\\n    <str name=\\\"buildOnCommit\\\">true</str>\\r\\n  </lst>\\r\\n</searchComponent>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"<searchComponent name=\\\"suggest\\\" class=\\\"solr.SuggestComponent\\\">\\r\\n  <lst name=\\\"suggester\\\">\\r\\n    <!-- 自动建议器名称，需要在查询的时候指定 -->\\r\\n    <str name=\\\"name\\\">mySuggester</str>\\r\\n    <!-- 表示自动建议的内容是基于哪个域的 -->\\r\\n    <str name=\\\"field\\\">item_title</str>\\r\\n    <!-- 词典实现类，表示分词（Term）是如何存储Suggestion字典的。 DocumentDictionaryFactory一个基于词，权重,创建词典; -->\\r\\n    <str name=\\\"dictionaryImpl\\\">DocumentDictionaryFactory</str>\\r\\n    <!-- 查询实现类，表示如何在Suggestion词典中找到分词（Term） -->\\r\\n    <str name=\\\"lookupImpl\\\">FuzzyLookupFactory</str>\\r\\n    <!-- 权重域。 -->\\r\\n    <str name=\\\"weightField\\\">item_price</str>\\r\\n    <!-- 域类型 -->\\r\\n    <str name=\\\"suggestAnalyzerFieldType\\\">text_ik</str>\\r\\n    <str name=\\\"buildOnCommit\\\">true</str>\\r\\n  </lst>\\r\\n</searchComponent>\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"486-autosuggest查询相关参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.6 AutoSuggest查询相关参数\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=三星&suggest=true&suggest.dictionary=mySuggester\"}]}]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"描述\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"suggest\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"是否开启suggest\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"suggest.dictionary\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"字符串\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定使用的suggest器名称\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"suggest.count\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认值是1\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"suggest.build\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"如果设置为true，这个请求会导致重建suggest索引。这个字段一般用于初始化的操作中，在线上环境，一般不会每个请求都重建索引，如果线上你希望保持字典最新，最好使用buildOnCommit或者buildOnOptimize来操作。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"487-其他lookupimpldictionaryimpl\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.7 其他lookupImpl,dictionaryImpl.\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"其他的实现大家可以参考。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/suggester.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/suggester.html\"}]}]}]}]},\"body\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tag\":\"h1\",\"props\":{\"id\":\"solr\"},\"children\":[{\"type\":\"text\",\"value\":\"Solr\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"1-solr简介\"},\"children\":[{\"type\":\"text\",\"value\":\"1. Solr简介\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"前言\"},\"children\":[{\"type\":\"text\",\"value\":\"前言\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"学习Solr需要一些和java相关的储备知识，在此之前，假设您已经：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拥有 Java 开发环境以及相应 IDE（eclipse idea）\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"熟悉 Spring Boot\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"熟悉 Maven\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"熟悉 Lucene\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"11-solr是什么\"},\"children\":[{\"type\":\"text\",\"value\":\"1.1 Solr是什么\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr是Apache旗下基于Lucene开发的全文检索的服务。用户可以通过http请求，向Solr服务器提交一定格式的数据（XML,JSON），完成索引库的索引。也可以通过Http请求查询索引库获取返回结果(XML,JSON)。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr和Lucene的区别\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lucene是一个开放源代码的全文检索引擎工具包，它不是一个完整的全文检索引擎，Lucene提供了完整的查询引擎和索引引擎，目的是为软件开发人员提供一个简单易用的工具包，以方便的在目标系统中实现全文检索的功能，或者以Lucene为基础构建全文检索引擎。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr的目标是打造一款企业级的搜索引擎系统，它是一个搜索引擎服务，可以独立运行，通过Solr可以非常快速的构建企业的搜索引擎，通过Solr也可以高效的完成站内搜索功能。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1576984490418\",\"src\":\"imgs/001.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"12-solr的发展历程\"},\"children\":[{\"type\":\"text\",\"value\":\"1.2 Solr的发展历程\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2004年，CNET NetWorks公司的Yonik Seeley工程师为公司网站开发搜索功能时完成了Solr的雏形。起初Solr知识CNET公司的内部项目。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2006 年1月，CNET公司决定将Solr源码捐赠给Apache软件基金会。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2008 年9月，Solr1.3发布了新功能，其他包括分布式搜索和性能增强等功能。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2009 年11月，Solr1.4版本发布，此版本对索引，搜索，Facet等方面进行优化，提高了对PDF，HTML等富文本文件处理能力，还推出了许多额外的插件；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2010 年3月，Lucene和Solr项目合并，自此,Solr称为了Lucene的子项目，产品现在由双方的参与者共同开发。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2011年，Solr改变了版本编号方案，以便与Lucene匹配。为了使Solr和Lucene有相同的版本号，Solr1.4下一版的版本变为3.1。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2012年10月，Solr4.0版本发布，新功能Solr Cloud也随之发布。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"目前Solr最新版本8.4.1\"}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"13-solr的功能优势\"},\"children\":[{\"type\":\"text\",\"value\":\"1.3 Solr的功能优势\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​灵活的查询语法；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"支持各种格式文件（Word，PDF）导入索引库；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"支持数据库数据导入索引库；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分页查询和排序\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Facet维度查询；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"自动完成功能；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拼写检查；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索关键字高亮显示；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Geo地理位置查询;\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Group 分组查询;\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr Cloud;\"}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"2-下载和安装\"},\"children\":[{\"type\":\"text\",\"value\":\"2. 下载和安装\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"21-下载\"},\"children\":[{\"type\":\"text\",\"value\":\"2.1 下载\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr的下载地址：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://lucene.apache.org/solr/downloads.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://lucene.apache.org/solr/downloads.html\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr最新版本是8.4.1的版本，由于8属于比较新的版本，可能有一些未知的Bug，出现问题后可能不好解决，所以我们使用Solr7.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"因为Solr是基于java语言开发，且Solr7.x要求的JDK版本最少是JDK8.所以我们在安装solr之前，首先必须安装JDK。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-23_000048.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"22-solr学习资源\"},\"children\":[{\"type\":\"text\",\"value\":\"2.2 Solr学习资源\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"为了方便学习，Solr官方也提供了很多学习资料。可以在官方的Resources中查看；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1577010476915\",\"src\":\"imgs/2019-12-22_182748.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"官方提供的4种资料：\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr Quick Start（即Solr快速上手教程）；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2019-12-22_183033.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr官方使用指南。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2019-12-22_183134.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr官方Wiki\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2019-12-22_183607.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr相关的英文书籍，如solr in action ,solr cookbook.\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"只不过这些资料都是英文资料。对于英文好的同学来说可以参考。对于英文不好的同学来说，直接参考我们的视频教程即可。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"23-window下安装solr\"},\"children\":[{\"type\":\"text\",\"value\":\"2.3 Window下安装Solr\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"window系统是我们平时开发和学习使用的一个平台，我们首先先来学习如何在window系统中安装Solr;\"}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"231-运行环境\"},\"children\":[{\"type\":\"text\",\"value\":\"2.3.1 \"},{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"运行环境\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr 需要运行在一个Servlet容器中，Solr7.x 要求jdk最少使用1.8以上，Solr默认提供Jetty（java写的Servlet容器），本教程使用Tocmat作为Servlet容器，环境如下：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr：Solr7.x\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Jdk：jdk1.8\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Tomcat：tomcat8.5\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"232-安装步骤\"},\"children\":[{\"type\":\"text\",\"value\":\"2.3.2 安装步骤\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下载solr-7.zip并解压；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2019-12-22_201756.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"bin：官方提供的一些solr的运行脚本。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"contrib：社区的一些贡献软件/插件，用于增强solr的功能。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"dist：Solr的核心JAR包和扩展JAR包\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"docs：solr的API文档\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"example：官方提供的一些solr的demo代码\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"licenses：solr遵守的一些开源协议文件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"server:这个目录有点意思，取名为sever，有点迷惑人，其实就是一个jetty.官方为了方便部署Solr，在安装包中内置了一个Jetty; 我们直接就可以利用内置的jetty部署solr;\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"server/solr-webapp/webapp\"}]},{\"type\":\"text\",\"value\":\" : 进入到sever目录中有一个webapp的目录，这个目录下部署的就是solr的war包（solr的服务）;\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"接下来我们先来给大家简单演示一下如何使用内置jetty服务器，部署solr服务；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入bin目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"启动命令：\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr start \"}]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-28_233040.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"关闭命令：\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr stop -all\"}]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-28_233110.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启solr    \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr restart –p p_num\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用localhost:8983就可以访问solr后台管理系统；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在实际开发中通常我们需要将solr部署到tomcat服务器中；接下来我们要讲解的就是如何将solr部署到tomcat；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"部署solr到tomcat；\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"解压一个新的tomcat\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将安装包下\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"server/solr-webapp/webapp\"}]},{\"type\":\"text\",\"value\":\"下的solr服务打war包；\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"server/solr-webapp/webapp\"}]},{\"type\":\"text\",\"value\":\"目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用cmd窗口\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"jar cvf  solr.war ./*\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"jar cvf  solr.war ./*\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将solr.war复制到tomcat/webapps目录中；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-28_233259.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"启动tomcat，解压war包；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改webapp/solr/WEB-INF/web.xml的配置solr_home的位置；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <env-entry>\\r\\n    <env-entry-name>solr/home</env-entry-name>\\r\\n    <env-entry-value>“你的solrhome位置”</env-entry-value>\\r\\n    <env-entry-type>java.lang.String</env-entry-type>\\r\\n  </env-entry>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <env-entry>\\r\\n    <env-entry-name>solr/home</env-entry-name>\\r\\n    <env-entry-value>“你的solrhome位置”</env-entry-value>\\r\\n    <env-entry-type>java.lang.String</env-entry-type>\\r\\n  </env-entry>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr home目录，SolrHome是Solr运行的主目录，将来solr产生的数据就存储在SolrHOME中；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrHOME可以含多个SolrCore；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrCore即Solr实例每个SolrCore可以对外单独提供全文检索的服务.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"理解为关系型数据库中的数据库. 关于solrCore的创建我们在后面的课程中专门来讲解；\"}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"取消安全配置\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <!--\\r\\n  <security-constraint>\\r\\n  <web-resource-collection>\\r\\n      <web-resource-name>Disable TRACE</web-resource-name>\\r\\n    <url-pattern>/</url-pattern>\\r\\n      <http-method>TRACE</http-method>\\r\\n    </web-resource-collection>\\r\\n    <auth-constraint/>\\r\\n  </security-constraint>\\r\\n  <security-constraint>\\r\\n    <web-resource-collection>\\r\\n      <web-resource-name>Enable everything but TRACE</web-resource-name>\\r\\n      <url-pattern>/</url-pattern>\\r\\n      <http-method-omission>TRACE</http-method-omission>\\r\\n    </web-resource-collection>\\r\\n  </security-constraint> -->\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <!--\\r\\n  <security-constraint>\\r\\n  <web-resource-collection>\\r\\n      <web-resource-name>Disable TRACE</web-resource-name>\\r\\n    <url-pattern>/</url-pattern>\\r\\n      <http-method>TRACE</http-method>\\r\\n    </web-resource-collection>\\r\\n    <auth-constraint/>\\r\\n  </security-constraint>\\r\\n  <security-constraint>\\r\\n    <web-resource-collection>\\r\\n      <web-resource-name>Enable everything but TRACE</web-resource-name>\\r\\n      <url-pattern>/</url-pattern>\\r\\n      <http-method-omission>TRACE</http-method-omission>\\r\\n    </web-resource-collection>\\r\\n  </security-constraint> -->\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":7},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将solr-7.7.2/server/solr中所有的文件复制到solrHome\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝日志工具相关jar包：将solr-7.7.2/server/lib/ext下的jar包拷贝至上面Tomcat下Solr的/WEB-INF/lib/目录下\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝metrics相关jar包：将solr-7.7.2/server/lib下metrics相关jar包也拷贝至/WEB-INF/lib/目录下\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝dataimport相关jar包:solr-7.7.2/dist下dataimport相关jar包也拷贝至/WEB-INF/lib/目录下\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝log4j2配置文件：将solr-7.7.2/server/resources目录中的log4j配置文件拷入web工程目录WEB-INF/classes（自行创建目录） ，并且修改日志文件的路径\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启tomcat，看到welcome,说明solr就安装完毕\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2019-12-23_221350.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"访问后台管理系统进行测试\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://localhost:8080/solr/index.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/index.html\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":14},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在tomcat的bin\\\\catalina.bat中配置日志文件的环境参数\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"set \\\"JAVA_OPTS=%JAVA_OPTS% -Dsolr.log.dir=C:\\\\webapps\\\\fooFts\\\\logs\\\"\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"set \\\"JAVA_OPTS=%JAVA_OPTS% -Dsolr.log.dir=C:\\\\webapps\\\\fooFts\\\\logs\\\"\"}]}]}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"24-linux下安装solr\"},\"children\":[{\"type\":\"text\",\"value\":\"2.4 Linux下安装Solr\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在实际的生产环境中，通常我们都需要将solr安装到linux服务器中；由于我们目前属于学习阶段。我们就使用虚拟机来模拟一个Linux服务器安装solr；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"环境准备：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Cent0S 7.0 linux系统；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Jdk1.8  linux安装包\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"tomcat：tomcat8.5\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://tomcat.apache.org/\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://tomcat.apache.org/\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr7.x 安装包\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://mirror.bit.edu.cn/apache/lucene/solr/7.7.2/solr-7.7.2.tgz\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://mirror.bit.edu.cn/apache/lucene/solr/7.7.2/solr-7.7.2.tgz\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将linux中相关的安装包上传到linux\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"sftp上传  Jdk1.8  tomcat8.5   solr7.x 安装包到linux；\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用CRT连接到Linux\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"alt+p打开sftp,上传相关的软件安装到到linux\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_120708.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装jdk\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_120955.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"解压jdk\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"tar -xzvf jdk18 -C /usr/local\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"tar -xzvf jdk18 -C /usr/local\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_121041.png\"},\"children\":[]},{\"type\":\"text\",\"value\":\"\\r\\n2. 配置环境变量\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"vi /etc/profile\\r\\nexport JAVA_HOME=/usr/local/jdk1.8.0_171\\r\\nexport PATH=$JAVA_HOME/bin:$PATH\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"vi /etc/profile\\r\\nexport JAVA_HOME=/usr/local/jdk1.8.0_171\\r\\nexport PATH=$JAVA_HOME/bin:$PATH\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重新加载profile文件,让配置文件生效；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_121606.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"java -version\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"java -version\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_123052.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装tomcat，tomcat的安装比较简单，只需要解压即可；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_124804.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装solr,安装solr的过程和windows系统过程完全相同。只不过通过linux命令来操作而已；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"解压solr安装包,直接解压在宿主目录即可；\\r\\n解压的目录结构和window版的目录结构相同；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-23_111347.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将server/solr-webapp/webapp下的solr服务打war包；\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.1 进入到webapp目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd server/solr-webapp/webapp\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"cd server/solr-webapp/webapp\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.2 将webapp中的代码打成war包\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"jar -cvf  solr.war ./*    \\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"jar -cvf  solr.war ./*    \"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_125441.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将war包部署到tomcat的webapps目录\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_125630.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"启动tomcat，解压solr.war\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"4.1 进入到tomcat的bin目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd /usr/local/apache-tomcat-8.5.50\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"cd /usr/local/apache-tomcat-8.5.50\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"4.2 启动tomcat\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_125851.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"4.3 进入到webapp目录中查看\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_130034.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改webapp/solr/WEB-INF/web.xml的配置solrhome的位置；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <env-entry>\\r\\n      <env-entry-name>solr/home</env-entry-name>\\r\\n      <env-entry-value>“你的solrhome位置”</env-entry-value>\\r\\n      <env-entry-type>java.lang.String</env-entry-type>\\r\\n  </env-entry>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <env-entry>\\r\\n      <env-entry-name>solr/home</env-entry-name>\\r\\n      <env-entry-value>“你的solrhome位置”</env-entry-value>\\r\\n      <env-entry-type>java.lang.String</env-entry-type>\\r\\n  </env-entry>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"既然solrhome指定的位置在/user/local/solr_home下面；所以需要创建一个solr_home的文件夹；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_130847.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"取消安全配置（和window相同）\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":7},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将solr-7.7.2/server/solr中所有的文件复制到solrHome\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"7.1 进入到solr-7.7.2/server/solr\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_131046.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"7.2 将所有的文件复制到solrHome\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_131238.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":8},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝日志工具相关jar包：将solr-7.7.2/server/lib/ext下的jar包拷贝至上面Tomcat下Solr的/WEB-INF/lib/目录下\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"8.1 进入solr-7.7.2/server/lib/ext\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd solr-7.7.2/server/lib/ext\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"cd solr-7.7.2/server/lib/ext\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"8.2 将所有文件复制到Tomcat下Solr的/WEB-INF/lib/\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_131550.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":9},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝 metrics相关jar包：将solr-7.7.2/server/lib下metrics相关jar包也拷贝至/WEB-INF/lib/目录下\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"9.1 进入solr-7.7.2/server/lib\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd solr-7.7.2/server/lib\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"cd solr-7.7.2/server/lib\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-04_131801.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"9.2 将metrics-开始的所有文件复制到Tomcat下Solr的/WEB-INF/lib/\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_135654.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":10},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将solr安装包中dist目录中和数据导入相关的2个包，复制到tomcat/webapps/solr/WEB-INF/lib\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_191713.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cp solr-dataimporthandler-* /usr/local/apache-tomcat-8.5.50/webapps/solr/WEB-INF/lib/\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"cp solr-dataimporthandler-* /usr/local/apache-tomcat-8.5.50/webapps/solr/WEB-INF/lib/\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":11},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拷贝log4j2配置文件：将solr-7.7.2/server/resource目录中的log4j配置文件拷入web工程目录WEB-INF/classes（自行创建目录） ，并且修改日志文件的路径\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"10.1 进入到solr-7.7.2/server/resource目录中\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd solr-7.7.2/server/resource\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"cd solr-7.7.2/server/resource\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_135948.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"10.2  将log4j2的配置文件复制到solr 的WEB-INF/classes目录；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建classes目录\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_140208.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"log4j的文件复制；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_140523.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":12},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启tomcat\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入到日志文件中查看启动情况；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd ../logs\\r\\nmore catalina.out\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"cd ../logs\\r\\nmore catalina.out\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":13},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"访问后台管理系统进行测试\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://192.168.200.129:8080/solr/index.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://192.168.200.129:8080/solr/index.html\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"3-solr基础\"},\"children\":[{\"type\":\"text\",\"value\":\"3. Solr基础\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"31-solrcore\"},\"children\":[{\"type\":\"text\",\"value\":\"3.1 SolrCore\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr部署启动成功之后，需要创建core才可以使用的，才可以使用Solr；类似于我们安装完毕MySQL以后，需要创建数据库一样；\"}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"311-什么是solrcore\"},\"children\":[{\"type\":\"text\",\"value\":\"3.1.1 什么是SolrCore\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中、每一个Core、代表一个索引库、里面包含索引数据及其配置信息。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中可以拥有多个Core、也就是可以同时管理多个索引库、就像mysql中可以有多个数据库一样。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"所以SolrCore可以理解成MySQL中的数据库；\"}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"312-solrcore维护windows\"},\"children\":[{\"type\":\"text\",\"value\":\"3.1.2 SolrCore维护（windows）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"简单认识SolrCore以后，接下来要完成的是SolrCore的创建。在创建solrCore之前，我们首先认识一下SolrCore目录结构：\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrCore目录结构\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Core中有二个重要目录：conf和data\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_171038.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"conf:存储SolrCore相关的配置文件；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"data:SolrCore的索引数据；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"core.properties：SolrCore的名称,name=SolrCore名称；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"所以搭建一个SolrCore只需要创建 2个目录和一个properties文件即可；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrHome中搭建SolrCore\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.1 solrCore的目录结构搞清楚以后，接下来就是关于SolrCore在哪里进行创建呢？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在之前搭建Solr的时候，我们说一个solr_home是由多个solrCore构成，所以solrCore是搭建在solrHome中；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_172533.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.2 将solr安装包中的配置文件复制到conf目录；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搭建好solrCore以后，conf目录还没没有配置文件，我们需要将solr安装包中提供的示例配置文件复制到conf目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr安装包中配置文件的位置：solr-7.7.2\\\\example\\\\example-DIH\\\\solr\\\\solr\\\\conf\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.3 重启solr\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.4 在solr的管理后台来查看\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_173832.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如何创建多个solrCore；\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"只需要复制SolrCore一份，重启solr；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_174323.png\"},\"children\":[]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"313-solrcore维护linux\"},\"children\":[{\"type\":\"text\",\"value\":\"3.1.3 SolrCore维护（linux）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入到SolrHome\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd /usr/local/solr_home/\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"cd /usr/local/solr_home/\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_175549.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建SolrCore\"},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"text\",\"value\":\"mkdir -p collection1/data\\r\\nmkdir -p collection1/conf\\r\\ncd collection1\\r\\ntouch core.properties\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-05_182151.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将solr安装包中提供的示例配置文件复制到conf目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"cd solr-8.3.1/example/example-DIH/solr/solr/conf/\\r\\n\\r\\ncp -r *  /usr/local/solr_home/collection1/conf/\\n\",\"language\":\"bat\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"cd solr-8.3.1/example/example-DIH/solr/solr/conf/\\r\\n\\r\\ncp -r *  /usr/local/solr_home/collection1/conf/\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启tomcat\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"访问后台管理系统\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-23_111646.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"32-solr后台管理系统的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2 Solr后台管理系统的使用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"概述\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一个章节我们已经学习完毕如何在solr中创建SolrCore。有了SolrCore以后我们就可以进行索引和搜索的操作，在进行索引和搜索操作之前，首先学习一下Solr后台管理系统的使用；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"DashBoard:solr的版本信息、jvm的相关信息还有一些内存信息。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Logging:日志信息，也有日志级别，刚进入查看的时候肯定是有几个警告（warn）信息的，因为复制solr的时候路径发生了变化导致找不到文件，但是并不影响。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Core Admin:SolrCore的管理页面。可以使用该管理界面完成SolrCore的卸载。也可以完成SolrCore的添加\\r\\n能添加的前提，SolrCore在solr_home中目录结构是完整的。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Java Properties:顾名思义，java的相关配置，比如类路径，文件编码等。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Thread Dump:solr服务器当前活跃的一些线程的相关信息。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以上的5个了解一下就行。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当我们选择某一个solrCore以后，又会出现一些菜单，这些菜单就是对选择的SolrCore进行操作的，接下来我们重点要讲解的就是这些菜单的使用；\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"321-documents\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.1 Documents\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：向SolrCore中添加数据，删除数据，更新数据(索引)。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在讲解如何使用Documents菜单向Solr中添加数据之前，我们首先回顾一下我们之前在Lucene中学习的一些概念；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"概念介绍：\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"文档：document是lucene进行索引创建以及搜索的基本单元，我们要把数据添加到Lucene的索引库中，数据结构就是document，如果我从Lucene的索引库中进行数据的搜索， 搜索出来的结果的数据结构也document；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"文档的结构：学习过Lucene的同学都知道，一个文档是由多个域（Field）组成，每个域包含了域名和域值；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果数据库进行类比，文档相单于数据库中的一行记录，域（Field）则为一条记录的字段。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据库中记录：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_114529.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"lucene/solr中文档\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_115314.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"索引：通常把添加数据这个操作也成为创建索引；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索：通常把搜索数据这个操作也成为搜索索引；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"倒排索引：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr添加数据的流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581240737074\",\"src\":\"imgs/1581240737074.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581241309080\",\"src\":\"imgs/1581241309080.png\"},\"children\":[]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lucene首先对文档域中的数据进行分词，建立词和文档之间的关系；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_174618.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将来我们就可以根据域中的词，快速查找到对应的文档；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lucene中相关概念回顾完毕；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"添加文档\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用后台管理系统，向Solr中添加文档。文档的数据格式可以是JSON，也可以XML；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以JSON的形式添加文档：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_175634.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以XML的形式添加文档\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_180244.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通常我们可以添加一些测试数据；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改数据\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr要求每一个文档都需要有一个id域；如果添加的文档id在SolrCore中已经存在，即可完成数据修改；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"删除数据\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"只能通过XML的格式删除文档；下面我们提供2种删除方式\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"根据id删除\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <delete>\\r\\n  <id>8</id>\\r\\n  </delete>\\r\\n  <commit/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <delete>\\r\\n  <id>8</id>\\r\\n  </delete>\\r\\n  <commit/>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"根据条件删除，需要指定查询的字符串，根据查询的字符串删除。查询字符串如何编写，后面详细讲解。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <delete>\\r\\n  <query>*:*</query>\\r\\n  </delete>\\r\\n  <commit/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <delete>\\r\\n  <query>*:*</query>\\r\\n  </delete>\\r\\n  <commit/>\"}]}]}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"322-analyse\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.2 Analyse\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：测试域/域类型（后面讲解）分词效果；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们在讲解倒排索引的时候，当我们向Solr中添加一个文档，底层首先要对文档域中的数据进行分词。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"建立词和文档关系。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试刚才添加文档的域id ,title,name域的分词效果；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"思考的问题？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"id为什么不分词，name域为什么可以分词？\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"name域可以对中文进行分词吗?\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"添加文档的时候，域名可以随便写吗？\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要想搞清楚这些问题，我们需要学习Solr的配置；\"}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"324-solr的配置-field\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.4 Solr的配置-Field\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中我们需要学习其中4个配置文件；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrHome中solr.xml\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrCore/conf中solrconfig.xml\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrCore/confSolrCore中managed-schema\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SolrCore/conf/data-config.xml\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"managed-schema【最常用】\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中进行索引时，文档中的域需要提前在managed-schema文件中定义，在这个文件中，solr已经提前定义了一些域，比如我们之前使用的id,price,title域。通过管理界面查看已经定义的域；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_202315.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下面就是solr中一定定义好的一个域,name\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"name\\\" type=\\\"text_general\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"name\\\" type=\\\"text_general\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"field标签：定义一个域；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​name属性：域名\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​indexed:是否索引，是否可以根据该域进行搜索；一般哪些域不需要搜索，图片路径。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​stored:是否存储，将来查询的文档中是否包含该域的数据； 商品的描述。\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​举例：将图书的信息存储到Solr中；Description域。indexed设置为true，store设置成false；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"可以根据商品描述域进行查询，但是查询出来的文档中是不包含description域的数据；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_203024.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"multiValued：是否多值，该域是否可以存储一个数组； 图片列表；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"required:是否必须创建文档的时候，该域是否必须；id\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"type:域类型，决定该域使用的分词器。分词器可以决定该域的分词效果（分词，不分词，是否支持中文分词）。域的类型在使用之前必须提前定义；在solr中已经提供了很多的域类型\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_general\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <!-- in this example, we will only use synonyms at query time\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"index_synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"false\\\"/>\\r\\n    <filter class=\\\"solr.FlattenGraphFilterFactory\\\"/>\\r\\n    -->\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"true\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_general\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <!-- in this example, we will only use synonyms at query time\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"index_synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"false\\\"/>\\r\\n    <filter class=\\\"solr.FlattenGraphFilterFactory\\\"/>\\r\\n    -->\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"true\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"自定义一个商品描述域：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_description\\\" type=\\\"text_general\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_description\\\" type=\\\"text_general\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义一个图片域\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_image\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\" multiValued=true/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_image\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\" multiValued=true/>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启solr\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试分词效果\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过测试我们发现text_general域类型，支持英文分词，不支持中文分词；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_211511.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试定义域\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试添加文档\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"{\\\"id\\\":\\\"1101\\\",\\\"name\\\":\\\"java编程思想\\\",\\\"item_image\\\":[\\\"big.jpg\\\",\\\"small.jpg\\\"],\\\"item_description\\\":\\\"lucene是apache的开源项目，是一个全文检索的工具包。\\\"}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"id\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"1101\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"name\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"java编程思想\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_image\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":[\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"big.jpg\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"small.jpg\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"],\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_description\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"lucene是apache的开源项目，是一个全文检索的工具包。\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试item_description域搜索\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_213638.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过我们测试，我们发现可以通过item_description域进行搜索，但是搜索结果的文档中是没有item_description域的数据的；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试item_pic域搜索\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-09_213755.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过我们测试，我们发现不能通过item_pic域进行搜索；\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"325-solr的配置-fieldtype\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.5 Solr的配置-FieldType\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"概述\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一章节我们讲解了Field的定义。接下来我们要讲解的是FieldType域类型；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"刚才我们给大家讲解了如何在schema文件中定义域，接下来我们要讲解域类型如何定义；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"每个域都需要指定域类型，而且域类型必须提前定义。域类型决定该域使用的索引和搜索的分词器，影响分词效果。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中已经提供好了一些域类型；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"text_general：支持英文分词，不支持中文分词；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"string：不分词；适合于id,订单号等。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pfloat:适合小数类型的域，特殊分词，支持大小比较；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pdate:适合日期类型的域，特殊分词，支持大小比较；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pint:适合整数类型的域，特殊分词，支持大小比较；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"plong:适合长整数类型的域，特殊分词，支持大小比较；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们以text_general为例看一下如何定义FiledType.text_general是solr中已经提供好的一个域类型；他的定义如下；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_general\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <!-- in this example, we will only use synonyms at query time\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"index_synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"false\\\"/>\\r\\n    <filter class=\\\"solr.FlattenGraphFilterFactory\\\"/>\\r\\n    -->\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"true\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_general\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <!-- in this example, we will only use synonyms at query time\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"index_synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"false\\\"/>\\r\\n    <filter class=\\\"solr.FlattenGraphFilterFactory\\\"/>\\r\\n    -->\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" ignoreCase=\\\"true\\\" words=\\\"stopwords.txt\\\" />\\r\\n    <filter class=\\\"solr.SynonymGraphFilterFactory\\\" synonyms=\\\"synonyms.txt\\\" ignoreCase=\\\"true\\\" expand=\\\"true\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\"}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"3251-相关属性\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.5.1 相关属性\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"name（重点）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"域类型名称，定义域类型的必须指定，并且要唯一\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将来定义域的时候需要指定通过域名称来指定域类型；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"class（重点）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"域类型对应的java类，必须指定。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果该类是solr中的内置类，使用solr.类名指定即可。如果该类是第三方的类，需要指定全类名。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果class是TextField，我们还需要使用\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\"}]},{\"type\":\"text\",\"value\":\"子标签来配置分析器；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"positionIncrementGap（了解）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"用于多值字段，定义多值间的间隔，来阻止假的短语匹配。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"autoGeneratePhraseQueries（了解）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"用于文本字段，如果设为true，solr会自动对该字段的查询生成短语查询，即使搜索文本没带“”\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"enableGraphQueries\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"是否支持图表查询（了解）\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"docValuesFormat（了解）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"docValues字段的存储格式化器：schema-aware codec，配置在solrconfig.xml中的\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"postingsFormat（了解）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"词条格式器：schema-aware codec，配置在solrconfig.xml中的\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"3252-solr自带的fieldtype类\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.5.2 Solr自带的FieldType类\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr除了提供了TextField类，我们也可以查看它提供的其他的FiledType类，我们可以通过官网查看其他的FieldType类的作用：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/field-types-included-with-solr.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/field-types-included-with-solr.html\"}]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581600836129\",\"src\":\"imgs/1581600836129.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以上的FieldType类的使用，我们不会一一进行讲解，只会讲解常用的一部分；\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"3253-fieldtype常用类的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.5.3 FieldType常用类的使用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"首先我们来讲解第一个FieldType类；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-13_214028.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"TextField：支持对字符类型的数据进行分词；对于 solr.TextField 域类型，需要为其定义分析器;\"}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"分析器的基本概念\"},\"children\":[{\"type\":\"text\",\"value\":\"分析器的基本概念\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分析器就是将用户输入的一串文本分割成一个个token，一个个token组成了tokenStream，然后遍历tokenStream对其进行过滤操作，比如去除停用词,特殊字符，标点符号和统一转化成小写的形式等。分词的准确的准确性会直接影响搜索的结果，从某种程度上来讲，分词的算法不同，都会影响返回的结果。因此分析器是搜索的基础；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分析器的工作流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分词\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"过滤\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-13_231822.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在solr中已经为我们提供了很多的分词器及过滤器；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中提供的分词器tokenizer：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/tokenizers.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/tokenizers.html\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"标准分词器，经典分词器，关键字分词器，单词分词器等，不同的分词器分词的效果也不尽相同；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/22221.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中提供的过滤器tokenfilter：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/about-filters.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/about-filters.html\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"不同的过滤器过滤效果也不同，有些是去除标点符号的，有些是大写转化小写的；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581608541470\",\"src\":\"imgs/1581608541470.png\"},\"children\":[]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"常用分词器的介绍\"},\"children\":[{\"type\":\"text\",\"value\":\"常用分词器的介绍\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Standard Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Tokenizer将文本的空格和标点当做分隔符。注意，你的Email地址（含有@符合）可能会被分解开；用点号（就是小数点）连接的部分不会被分解开。对于有连字符的单词，也会被分解开。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入：“Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please”, “email”, “john.doe”, “foo.com”, “by”, “03”, “09”, “re”, “m37”, “xq\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入：“Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please”, “email”, “john.doe”, “foo.com”, “by”, “03”, “09”, “re”, “m37”, “xq\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Classic Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：基本与Standard Tokenizer相同。注意，用点号（就是小数点）连接的部分不会被分解开；用@号（Email中常用）连接的部分不会被分解开；互联网域名（比如wo.com.cn）不会被分解开；有连字符的单词，如果是数字连接也会被分解开。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.ClassicTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.ClassicTokenizerFactory\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please”, “email”, “john.doe@foo.com”, “by”, “03-09”, “re”, “m37-xq”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please”, “email”, “john.doe@foo.com”, “by”, “03-09”, “re”, “m37-xq”\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Keyword Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：把整个输入文本当做一个整体。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.KeywordTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.KeywordTokenizerFactory\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\\r\\n输出： “Please, email john.doe@foo.com by 03-09, re: m37-xq.”\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Letter Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：只处理字母，其他的符号都被认为是分隔符\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.LetterTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.LetterTokenizerFactory\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “I can’t.”\\r\\n输出： “I”, “can”, “t”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “I can’t.”\\r\\n输出： “I”, “can”, “t”\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lower Case Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：以非字母元素分隔，将所有的字母转化为小写。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.LowerCaseTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.LowerCaseTokenizerFactory\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “I just LOVE my iPhone!”\\r\\n输出： “i”, “just”, “love”, “my”, “iphone”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “I just LOVE my iPhone!”\\r\\n输出： “i”, “just”, “love”, “my”, “iphone”\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"N-Gram Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：将输入文本转化成指定范围大小的片段的词，注意，空格也会被当成一个字符处理；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"minGramSize\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，默认1\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最小的片段大小，需大于0\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"maxGramSize\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，默认2\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最大的片段大小，需大于最小值\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.NGramTokenizerFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.NGramTokenizerFactory\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “hey man”\\r\\n输出： “h”, “e”, “y”, ” “, “m”, “a”, “n”, “he”, “ey”, “y “, ” m”, “ma”, “an”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “hey man”\\r\\n输出： “h”, “e”, “y”, ” “, “m”, “a”, “n”, “he”, “ey”, “y “, ” m”, “ma”, “an”\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.NGramTokenizerFactory\\\" minGramSize=\\\"4\\\" maxGramSize=\\\"5\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.NGramTokenizerFactory\\\" minGramSize=\\\"4\\\" maxGramSize=\\\"5\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “bicycle”\\r\\n输出： “bicy”, “bicyc”, “icyc”, “icycl”, “cycl”, “cycle”, “ycle“\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “bicycle”\\r\\n输出： “bicy”, “bicyc”, “icyc”, “icycl”, “cycl”, “cycle”, “ycle“\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Edge N-Gram Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：用法和N-Gram Tokenizer类似\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"minGramSize\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，默认1\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最小的片段大小，需大于0\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"maxGramSize\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，默认1\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最大的片段大小，需大于或等于最小值\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"side\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"“front” 或 “back”, 默认”front”\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定从哪个方向进行解析\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" />\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" />\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “babaloo”\\r\\n输出： “b”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “babaloo”\\r\\n输出： “b”\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" minGramSize=\\\"2\\\" maxGramSize=\\\"5\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" minGramSize=\\\"2\\\" maxGramSize=\\\"5\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “babaloo”\\r\\n输出： “ba”, “bab”, “baba”, “babal”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “babaloo”\\r\\n输出： “ba”, “bab”, “baba”, “babal”\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子3：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" minGramSize=\\\"2\\\" maxGramSize=\\\"5\\\" side=\\\"back\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.EdgeNGramTokenizerFactory\\\" minGramSize=\\\"2\\\" maxGramSize=\\\"5\\\" side=\\\"back\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “babaloo”\\r\\n输出： “oo”, “loo”, “aloo”, “baloo”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “babaloo”\\r\\n输出： “oo”, “loo”, “aloo”, “baloo”\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Regular Expression Pattern Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：可以指定正则表达式来分析文本。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"attern\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"必选项\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"正规表达式\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"roup\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数字，可选，默认-1\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"负数表示用正则表达式做分界符；非正数表示只分析满足正则表达式的部分；0表示满足整个正则表达式；大于0表示满足正则表达式的第几个括号中的部分\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"\\\\s*,\\\\s*\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"\\\\s*,\\\\s*\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “fee,fie, foe , fum”\\r\\n输出： “fee”, “fie”, “foe”, “fum”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “fee,fie, foe , fum”\\r\\n输出： “fee”, “fie”, “foe”, “fum”\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"[A-Z][A-Za-z]*\\\" group=\\\"0\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"[A-Z][A-Za-z]*\\\" group=\\\"0\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “Hello. My name is Inigo Montoya. You killed my father. Prepare to die.”\\r\\n输出： “Hello”, “My”, “Inigo”, “Montoya”, “You”, “Prepare”\\r\\n这里的group为0，表示必须满足整个表达式，正则表达式的含义是以大写字母开头，之后是大写字母或小写字母的组合。\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “Hello. My name is Inigo Montoya. You killed my father. Prepare to die.”\\r\\n输出： “Hello”, “My”, “Inigo”, “Montoya”, “You”, “Prepare”\\r\\n这里的group为0，表示必须满足整个表达式，正则表达式的含义是以大写字母开头，之后是大写字母或小写字母的组合。\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子3：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"(SKU|Part(\\\\sNumber)?):?\\\\s(\\\\[0-9-\\\\]+)\\\" group=\\\"3\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.PatternTokenizerFactory\\\" pattern=\\\"(SKU|Part(\\\\sNumber)?):?\\\\s(\\\\[0-9-\\\\]+)\\\" group=\\\"3\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “SKU: 1234, Part Number 5678, Part: 126-987”\\r\\n输出： “1234”, “5678”, “126-987”\\r\\n这个group等于3，表示满足第三个括号”[0-9-]+”中的正则表达式\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “SKU: 1234, Part Number 5678, Part: 126-987”\\r\\n输出： “1234”, “5678”, “126-987”\\r\\n这个group等于3，表示满足第三个括号”[0-9-]+”中的正则表达式\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"White Space Tokenizer\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Tokenizer将文本的空格当做分隔符。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"rule\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认java\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"如何定义空格\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.WhitespaceTokenizerFactory\\\" rule=\\\"java\\\" />\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.WhitespaceTokenizerFactory\\\" rule=\\\"java\\\" />\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"输入： “To be, or what?”\\r\\n输出： “To”, “be,”, “or”, “what?”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"输入： “To be, or what?”\\r\\n输出： “To”, “be,”, “or”, “what?”\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在这些分词器中，我们最常用的一个分词器。Standard Tokenizer；但也仅仅只能对英文进行分词；\"}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"常用过滤器介绍\"},\"children\":[{\"type\":\"text\",\"value\":\"常用过滤器介绍\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一小结我们学习了Solr中的常用分词器，接下来我们讲解过滤器。过滤器是对分词器的分词结果进行再次处理，比如：将词转化为小写，排除掉停用词等。\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lower Case Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用:这个Filter将所有的词中大写字符转化为小写\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “Down With CamelCase” \\r\\n输入： “Down”, “With”, “CamelCase” \\r\\n输出： “down”, “with”, “camelcase”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “Down With CamelCase” \\r\\n输入： “Down”, “With”, “CamelCase” \\r\\n输出： “down”, “with”, “camelcase”\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Length Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Filter处理在给定范围长度的tokens。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"min\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，必填\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最小的token长度\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"max\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数，必填，需大于min\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定最大的token长度\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.LengthFilterFactory\\\" min=\\\"3\\\" max=\\\"7\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.LengthFilterFactory\\\" min=\\\"3\\\" max=\\\"7\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “turn right at Albuquerque” \\r\\n输入： “turn”, “right”, “at”, “Albuquerque” \\r\\n输出： “turn”, “right”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “turn right at Albuquerque” \\r\\n输入： “turn”, “right”, “at”, “Albuquerque” \\r\\n输出： “turn”, “right”\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pattern Replace Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Filter可以使用正则表达式来替换token的一部分内容，与正则表达式想匹配的被替换，不匹配的不变。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"pattern\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"必填，正则表达式\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"需要匹配的正则表达式\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"replacement\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"必填，字符串\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"需要替换的部分\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"replace\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"“all” 或 “first”, 默认”all”\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"全部替换还是，只替换第一个\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.PatternReplaceFilterFactory\\\" pattern=\\\"cat\\\" replacement=\\\"dog\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.PatternReplaceFilterFactory\\\" pattern=\\\"cat\\\" replacement=\\\"dog\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “cat concatenate catycat” \\r\\n输入： “cat”, “concatenate”, “catycat” \\r\\n输出： “dog”, “condogenate”, “dogydog”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “cat concatenate catycat” \\r\\n输入： “cat”, “concatenate”, “catycat” \\r\\n输出： “dog”, “condogenate”, “dogydog”\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.PatternReplaceFilterFactory\\\" pattern=\\\"cat\\\" replacement=\\\"dog\\\" replace=\\\"first\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.PatternReplaceFilterFactory\\\" pattern=\\\"cat\\\" replacement=\\\"dog\\\" replace=\\\"first\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “cat concatenate catycat” \\r\\n输入： “cat”, “concatenate”, “catycat” \\r\\n输出： “dog”, “condogenate”, “dogycat”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “cat concatenate catycat” \\r\\n输入： “cat”, “concatenate”, “catycat” \\r\\n输出： “dog”, “condogenate”, “dogycat”\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Stop Words Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Filter会在解析时忽略给定的停词列表（stopwords.txt）中的内容；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"words\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"可选，停词列表\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定停词列表的路径\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"format\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"可选，如”snowball”\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"停词列表的格式\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ignoreCase\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值，默认false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"是否忽略大小写\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"保留词列表stopwords.txt \\r\\nbe \\r\\nor \\r\\nto \\n\",\"language\":\"txt\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"保留词列表stopwords.txt \\r\\nbe \\r\\nor \\r\\nto \"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “To be or what?” \\r\\n输入： “To”(1), “be”(2), “or”(3), “what”(4) \\r\\n输出： “To”(1), “what”(4)\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “To be or what?” \\r\\n输入： “To”(1), “be”(2), “or”(3), “what”(4) \\r\\n输出： “To”(1), “what”(4)\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\" ignoreCase=\\\"true\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\" ignoreCase=\\\"true\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"保留词列表stopwords.txt \\r\\nbe \\r\\nor \\r\\nto \\n\",\"language\":\"txt\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"保留词列表stopwords.txt \\r\\nbe \\r\\nor \\r\\nto \"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “To be or what?” \\r\\n输入： “To”(1), “be”(2), “or”(3), “what”(4) \\r\\n输出： “what”(4)\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “To be or what?” \\r\\n输入： “To”(1), “be”(2), “or”(3), “what”(4) \\r\\n输出： “what”(4)\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Keep Word Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Filter将不属于列表中的单词过滤掉。和\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Stop Words Filter\"}]},{\"type\":\"text\",\"value\":\"的效果相反。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"words\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"必填，以.txt结尾的文件\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"提供保留词列表\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ignoreCase\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值，默认false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"是否忽略保留词列表大小写\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子1：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.KeepWordFilterFactory\\\" words=\\\"keepwords.txt\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.KeepWordFilterFactory\\\" words=\\\"keepwords.txt\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"保留词列表keepwords.txt \\r\\nhappy \\r\\nfunny \\r\\nsilly \\n\",\"language\":\"txt\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"保留词列表keepwords.txt \\r\\nhappy \\r\\nfunny \\r\\nsilly \"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “Happy, sad or funny” \\r\\n输入： “Happy”, “sad”, “or”, “funny” \\r\\n输出： “funny”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “Happy, sad or funny” \\r\\n输入： “Happy”, “sad”, “or”, “funny” \\r\\n输出： “funny”\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子2：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.KeepWordFilterFactory\\\" words=\\\"keepwords.txt\\\" ignoreCase=\\\"true\\\" />\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.KeepWordFilterFactory\\\" words=\\\"keepwords.txt\\\" ignoreCase=\\\"true\\\" />\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"保留词列表keepwords.txt \\r\\nhappy \\r\\nfunny \\r\\nsilly \\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"保留词列表keepwords.txt \\r\\nhappy \\r\\nfunny \\r\\nsilly \"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “Happy, sad or funny” \\r\\n输入： “Happy”, “sad”, “or”, “funny” \\r\\n输出： “Happy”, “funny”\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “Happy, sad or funny” \\r\\n输入： “Happy”, “sad”, “or”, “funny” \\r\\n输出： “Happy”, “funny”\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Synonym Filter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：这个Filter用来处理同义词；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"synonyms\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"必选，以.txt结尾的文件\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定同义词列表\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ignoreCase\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值，默认false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"是否忽略大小写\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"format\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"可选，默认solr\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定解析同义词的策略\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"注意，常用的同义词列表格式： \\r\\n1. 以#开头的行为注释内容，忽略 \\r\\n2. 以,分隔的文本，为双向同义词，左右内容等价，互为同义词 \\r\\n3. 以=>分隔的文本，为单向同义词，匹配到左边内容，将替换为右边内容，反之不成立\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"注意，常用的同义词列表格式： \\r\\n1. 以#开头的行为注释内容，忽略 \\r\\n2. 以,分隔的文本，为双向同义词，左右内容等价，互为同义词 \\r\\n3. 以=>分隔的文本，为单向同义词，匹配到左边内容，将替换为右边内容，反之不成立\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.SynonymFilterFactory\\\" synonyms=\\\"mysynonyms.txt\\\"/>\\r\\n</analyzer>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\\r\\n  <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n  <filter class=\\\"solr.SynonymFilterFactory\\\" synonyms=\\\"mysynonyms.txt\\\"/>\\r\\n</analyzer>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"同义词列表synonyms.txt \\r\\ncouch,sofa,divan \\r\\nteh => the \\r\\nhuge,ginormous,humungous => large \\r\\nsmall => tiny,teeny,weeny \\n\",\"language\":\"txt\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"同义词列表synonyms.txt \\r\\ncouch,sofa,divan \\r\\nteh => the \\r\\nhuge,ginormous,humungous => large \\r\\nsmall => tiny,teeny,weeny \"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"原始文本： “teh small couch” \\r\\n输入： “teh”(1), “small”(2), “couch”(3) \\r\\n输出： “the”(1), “tiny”(2), “teeny”(2), “weeny”(2), “couch”(3), “sofa”(3), “divan”(3)\\r\\n\\r\\n原始文本： “teh ginormous, humungous sofa” \\r\\n输入： “teh”(1), “ginormous”(2), “humungous”(3), “sofa”(4) \\r\\n输出： “the”(1), “large”(2), “large”(3), “couch”(4), “sofa”(4), “divan”(4)\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"原始文本： “teh small couch” \\r\\n输入： “teh”(1), “small”(2), “couch”(3) \\r\\n输出： “the”(1), “tiny”(2), “teeny”(2), “weeny”(2), “couch”(3), “sofa”(3), “divan”(3)\\r\\n\\r\\n原始文本： “teh ginormous, humungous sofa” \\r\\n输入： “teh”(1), “ginormous”(2), “humungous”(3), “sofa”(4) \\r\\n输出： “the”(1), “large”(2), “large”(3), “couch”(4), “sofa”(4), “divan”(4)\"}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"textfield的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"TextField的使用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"前面我们已经学习完毕solr中的分词器和过滤器，有了这些知识的储备后，我们就可以使用TextField这种类定义FieldType.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们说过，在我们在使用TextField作为FieldType的class的时候，必须指定Analyzer，用一个\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<analyzer>\"}]},{\"type\":\"text\",\"value\":\"标签来声明一个Analyzer；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"方式一：直接通过class属性指定分析器类，该类必须继承org.apache.lucene.analysis.Analyzer\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer class=\\\"org.apache.lucene.analysis.core.WhitespaceAnalyzer\\\"/>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer class=\\\"org.apache.lucene.analysis.core.WhitespaceAnalyzer\\\"/>\\r\\n</fieldType>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这里的\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"WhitespaceAnalyzer\"}]},{\"type\":\"text\",\"value\":\"就是一种分析器，这个分析器中封装了我们之前讲过了一个分词器WhitespaceTokenizer。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这种方式写起来比较简单，但是透明度不够，使用者可能不知道这个分析器中封装了哪些分词器和过滤器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_170052.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于那些复杂的分析需求，我们也可以在分析器中灵活地组合分词器、过滤器；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"方式二：可以灵活地组合分词器、过滤器\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_170312.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"方式三：如果该类型字段索引、查询时需要使用不同的分析器，则需区分配置analyzer\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n    <filter class=\\\"solr.SynonymFilterFactory\\\" synonyms=\\\"syns.txt\\\"/>\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"nametext\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n    <filter class=\\\"solr.SynonymFilterFactory\\\" synonyms=\\\"syns.txt\\\"/>\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\"/>\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试索引分词效果：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_171445.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试搜索分词效果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_171626.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过测试我们发现索引和搜索产生的分词结果是不同；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"接下来我们使用myFeildType3定义一个域。使用该域创建一个文档。我们来测试；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_172756.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_content:sofa可以搜索到吗？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"索引的时候:   sofa被分为couch,sofa,divan；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581672842954\",\"src\":\"imgs/1581672842954.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索的时候，sofa这个内容就被分为sofa这一个词；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_content:couch可以搜索到吗？\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_content:small可以搜索到吗？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"索引的时候,small经过同义词过滤器变成 tiny,teeny,weeny 。small并没有和文档建立倒排索引关系；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索的时候small内容只能被分为samll这个词；所以找不到；\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结论:\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"所以一般我们在定义FieldType的时候，索引和搜索往往使用的分析器规则相同；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"或者索引的时候采用细粒度的分词器,目的是让更多的词和文档建立倒排索引；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索的时候使用粗粒度分词器，词分的少一点，提高查询的精度；\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"daterangefield的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"DateRangeField的使用\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_175844.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中提供的时间域类型（ DatePointField, DateRangeField）是以时间毫秒数来存储时间的。要求域值以ISO-8601标准格式来表示时间：yyyy-MM-ddTHH:mm:ssZ。Z表示是UTC时间，如1999-05-20T17:33:18Z；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"秒上可以带小数来表示毫秒如：1972-05-20T17:33:18.772Z、1972-05-20T17:33:18.77Z、1972-05-20T17:33:18.7Z\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"秒上可以带小数来表示毫秒如：1972-05-20T17:33:18.772Z、1972-05-20T17:33:18.77Z、1972-05-20T17:33:18.7Z\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"域类型定义很简单：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"myDate\\\" class=\\\"solr.DateRangeField\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"myDate\\\" class=\\\"solr.DateRangeField\\\" />\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用myDate域类型定义一个域\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_birthday\\\" type=\\\"myDate\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_birthday\\\" type=\\\"myDate\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"基于item_birthday域来索引\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"{\\\"id\\\":666777,\\\"name\\\":\\\"xiaoming\\\",\\\"item_birthday\\\":\\\"2020-3-6T19:21:22Z\\\"}\\r\\n{\\\"id\\\":777888,\\\"name\\\":\\\"misscang\\\",\\\"item_birthday\\\":\\\"2020-3-6T19:22:22.333Z\\\"}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"id\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"666777\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"name\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"xiaoming\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_birthday\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"2020-3-6T19:21:22Z\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"id\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"777888\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"name\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"misscang\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_birthday\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"2020-3-6T19:22:22.333Z\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如何基于item_birthday搜索\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"语法：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"查询时如果是直接的时间串，需要用转义字符进行转义：\\r\\nitem_birthday:2020-2-14T19\\\\:21\\\\:22Z\\r\\n#用字符串表示的则不需要转义\\r\\nitem_birthday:\\\"2020-2-14T19:21:22Z\\\"\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询时如果是直接的时间串，需要用转义字符进行转义：\\r\\nitem_birthday:2020-2-14T19\\\\:21\\\\:22Z\\r\\n#用字符串表示的则不需要转义\\r\\nitem_birthday:\\\"2020-2-14T19:21:22Z\\\"\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"DateRangeField除了支持精确时间查询，也支持对间段数据的搜索，支持两种时间段表示方式：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"方式一：截断日期，它表示整个日期跨度的精确指示。\\r\\n方式二：时间范围，语法 [t1 TO t2] {t1 TO t2}，中括号表示包含边界，大括号表示不包含边界\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"方式一：截断日期，它表示整个日期跨度的精确指示。\\r\\n方式二：时间范围，语法 [t1 TO t2] {t1 TO t2}，中括号表示包含边界，大括号表示不包含边界\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"例子：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"2000-11  #表示2000年11月整个月.\\r\\n2000-11T13  #表示2000年11月每天的13点这一个小时\\r\\n[2000-11-01 TO 2014-12-01]  #日到日\\r\\n[2014 TO 2014-12-01]  #2014年开始到2014-12-01止.\\r\\n[* TO 2014-12-01]  #2014-12-01(含）前.\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2000-11  #表示2000年11月整个月.\\r\\n2000-11T13  #表示2000年11月每天的13点这一个小时\\r\\n[2000-11-01 TO 2014-12-01]  #日到日\\r\\n[2014 TO 2014-12-01]  #2014年开始到2014-12-01止.\\r\\n[* TO 2014-12-01]  #2014-12-01(含）前.\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"item_birthday:2020-11-21   \\r\\nitem_birthday:[2020-02-14T19:21 TO 2020-02-14T19:22]\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_birthday:2020-11-21   \\r\\nitem_birthday:[2020-02-14T19:21 TO 2020-02-14T19:22]\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr中还支持用 【NOW ±/ 时间】的数学表达式来灵活表示时间。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"NOW+1MONTH  #当前时间加上1个月\\r\\nNOW+2MONTHS  #当前时间加上两个月，复数要机上S\\r\\nNOW-1DAY\\r\\nNOW-2DAYS\\r\\nNOW/DAY, NOW/HOURS表示，截断。如果当前时间是2017-05-20T23:32:33Z，那么即是2017-05-20T00:00:00Z，2017-05-20T23:00:00Z。取当日的0点，去当前小时0点\\r\\nNOW+6MONTHS+3DAYS/DAY\\r\\n1972-05-20T17:33:18.772Z+6MONTHS+3DAYS/DAY\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"NOW+1MONTH  #当前时间加上1个月\\r\\nNOW+2MONTHS  #当前时间加上两个月，复数要机上S\\r\\nNOW-1DAY\\r\\nNOW-2DAYS\\r\\nNOW/DAY, NOW/HOURS表示，截断。如果当前时间是2017-05-20T23:32:33Z，那么即是2017-05-20T00:00:00Z，2017-05-20T23:00:00Z。取当日的0点，去当前小时0点\\r\\nNOW+6MONTHS+3DAYS/DAY\\r\\n1972-05-20T17:33:18.772Z+6MONTHS+3DAYS/DAY\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"item_birthday:[NOW-3MONTHS  TO NOW] 生日在三个月内的；\\r\\nitem_birthday:[NOW/DAY TO NOW] 当前时间的0点到当前时间\\r\\nitem_birthday:[NOW/HOURS TO NOW] 当前小时的0点到当前时间\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_birthday:[NOW-3MONTHS  TO NOW] 生日在三个月内的；\\r\\nitem_birthday:[NOW/DAY TO NOW] 当前时间的0点到当前时间\\r\\nitem_birthday:[NOW/HOURS TO NOW] 当前小时的0点到当前时间\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"enumfieldtype的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"EnumFieldType的使用\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-13_214309.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"EnumFieldType 用于域值是一个枚举集合，且排序顺序可预定的情况，如新闻分类这样的字段。如果我们想定义一个域类型，他的域值只能取指定的值，我们就可以使用EnumFieldType 定义该域类型；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"域类型定义：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"mySex\\\" class=\\\"solr.EnumFieldType\\\" enumsConfig=\\\"enumsConfig.xml\\\" enumName=\\\"sexType\\\" docValues=\\\"true\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"mySex\\\" class=\\\"solr.EnumFieldType\\\" enumsConfig=\\\"enumsConfig.xml\\\" enumName=\\\"sexType\\\" docValues=\\\"true\\\" />\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"属性：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":\"left\"},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"left\"},\"children\":[{\"type\":\"text\",\"value\":\"enumsConfig\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"enumsConfig.xml\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定枚举值的配置文件，绝对路径或相对内核conf/的相对路径\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"left\"},\"children\":[{\"type\":\"text\",\"value\":\"enumName\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"任意字符串\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定配置文件的枚举名。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":\"left\"},\"children\":[{\"type\":\"text\",\"value\":\"docValues\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true/false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"枚举类型必须设置 true\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"enumsConfig.xml配置示例（若没有该文件则新建）如下：注意以UTF-8无BOM格式保存；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\r\\n  <enumsConfig>\\r\\n      <enum name=\\\"sexType\\\">\\r\\n          <value>男</value>\\r\\n          <value>女</value>\\r\\n      </enum>\\r\\n      <enum name=\\\"new_cat\\\">\\r\\n          <value>a</value>\\r\\n          <value>b</value>\\r\\n          <value>c</value>\\r\\n          <value>d</value>\\r\\n      </enum>\\r\\n  </enumsConfig>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\r\\n  <enumsConfig>\\r\\n      <enum name=\\\"sexType\\\">\\r\\n          <value>男</value>\\r\\n          <value>女</value>\\r\\n      </enum>\\r\\n      <enum name=\\\"new_cat\\\">\\r\\n          <value>a</value>\\r\\n          <value>b</value>\\r\\n          <value>c</value>\\r\\n          <value>d</value>\\r\\n      </enum>\\r\\n  </enumsConfig>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_sex\\\" type=\\\"mySex\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_sex\\\" type=\\\"mySex\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"基于item_sex进行索引\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"{\\\"id\\\":123321,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"男\\\"}\\r\\n{\\\"id\\\":456564,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"女\\\"}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"id\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"123321\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_birthday\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"1992-04-20T20:33:33Z\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_content\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"i love sofa\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_sex\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"男\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"id\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"456564\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_birthday\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"1992-04-20T20:33:33Z\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_content\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"i love sofa\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_sex\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"女\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"以下报错\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"{\\\"id\\\":789987,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"妖\\\"}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"id\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"789987\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_birthday\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"1992-04-20T20:33:33Z\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_content\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"i love sofa\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_sex\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"妖\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_220617.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"基于item_sex进行搜索\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_sex:男\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_sex:女\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"326-solr的配置-dynamicfield-动态域\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.6  Solr的配置-DynamicField 动态域\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在schema文件中我们还可以看到一种标签dynamicField，这个标签也是用来定义域的；他和field标签有什么区别呢\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：如果某个业务中有近百个域需要定义，其中有很多域类型是相同，重复地定义域就十分的麻烦，因此可以定一个域名的规则，索引的时候，只要域名符合该规则即可；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如：整型域都是一样的定义，则可以定义一个动态域如下\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<dynamicField name=\\\"*_i\\\" type=\\\"pint\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<dynamicField name=\\\"*_i\\\" type=\\\"pint\\\" indexed=\\\"true\\\" stored=\\\"true\\\" />\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"注意：动态域只能用符号*通配符进行表示，且只有前缀和后缀两种方式\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"基于动态域索引；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# bf_i就是符合上面动态域的域名；\\r\\n{\\\"id\\\":38383,\\\"item_birthday\\\":\\\"1992-04-20T20:33:33Z\\\",\\\"item_content\\\":\\\"i love sofa\\\",\\\"item_sex\\\":\\\"女\\\", \\\"bf_i\\\":5}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"# bf_i就是符合上面动态域的域名；\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"id\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"38383\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_birthday\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"1992-04-20T20:33:33Z\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_content\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"i love sofa\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"item_sex\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"女\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\", \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"bf_i\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"5\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"327-solr的配置-复制域\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.7  Solr的配置-复制域\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在schema文件中我们还可以看到一种标签\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<copyField />\"}]},{\"type\":\"text\",\"value\":\"，这个标签是用来定义复制域的；复制域的作用是什么呢？\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：复制域允许将一个或多个域的数据填充到另外一个域中。他的最主要的作用，基于某一个域搜索，相当于在多个域中进行搜索；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <copyField source=\\\"cat\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"name\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"manu\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"features\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"includes\\\" dest=\\\"text\\\"/>\\r\\n  <!-- cat name manu features includes text都是solr提前定义好的域。\\r\\n  将 cat name manu features includes域的内容填充到text域中；\\r\\n  将来基于text域进行搜索，相当于在cat name manu features includes域中搜索； -->\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <copyField source=\\\"cat\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"name\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"manu\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"features\\\" dest=\\\"text\\\"/>\\r\\n  <copyField source=\\\"includes\\\" dest=\\\"text\\\"/>\\r\\n  <!-- cat name manu features includes text都是solr提前定义好的域。\\r\\n  将 cat name manu features includes域的内容填充到text域中；\\r\\n  将来基于text域进行搜索，相当于在cat name manu features includes域中搜索； -->\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"索引:\\r\\n{\\\"id\\\":1,\\\"name\\\":\\\"pitter wang\\\"}\\r\\n{\\\"id\\\":2,\\\"name\\\":\\\"pitter ma\\\"}\\r\\n{\\\"id\\\":3,\\\"manu\\\":\\\"jack ma\\\"}\\r\\n{\\\"id\\\":4,\\\"manu\\\":\\\"joice liu\\\"}\\n\",\"language\":\"json\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"索引:\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"id\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"name\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"pitter wang\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"id\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"2\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"name\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"pitter ma\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"id\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"3\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"manu\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"jack ma\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"id\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"4\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-c55f0e\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"manu\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"joice liu\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索：\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"text:ma\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"text:ma\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_223845.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"328-solr的配置-主键域\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.8  Solr的配置-主键域\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"指定用作唯一标识文档的域，必须。在solr中默认将id域作为主键域；也可以将其他改为主键域，但是一般都不会修改；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\" <field name=\\\"id\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\" required=\\\"true\\\" multiValued=\\\"false\\\" /> \\r\\n <uniqueKey>id</uniqueKey>\\r\\n <!-- 注意：主键域不可作为复制域，且不能分词。 -->\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\" <field name=\\\"id\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\" required=\\\"true\\\" multiValued=\\\"false\\\" /> \\r\\n <uniqueKey>id</uniqueKey>\\r\\n <!-- 注意：主键域不可作为复制域，且不能分词。 -->\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"329-solr的配置-中文分词器\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.9  Solr的配置-中文分词器\"}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"中文分词器的介绍\"},\"children\":[{\"type\":\"text\",\"value\":\"中文分词器的介绍\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们给大家讲解Solr中的分词器的时候，我们说Solr中最常用的分词器是Standard Tokenizer，\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Standard Tokenizer可以对英文完成精确的分词，但是对中文分词是有问题的。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们在schema文件中定义的一个FieldType.name为myFeildType2，class为TextField。使用TextField定义的域类型需要指定分析器，该分析器中使用的分词器就是Standard Tokenizer。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"myFeildType2\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"myFeildType2\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"solr.StandardTokenizerFactory\\\" />\\r\\n    <filter class=\\\"solr.LowerCaseFilterFactory\\\" />\\r\\n    <filter class=\\\"solr.StopFilterFactory\\\" words=\\\"stopwords.txt\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试myFeildType2的分词效果：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-14_230646.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于这种分词效果，显然不符合我们的要求.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"中文分词一直以来是分词领域的一个难题，因为中文中的断词需要依赖语境。相同的一句话语境不同可能分出的词就不同。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中提供了一个中文分词器SmartCN。但是该分词器并没有纳入到Solr的正式包中，属于扩展包。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"位置：solr-7.7.2\\\\contrib\\\\analysis-extras\\\\lucene-libs\\\\lucene-analyzers-smartcn-7.7.2.jar\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"而且SmartCN对中文分词也不太理想，目前市面上比较主流的中文分词器有IK，MMSeg4J,Ansj,Jcseg,TCTCLAS,HanLP.等\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"接下来我们就介绍一下这些分词器。并且使用这些分词器定义FieldType；\"}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"ik-analyzer\"},\"children\":[{\"type\":\"text\",\"value\":\"IK Analyzer\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"IK Analyzer是一个基于java语言开发的轻量级中文分词器包。采用词典分词的原理，允许使用者扩展词库。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​1.下载地址：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/EugenePig/ik-analyzer-solr5\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/EugenePig/ik-analyzer-solr5\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​2.编译打包源码:mvn package\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​3.安装: 把ik-analyzer-solr5-5.x.jar拷贝到Tomcat的Solr/WEB-INF/lib目录；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​4.配置: 把IKAnalyzer.cfg.xml和stopword.dic(停用词库)，ext.dic(扩展词库)拷贝到Solr/WEB-INF/classes。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​5.使用IK的分析器定义FiledType，IKAnalyzer分析器中提供了中分词器和过滤器。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name =\\\"text_ik\\\" class =\\\"solr.TextField\\\">\\r\\n<analyzer  class=\\\"org.wltea.analyzer.lucene.IKAnalyzer\\\"/>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name =\\\"text_ik\\\" class =\\\"solr.TextField\\\">\\r\\n<analyzer  class=\\\"org.wltea.analyzer.lucene.IKAnalyzer\\\"/>\\r\\n</fieldType>\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试text_ik分词效果。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_001958.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"传智播客，被单字分词，此处我们也可以添加扩展词库，让传智播客分成一个词；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编辑Solr/WEB-INF/classes/ext.dic(扩展词库)，加入传智播客；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"再次测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_002440.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"ansj\"},\"children\":[{\"type\":\"text\",\"value\":\"Ansj\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Ansj 是一个开源的 Java 中文分词工具，基于中科院的 ictclas 中文分词算法，比其他常用的开源分词工具（如mmseg4j）的分词准确率更高。Ansj中文分词是一款纯Java的、主要应用于自然语言处理的、高精度的中文分词工具，目标是“准确、高效、自由地进行中文分词”，可用于人名识别、地名识别、组织机构名识别、多级词性标注、关键词提取、指纹提取等领域，支持行业词典、用户自定义词典。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下载ansj以及其依赖包nlp-lang的源码\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/NLPchina/ansj_seg\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/NLPchina/ansj_seg\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/NLPchina/nlp-lang\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/NLPchina/nlp-lang\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编译打包源码mvn package -DskipTests=true\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"打包ansj\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_094215.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"打包nlp-lang\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_094631.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入到ansj/plugin/ansj_lucene5_plugin目录，打包ansj_lucene5\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_100838.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装：将以上三个jar包复制到solr/WEB-INF/lib目录\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置：将ansj的词库和配置文件复制到solr/WEB-INF/classes目录\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_101316.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用ansj中提供的分析器，分词器配置FieldType\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_ansj\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"org.ansj.lucene.util.AnsjTokenizerFactory\\\" isQuery=\\\"false\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"org.ansj.lucene.util.AnsjTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_ansj\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n    <tokenizer class=\\\"org.ansj.lucene.util.AnsjTokenizerFactory\\\" isQuery=\\\"false\\\" />\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"org.ansj.lucene.util.AnsjTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_103042.png\"},\"children\":[]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"mmseg4j\"},\"children\":[{\"type\":\"text\",\"value\":\"MMSeg4J\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"mmseg4j用Chih-Hao Tsai 的MMSeg算法实现的中文分词工具包，并实现lucene的analyzer和solr的r中使用。 MMSeg 算法有两种分词方法：Simple和Complex，都是基于正向最大匹配。Complex加了四个规则。官方说：词语的正确识别率达到了 98.41%。mmseg4j已经实现了这两种分词算法。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下载mmseg4j-core及mmseg4J-solr的源码;\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"mmseg4j-core包含了一些词库；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"mmseg4J-solr包含了和solr整合相关的分析器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/chenlb/mmseg4j-core\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/chenlb/mmseg4j-core\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/chenlb/mmseg4j-solr\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/chenlb/mmseg4j-solr\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编译打包源码:mvn package\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装: 把 mmseg4j-core.jar和mmseg4J-solr.jar复制到Solr/WEB-INF/lib\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用mmseg4j的分析器定义FiledType，mmseg4j提供了3种不同模式。分别针对不同情况的解析。\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"tokenizer 的参数：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"dicPath 参数 － 设置词库位置，支持相对路径(相对于 solrCore).\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"mode 参数 － 分词模式。\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"complex：复杂模式，针对语义复杂的情况\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldtype name=\\\"textComplex\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"complex\\\" dicPath=\\\"dic\\\"/>\\r\\n</analyzer>\\r\\n</fieldtype>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldtype name=\\\"textComplex\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"complex\\\" dicPath=\\\"dic\\\"/>\\r\\n</analyzer>\\r\\n</fieldtype>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"max-word：最大词模式，针对分出的词最多\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldtype name=\\\"textMaxWord\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"max-word\\\" \\r\\n  dicPath=\\\"dic\\\"/>\\r\\n</analyzer>\\r\\n</fieldtype>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldtype name=\\\"textMaxWord\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"max-word\\\" \\r\\n  dicPath=\\\"dic\\\"/>\\r\\n</analyzer>\\r\\n</fieldtype>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"simple：简单模式，针对一般情况\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldtype name=\\\"textSimple\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"simple\\\" dicPath=\\\"dic\\\" />\\r\\n</analyzer>\\r\\n</fieldtype>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldtype name=\\\"textSimple\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n<analyzer>\\r\\n  <tokenizer class=\\\"com.chenlb.mmseg4j.solr.MMSegTokenizerFactory\\\" mode=\\\"simple\\\" dicPath=\\\"dic\\\" />\\r\\n</analyzer>\\r\\n</fieldtype>\"}]}]}]}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在collection1下创建词库目录dic\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将 mmseg4j-core/resources/data目录中的词库文件复制到solr_home/collection1/dic目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"chars.dic 是单字的词，一般不用改动我们不需要关心它。\\r\\nunits.dic 是单字的单位，一般不用改动我们不需要关心它。\\r\\nwords.dic 是词库文件，一行一词，可以自己进行扩展词库。\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"chars.dic 是单字的词，一般不用改动我们不需要关心它。\\r\\nunits.dic 是单字的单位，一般不用改动我们不需要关心它。\\r\\nwords.dic 是词库文件，一行一词，可以自己进行扩展词库。\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试mmseg4j分词效果。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"近一百多年来，总有一些公司很幸运地、有意识或者无意识地站在技术革命的浪尖之上。一旦处在了那个位置，即使不做任何事，也可以随着波浪顺顺当当地向前漂个十年甚至更长的时间。在这十几年间，它们代表着科技的浪潮，直到下一波浪潮的来临。从一百年前算起，AT&T公司、IBM公司、苹果(Apple)公司 、英特尔(Intel) 公司、微软(Microsoft) 公司、和谷歌(Google)公司都先后被幸运地推到了浪尖。虽然，它们来自不同的领域，中间有些已经衰落或者正在衰落，但是它们都极度辉煌过。这些公司里的人，无论职位高低，在外人看来，都是时代的幸运儿。因为，虽然对一个公司来说，赶上一次浪潮不能保证其长盛不衰；但是，对一个人来说，一生赶上一次这样的浪潮就足够了。一个弄潮的年轻人，最幸运的，莫过于赶上一波大潮。\\n\",\"language\":\"txt\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"近一百多年来，总有一些公司很幸运地、有意识或者无意识地站在技术革命的浪尖之上。一旦处在了那个位置，即使不做任何事，也可以随着波浪顺顺当当地向前漂个十年甚至更长的时间。在这十几年间，它们代表着科技的浪潮，直到下一波浪潮的来临。从一百年前算起，AT&T公司、IBM公司、苹果(Apple)公司 、英特尔(Intel) 公司、微软(Microsoft) 公司、和谷歌(Google)公司都先后被幸运地推到了浪尖。虽然，它们来自不同的领域，中间有些已经衰落或者正在衰落，但是它们都极度辉煌过。这些公司里的人，无论职位高低，在外人看来，都是时代的幸运儿。因为，虽然对一个公司来说，赶上一次浪潮不能保证其长盛不衰；但是，对一个人来说，一生赶上一次这样的浪潮就足够了。一个弄潮的年轻人，最幸运的，莫过于赶上一波大潮。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_115814.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"综上所述可以看出，三种分词方法存在着一些同样的错误，比如名词“英特尔“和”谷歌“都没有识别出来。综合比较Complex的分词方法准确率最高。\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"jcseg\"},\"children\":[{\"type\":\"text\",\"value\":\"jcseg\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Jcseg是基于mmseg算法的一个轻量级Java中文分词工具包，同时集成了关键字提取，关键短语提取，关键句子提取和文章自动摘要等功能，并且提供了一个基于Jetty的web服务器，方便各大语言直接http调用，同时提供了最新版本的lucene，solr和elasticsearch的搜索分词接口;\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1.下载地址：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://gitee.com/lionsoul/jcseg\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://gitee.com/lionsoul/jcseg\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.编译打包源码jcseg-core,jcseg-analyzer\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_125323.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"3.安装: 将jcseg-analyze.jar和jcseg-core.jar复制到Solr/WEB-INF/lib目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"4.使用jcseg的分析器定义FieldType,Jcseg提供了很多模式；复杂模式最常用。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"(1).简易模式：FMM算法，适合速度要求场合。\\r\\n(2).复杂模式：MMSEG四种过滤算法，具有较高的歧义去除，分词准确率达到了98.41%。\\r\\n(3).检测模式：只返回词库中已有的词条，很适合某些应用场合。\\r\\n(4).最多模式：细粒度切分，专为检索而生，除了中文处理外（不具备中文的人名，数字识别等智能功能）其他与复杂模式一致（英文，组合词等）。\\r\\n(5).分隔符模式：按照给定的字符切分词条，默认是空格，特定场合的应用。\\r\\n(6).NLP模式：继承自复杂模式，更改了数字，单位等词条的组合方式，增加电子邮件，大陆手机号码，网址，人名，地名，货币等以及无限种自定义实体的识别与返回。\\r\\n(7).n-gram模式：CJK和拉丁系字符的通用n-gram切分实现。\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"(1).简易模式：FMM算法，适合速度要求场合。\\r\\n(2).复杂模式：MMSEG四种过滤算法，具有较高的歧义去除，分词准确率达到了98.41%。\\r\\n(3).检测模式：只返回词库中已有的词条，很适合某些应用场合。\\r\\n(4).最多模式：细粒度切分，专为检索而生，除了中文处理外（不具备中文的人名，数字识别等智能功能）其他与复杂模式一致（英文，组合词等）。\\r\\n(5).分隔符模式：按照给定的字符切分词条，默认是空格，特定场合的应用。\\r\\n(6).NLP模式：继承自复杂模式，更改了数字，单位等词条的组合方式，增加电子邮件，大陆手机号码，网址，人名，地名，货币等以及无限种自定义实体的识别与返回。\\r\\n(7).n-gram模式：CJK和拉丁系字符的通用n-gram切分实现。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<!-- 复杂模式分词: -->\\r\\n<fieldtype name=\\\"text_jcseg\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"complex\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 简易模式分词: -->\\r\\n<fieldtype name=\\\"textSimple\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"simple\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 检测模式分词: -->\\r\\n<fieldtype name=\\\"textDetect\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"detect\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 检索模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"most\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- NLP模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"nlp\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 空格分隔符模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"delimiter\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- n-gram模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"ngram\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<!-- 复杂模式分词: -->\\r\\n<fieldtype name=\\\"text_jcseg\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"complex\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 简易模式分词: -->\\r\\n<fieldtype name=\\\"textSimple\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"simple\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 检测模式分词: -->\\r\\n<fieldtype name=\\\"textDetect\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"detect\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 检索模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"most\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- NLP模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"nlp\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- 空格分隔符模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"delimiter\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\\r\\n<!-- n-gram模式分词: -->\\r\\n<fieldtype name=\\\"textSearch\\\" class=\\\"solr.TextField\\\">\\r\\n    <analyzer>\\r\\n        <tokenizer class=\\\"org.lionsoul.jcseg.analyzer.JcsegTokenizerFactory\\\" mode=\\\"ngram\\\"/>\\r\\n    </analyzer>\\r\\n</fieldtype>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"扩展词库定义\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"jcseg也支持对词库进行扩展\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将jcseg的配置文件从jc-core/jcseg.properties复制到solr/WEB-INF/classess目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编辑jcseg.properties配置文件，指定lexicon.path即词库位置。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"lexicon.path = D:/jcseg/lexicon\\n\",\"language\":\"ini\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9e7b00\"},\"children\":[{\"type\":\"text\",\"value\":\"lexicon.path\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\" = D:/jcseg/lexicon\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将jcseg\\\\vendors\\\\lexicon目录下的词库文件复制到 D:/jcseg/lexicon\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"jcseg对这些词库文件进行分类\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"修改词库文件lex-place.lex加入新词\\r\\n传智播客/ns/chuan zhi bo ke/null\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改词库文件lex-place.lex加入新词\\r\\n传智播客/ns/chuan zhi bo ke/null\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试jcseg分词效果。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_145844.png\"},\"children\":[]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"ictclas中科院分词器\"},\"children\":[{\"type\":\"text\",\"value\":\"ICTCLAS（中科院分词器）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"ICTCLAS分词器是中国科学院计算技术研究所在多年研究工作积累的基础上，研制出了汉语词法分析系统ICTCLAS(Institute of Computing Technology, Chinese Lexical Analysis System)，基于完全C/C++编写，主要功能包括中文分词；词性标注；命名实体识别；新词识别；同时支持用户词典。先后精心打造五年，内核升级6次，目前已经升级到了ICTCLAS3.0。ICTCLAS3.0分词速度单机996KB/s，分词精度98.45%，API不超过200KB，各种词典数据压缩后不到3M，是当前世界上最好的汉语词法分析器，商业收费。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下载ICTCLAS的分析器nlpir-analysis-cn-ictclas和ictclas SDK和jna.jar(java调用c的包)：\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"​nlpir-analysis-cn-ictclas:\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/NLPIR-team/nlpir-analysis-cn-ictclas\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/NLPIR-team/nlpir-analysis-cn-ictclas\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"ictclas SDK:\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/NLPIR-team/NLPIR\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/NLPIR-team/NLPIR\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"jna.jar:\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://repo1.maven.org/maven2/net/java/dev/jna/jna/5.5.0/jna-5.5.0.jar\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://repo1.maven.org/maven2/net/java/dev/jna/jna/5.5.0/jna-5.5.0.jar\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编译：打包nlpir-analysis-cn-ictclas源码生成lucene-analyzers-nlpir-ictclas-6.6.0.jar\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装：将lucene-analyzers-nlpir-ictclas-6.6.0.jar,jna.jar复制到solr/WEB-INF/lib目录\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置：在tomcat/bin目录下创建配置文件nlpir.properties，为什么要在tomcat/bin目录中创建配置文件呢？\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我猜是他的代码中使用了相对路径。而不是读取classpath下面的文件；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"data=\\\"D:/javasoft/NLPIR/NLPIR SDK/NLPIR-ICTCLAS\\\" #Data directory‘s parent path，在ictclas SDK中；\\r\\nencoding=1 #0 GBK;1 UTF-8\\r\\nsLicenseCode=\\\"\\\" # License code，此处也可以看出其收费\\r\\nuserDict=\\\"\\\" # user dictionary, a text file\\r\\nbOverwrite=false # whether overwrite the existed user dictionary or not\\n\",\"language\":\"ini\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9e7b00\"},\"children\":[{\"type\":\"text\",\"value\":\"data\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"D:/javasoft/NLPIR/NLPIR SDK/NLPIR-ICTCLAS\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08fb6b\"},\"children\":[{\"type\":\"text\",\"value\":\"#Data directory‘s parent path，在ictclas SDK中；\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9e7b00\"},\"children\":[{\"type\":\"text\",\"value\":\"encoding\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"=1 \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08fb6b\"},\"children\":[{\"type\":\"text\",\"value\":\"#0 GBK;1 UTF-8\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9e7b00\"},\"children\":[{\"type\":\"text\",\"value\":\"sLicenseCode\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08fb6b\"},\"children\":[{\"type\":\"text\",\"value\":\"# License code，此处也可以看出其收费\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9e7b00\"},\"children\":[{\"type\":\"text\",\"value\":\"userDict\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-0d7501\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08fb6b\"},\"children\":[{\"type\":\"text\",\"value\":\"# user dictionary, a text file\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9e7b00\"},\"children\":[{\"type\":\"text\",\"value\":\"bOverwrite\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-2447a2\"},\"children\":[{\"type\":\"text\",\"value\":\"=false \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08fb6b\"},\"children\":[{\"type\":\"text\",\"value\":\"# whether overwrite the existed user dictionary or not\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置fieldType，指定对应的分析器\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_ictclas\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n    <analyzer type=\\\"index\\\">\\r\\n      <tokenizer class=\\\"org.nlpir.lucene.cn.ictclas.NLPIRTokenizerFactory\\\"/>\\r\\n    </analyzer>\\r\\n    <analyzer type=\\\"query\\\">\\r\\n      <tokenizer class=\\\"org.nlpir.lucene.cn.ictclas.NLPIRTokenizerFactory\\\"/>\\r\\n    </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_ictclas\\\" class=\\\"solr.TextField\\\" positionIncrementGap=\\\"100\\\">\\r\\n    <analyzer type=\\\"index\\\">\\r\\n      <tokenizer class=\\\"org.nlpir.lucene.cn.ictclas.NLPIRTokenizerFactory\\\"/>\\r\\n    </analyzer>\\r\\n    <analyzer type=\\\"query\\\">\\r\\n      <tokenizer class=\\\"org.nlpir.lucene.cn.ictclas.NLPIRTokenizerFactory\\\"/>\\r\\n    </analyzer>\\r\\n</fieldType>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试text_ictclas分词效果。\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"hanlp\"},\"children\":[{\"type\":\"text\",\"value\":\"HanLP\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"HanLP是由一系列模型与算法组成的java开源工具包，目标是普及自然语言处理在生产环境中的应用。HanLP具备功能完善、性能高效、架构清晰、语料时新、可自定义的特点；提供词法分析（中文分词、词性标注、命名实体识别）、句法分析、文本分类和情感分析等功能。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1.下载词典\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://nlp.hankcs.com/download.php?file=data\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://nlp.hankcs.com/download.php?file=data\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"2.下载hanlp的jar包和配置文件\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://nlp.hankcs.com/download.php?file=jar\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://nlp.hankcs.com/download.php?file=jar\"}]},{\"type\":\"text\",\"value\":\"\\r\\n下载handlp整合lucene的jar包\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/hankcs/hanlp-lucene-plugin\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://github.com/hankcs/hanlp-lucene-plugin\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"3.将词典文件压缩包data-for-1.7.zip解压到指定位置 eg:d:/javasoft下；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_162746.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"4.安装: 将hanlp.jar和hanlp-lucene-plugin.jar包复制到solr/WEB-INF/lib\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"5.配置:将配置文件hanlp.properties复制solr/WEB-INF/classes\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_163034.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"6.配置：在hanlp.properties中指定词典数据的目录\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_163653.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"7.配置停用词，扩展词等。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_163759.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"8.使用HanLP中提供的分析器配置FieldType\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_hanlp\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n  <tokenizer class=\\\"com.hankcs.lucene.HanLPTokenizerFactory\\\" enableIndexMode=\\\"true\\\"/>\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n  <!-- 切记不要在query中开启index模式 -->\\r\\n  <tokenizer class=\\\"com.hankcs.lucene.HanLPTokenizerFactory\\\" enableIndexMode=\\\"false\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_hanlp\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\">\\r\\n  <tokenizer class=\\\"com.hankcs.lucene.HanLPTokenizerFactory\\\" enableIndexMode=\\\"true\\\"/>\\r\\n  </analyzer>\\r\\n  <analyzer type=\\\"query\\\">\\r\\n  <!-- 切记不要在query中开启index模式 -->\\r\\n  <tokenizer class=\\\"com.hankcs.lucene.HanLPTokenizerFactory\\\" enableIndexMode=\\\"false\\\"/>\\r\\n  </analyzer>\\r\\n</fieldType>\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试test_hanlp分词效果。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_165658.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"中文分词器建议\"},\"children\":[{\"type\":\"text\",\"value\":\"中文分词器建议\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"介绍了这么多的中文分词器，在实际开发中我们如何进行选择呢？\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"中文分词器核心就是算法和字典，算法决定了分词的效率，字典决定了分词的结果。词库不完善导致词语分不出来，虽然可以通过扩展词典进行补充，但是补充只能是发现问题再去补充，所以分词器自动发现新词的功能就很重要。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"CRF（条件随机场）算法是目前最好的识别新词的分词算法。Ansj和HanLp都支持CRF，自动补充词库；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Ansj缺点是核心词典不能修改，只能借助扩展词典进行补充。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"HanLp是目前功能最齐全，社区最活跃的分词器。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"MMseg4J和Jcseg两者都采用MMseg算法。但是Jcseg更活跃。MMseg4J基本不再更新。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"IK分词器是使用最多的一种分词器，虽然词典不支持自动扩展词汇，但是简单，所以使用率最高；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"最后一个就是Ictclas他是功能最强大的一款分词器，但是是基于C/C++编写，而且要进行商业授权。比较适合对分词要求较高且不差钱的公司。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"综上：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一般对于追求简单来说建议使用IK分词器；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对分词要求较高，但是希望免费，可以使用HanLp；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"关于中文分词器的使用我们就全部讲解完毕。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"自定义分词器了解\"},\"children\":[{\"type\":\"text\",\"value\":\"自定义分词器（了解）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们都知道分析器由分词器和过滤器构成。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要想使用分析器，首先要定义分词器。如果不需要对分词结果进行过滤，过滤器是可选的。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们在使用分词器的时候，都是使用Solr自带的分词器，比如标准分词器。当然也使用到第三方的一些中文分词器，比如IK分词器。为了更好的理解分析器的java体系结构，下面讲解自定义分词器。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义分词器的步骤：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"继承Tokenizer或者CharTokenizer抽象类；Tokenizer字符串级别的分词器，适合复杂分词器。CharTokenizer字符级别的分词器，适合简单分词器；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义过滤器的步骤：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"继承TokenFiler或者FilteringTokenFilter\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"自定义分词器将\\\"This+is+my+family\\\"按照+作为分隔符分成\\\"This\\\" \\\"is\\\" \\\"My\\\" \\\"family\\\"；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搭建环境\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建模块，引入solr-core依赖，最好和当前solr版本一致\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<dependency>\\r\\n  <groupId>org.apache.solr</groupId>\\r\\n  <artifactId>solr-core</artifactId>\\r\\n  <version>7.7.2</version>\\r\\n</dependency>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<dependency>\\r\\n  <groupId>org.apache.solr</groupId>\\r\\n  <artifactId>solr-core</artifactId>\\r\\n  <version>7.7.2</version>\\r\\n</dependency>\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义一个类继承CharTokenizer（字符级别的分词器）\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public class PlusSignTokenizer  extends CharTokenizer {\\r\\n    public PlusSignTokenizer() {\\r\\n    }\\r\\n\\r\\n    public PlusSignTokenizer(AttributeFactory factory) {\\r\\n        super(factory);\\r\\n    }\\r\\n//isTokenChar哪些字符是词；\\r\\n    public boolean isTokenChar(int i) {\\r\\n        //将什么字符作为分隔符进行分词\\r\\n      return i != '+';\\r\\n    }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"public class PlusSignTokenizer  extends CharTokenizer {\\r\\n    public PlusSignTokenizer() {\\r\\n    }\\r\\n\\r\\n    public PlusSignTokenizer(AttributeFactory factory) {\\r\\n        super(factory);\\r\\n    }\\r\\n//isTokenChar哪些字符是词；\\r\\n    public boolean isTokenChar(int i) {\\r\\n        //将什么字符作为分隔符进行分词\\r\\n      return i != '+';\\r\\n    }\\r\\n}\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义分词器工厂管理分词器，定义类继承TokenizerFactory\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public class PlusSignTokenizerFactory extends TokenizerFactory {\\r\\n    /**\\r\\n    * 在schem配置文件中配置分词器的时候，指定参数args配置分词器时候的指定的参数\\r\\n    *    <analyzer>\\r\\n    *         <tokenizer class=\\\"cn.itcast.tokenizer.PlausSignTokenizerFactory\\\" mode=\\\"complex\\\"/>\\r\\n    *     </analyzer>\\r\\n    * @param args\\r\\n    */\\r\\n\\r\\n    public PlusSignTokenizerFactory(Map<String, String> args) {\\r\\n        //分词器属性配置\\r\\n        super(args);\\r\\n    }\\r\\n\\r\\n    @Override\\r\\n    public Tokenizer create(AttributeFactory attributeFactory) {\\r\\n        return new PlusSignTokenizer(attributeFactory);\\r\\n    }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"public class PlusSignTokenizerFactory extends TokenizerFactory {\\r\\n    /**\\r\\n    * 在schem配置文件中配置分词器的时候，指定参数args配置分词器时候的指定的参数\\r\\n    *    <analyzer>\\r\\n    *         <tokenizer class=\\\"cn.itcast.tokenizer.PlausSignTokenizerFactory\\\" mode=\\\"complex\\\"/>\\r\\n    *     </analyzer>\\r\\n    * @param args\\r\\n    */\\r\\n\\r\\n    public PlusSignTokenizerFactory(Map<String, String> args) {\\r\\n        //分词器属性配置\\r\\n        super(args);\\r\\n    }\\r\\n\\r\\n    @Override\\r\\n    public Tokenizer create(AttributeFactory attributeFactory) {\\r\\n        return new PlusSignTokenizer(attributeFactory);\\r\\n    }\\r\\n}\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"package打包代码,将jar包复制到solr/WEB-INF/lib\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置FieldType\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_custom\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"cn.itcast.tokenizer.PlausSignTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_custom\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"cn.itcast.tokenizer.PlausSignTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"关于如何自定义一个分词器，我们就先说到这，在实际开发中我们基本上不会自己定义，主要体会流程；\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"自定义过滤器了解\"},\"children\":[{\"type\":\"text\",\"value\":\"自定义过滤器（了解）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节课，我们学习了分词器的定义，下面我们讲解定义过滤器。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中要定义一个过滤器，需要继承TokenFiler或者FilteringTokenFilter\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：过滤掉\\\"love\\\"词\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们可以参考一个solr内置过滤器LenthFilter;\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public final class LengthFilter extends FilteringTokenFilter {\\r\\n  private final int min;\\r\\n  private final int max;\\r\\n  //获取当前词\\r\\n  private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\\r\\n  //构造方法接收三个参数，词的集合，词的最小长度和最大长度\\r\\n  public LengthFilter(TokenStream in, int min, int max) {\\r\\n    super(in);\\r\\n    if (min < 0) {\\r\\n      throw new IllegalArgumentException(\\\"minimum length must be greater than or equal to zero\\\");\\r\\n    }\\r\\n    if (min > max) {\\r\\n      throw new IllegalArgumentException(\\\"maximum length must not be greater than minimum length\\\");\\r\\n    }\\r\\n    this.min = min;\\r\\n    this.max = max;\\r\\n  }\\r\\n\\r\\n  //该方法返回true，保留该词否则不保留；\\r\\n  @Override\\r\\n  public boolean accept() {\\r\\n    final int len = termAtt.length();\\r\\n    return (len >= min && len <= max);\\r\\n  }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"public final class LengthFilter extends FilteringTokenFilter {\\r\\n  private final int min;\\r\\n  private final int max;\\r\\n  //获取当前词\\r\\n  private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\\r\\n  //构造方法接收三个参数，词的集合，词的最小长度和最大长度\\r\\n  public LengthFilter(TokenStream in, int min, int max) {\\r\\n    super(in);\\r\\n    if (min < 0) {\\r\\n      throw new IllegalArgumentException(\\\"minimum length must be greater than or equal to zero\\\");\\r\\n    }\\r\\n    if (min > max) {\\r\\n      throw new IllegalArgumentException(\\\"maximum length must not be greater than minimum length\\\");\\r\\n    }\\r\\n    this.min = min;\\r\\n    this.max = max;\\r\\n  }\\r\\n\\r\\n  //该方法返回true，保留该词否则不保留；\\r\\n  @Override\\r\\n  public boolean accept() {\\r\\n    final int len = termAtt.length();\\r\\n    return (len >= min && len <= max);\\r\\n  }\\r\\n}\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义一个类继承FilteringTokenFilter\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义成员变量，获取当前的词\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重写FilteringTokenFilter中accept() 方法决定保留哪些词。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public class LoveTokenFilter extends FilteringTokenFilter {\\r\\n    private String keyword;\\r\\n    //获取当前词\\r\\n    private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\\r\\n\\r\\n    public LoveTokenFilter(TokenStream in,String keyword) {\\r\\n        super(in);\\r\\n        this.keyword = keyword;\\r\\n    }\\r\\n\\r\\n    protected boolean accept() throws IOException {\\r\\n        String token = termAtt.toString();\\r\\n        if(token.equalsIgnoreCase(keyword)) {\\r\\n            return false;\\r\\n        }\\r\\n        return true;\\r\\n    }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"public class LoveTokenFilter extends FilteringTokenFilter {\\r\\n    private String keyword;\\r\\n    //获取当前词\\r\\n    private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);\\r\\n\\r\\n    public LoveTokenFilter(TokenStream in,String keyword) {\\r\\n        super(in);\\r\\n        this.keyword = keyword;\\r\\n    }\\r\\n\\r\\n    protected boolean accept() throws IOException {\\r\\n        String token = termAtt.toString();\\r\\n        if(token.equalsIgnoreCase(keyword)) {\\r\\n            return false;\\r\\n        }\\r\\n        return true;\\r\\n    }\\r\\n}\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义类继承TokenFilterFactory\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public class LoveTokenFilterFactory extends TokenFilterFactory {\\r\\n    private String keywords;\\r\\n\\r\\n//调用父类无参构造\\r\\n    public LoveTokenFilterFactory(Map<String, String> args) throws IllegalAccessException {\\r\\n        super(args);\\r\\n        if(args== null) {\\r\\n            throw new IllegalAccessException(\\\"必须传递keywords参数\\\");\\r\\n        }\\r\\n      this.keywords = this.get(args, \\\"keywords\\\");\\r\\n    }\\r\\n\\r\\n    public TokenStream create(TokenStream input) {\\r\\n        return new LoveTokenFilter(input,keywords);\\r\\n    }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"public class LoveTokenFilterFactory extends TokenFilterFactory {\\r\\n    private String keywords;\\r\\n\\r\\n//调用父类无参构造\\r\\n    public LoveTokenFilterFactory(Map<String, String> args) throws IllegalAccessException {\\r\\n        super(args);\\r\\n        if(args== null) {\\r\\n            throw new IllegalAccessException(\\\"必须传递keywords参数\\\");\\r\\n        }\\r\\n      this.keywords = this.get(args, \\\"keywords\\\");\\r\\n    }\\r\\n\\r\\n    public TokenStream create(TokenStream input) {\\r\\n        return new LoveTokenFilter(input,keywords);\\r\\n    }\\r\\n}\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置FieldType\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_custom\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"cn.itcast.tokenizer.PlusSignTokenizerFactory\\\" />\\r\\n    <filter class=\\\"cn.itcast.tokenfilter.LoveTokenFilterFactory\\\" keywords=\\\"love\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_custom\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer>\\r\\n    <tokenizer class=\\\"cn.itcast.tokenizer.PlusSignTokenizerFactory\\\" />\\r\\n    <filter class=\\\"cn.itcast.tokenfilter.LoveTokenFilterFactory\\\" keywords=\\\"love\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"梳理工作流程：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581831142031\",\"src\":\"C:%5CUsers%5Cligan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1581831142031.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":7},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"打包安装重写测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-16_134708.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h6\",\"props\":{\"id\":\"自定义分析器了解\"},\"children\":[{\"type\":\"text\",\"value\":\"自定义分析器（了解）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中我们通常会使用\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<tokenizer>\"}]},{\"type\":\"text\",\"value\":\" + \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<filter>\"}]},{\"type\":\"text\",\"value\":\"的形式来组合分析器，这种方式耦合性低，使用起来灵活。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中也允许我们将一个分词器和一个过滤器直接封装到分析器类中；将来直接使用分析器。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"流程：\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义类继承Analyzer类。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重写createComponents()方法；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将分词器和过滤器封装在createComponents()方法的返回值即可；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"public class MyAnalyzer extends Analyzer {\\r\\n  \\r\\n    @Override\\r\\n    public TokenStreamComponents createComponents(String fieldName) {\\r\\n    //自己的分词器\\r\\n        Tokenizer plusSignTokenizer = new PlusSignTokenizer();\\r\\n        //自带的过滤器\\r\\n        LowerCaseFilter lowerCaseFilter = new LowerCaseFilter(plusSignTokenizer);\\r\\n        return new TokenStreamComponents(plusSignTokenizer, lowerCaseFilter);\\r\\n    }\\r\\n}\\n\",\"language\":\"java\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"public class MyAnalyzer extends Analyzer {\\r\\n  \\r\\n    @Override\\r\\n    public TokenStreamComponents createComponents(String fieldName) {\\r\\n    //自己的分词器\\r\\n        Tokenizer plusSignTokenizer = new PlusSignTokenizer();\\r\\n        //自带的过滤器\\r\\n        LowerCaseFilter lowerCaseFilter = new LowerCaseFilter(plusSignTokenizer);\\r\\n        return new TokenStreamComponents(plusSignTokenizer, lowerCaseFilter);\\r\\n    }\\r\\n}\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用分析器声明FieldType\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldType name=\\\"text_custom2\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer class=\\\"cn.itcast.analyzer.MyAnalyzer\\\"></analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldType name=\\\"text_custom2\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer class=\\\"cn.itcast.analyzer.MyAnalyzer\\\"></analyzer>\\r\\n</fieldType>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"打包测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-16_144934.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"3210-solr的数据导入dataimport\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.10 Solr的数据导入（DataImport）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr后台管理系统中提供了一个功能叫DataImport,作用就是将数据库中的数据导入到索引库，简称DHI；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"DataImport如何将数据库中的数据导入到索引库呢？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询数据库中的记录；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将数据库中的一条记录转化为Document，并进行索引；\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：将以下表中数据导入到MySQL\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"sql脚本在资料中；\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"sql脚本在资料中；\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_182240.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"步骤：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"0. 准备：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建MySQL数据库和表（略）；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在schema文件中声明图书相关的业务域；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<!-- id:使用solr提供的id域；\\r\\nbook_name:使用text_ik类型，因为该域中包含中文，索引，并且存储;\\r\\nbook_price:使用pfloat类型，索引，并且存储；\\r\\nbook_pic:使用string类型，不索引，存储；\\r\\nbook_description:使用text_ik类型，索引，不存储；\\r\\nbook_num:使用pint类型，索引，并且存储； -->\\r\\n<field name=\\\"book_name\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_price\\\" type=\\\"pfloat\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_pic\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_description\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\\r\\n<field name=\\\"book_num\\\" type=\\\"pint\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<!-- id:使用solr提供的id域；\\r\\nbook_name:使用text_ik类型，因为该域中包含中文，索引，并且存储;\\r\\nbook_price:使用pfloat类型，索引，并且存储；\\r\\nbook_pic:使用string类型，不索引，存储；\\r\\nbook_description:使用text_ik类型，索引，不存储；\\r\\nbook_num:使用pint类型，索引，并且存储； -->\\r\\n<field name=\\\"book_name\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_price\\\" type=\\\"pfloat\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_pic\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\"/>\\r\\n<field name=\\\"book_description\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\\r\\n<field name=\\\"book_num\\\" type=\\\"pint\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将MySQL的mysql驱动mysql-connector-5.1.16-bin.jar复制到solr\\\\WEB-INF\\\\lib中。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查看SolrCore中的配置文件solrconfig.xml，solrconfig.xml文件主要配置了solrcore自身相关的一些参数（后面我们再给大家讲解）。作用：指定DataImport将MySQL数据导入Solr的配置文件为solr-data-config.xml；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <requestHandler name=\\\"/dataimport\\\" class=\\\"solr.DataImportHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"config\\\">solr-data-config.xml</str>\\r\\n    </lst>\\r\\n  </requestHandler>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <requestHandler name=\\\"/dataimport\\\" class=\\\"solr.DataImportHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"config\\\">solr-data-config.xml</str>\\r\\n    </lst>\\r\\n  </requestHandler>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编辑SolrCore/conf中solr-data-config.xml文件\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_183956.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <dataConfig>\\r\\n    <!-- 首先配置数据源指定数据库的连接信息 -->\\r\\n    <dataSource type=\\\"JdbcDataSource\\\" driver=\\\"com.mysql.jdbc.Driver\\\" url=\\\"jdbc:mysql://localhost:3306/lucene\\\" user=\\\"root\\\" password=\\\"root\\\" />\\r\\n    <document>\\r\\n      <!-- entity作用:数据库中字段和域名如何映射\\r\\n          name:标识，任意\\r\\n          query:执行的查询语句\\r\\n        -->\\r\\n      <entity name=\\\"book\\\" query=\\\"select * from book\\\">\\r\\n        <!-- 每一个field映射着数据库中列与文档中的域，column是数据库列，name是solr的域(必须是在managed-schema文件中配置过的域才行) -->\\r\\n        <field column=\\\"id\\\" name=\\\"id\\\" />\\r\\n        <field column=\\\"name\\\" name=\\\"book_name\\\" />\\r\\n        <field column=\\\"price\\\" name=\\\"book_price\\\" />\\r\\n        <field column=\\\"pic\\\" name=\\\"book_pic\\\" />\\r\\n        <field column=\\\"description\\\" name=\\\"book_description\\\" />\\r\\n        <field column=\\\"num\\\" name=\\\"book_num\\\" />\\r\\n      </entity>\\r\\n    </document>\\r\\n  </dataConfig>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <dataConfig>\\r\\n    <!-- 首先配置数据源指定数据库的连接信息 -->\\r\\n    <dataSource type=\\\"JdbcDataSource\\\" driver=\\\"com.mysql.jdbc.Driver\\\" url=\\\"jdbc:mysql://localhost:3306/lucene\\\" user=\\\"root\\\" password=\\\"root\\\" />\\r\\n    <document>\\r\\n      <!-- entity作用:数据库中字段和域名如何映射\\r\\n          name:标识，任意\\r\\n          query:执行的查询语句\\r\\n        -->\\r\\n      <entity name=\\\"book\\\" query=\\\"select * from book\\\">\\r\\n        <!-- 每一个field映射着数据库中列与文档中的域，column是数据库列，name是solr的域(必须是在managed-schema文件中配置过的域才行) -->\\r\\n        <field column=\\\"id\\\" name=\\\"id\\\" />\\r\\n        <field column=\\\"name\\\" name=\\\"book_name\\\" />\\r\\n        <field column=\\\"price\\\" name=\\\"book_price\\\" />\\r\\n        <field column=\\\"pic\\\" name=\\\"book_pic\\\" />\\r\\n        <field column=\\\"description\\\" name=\\\"book_description\\\" />\\r\\n        <field column=\\\"num\\\" name=\\\"book_num\\\" />\\r\\n      </entity>\\r\\n    </document>\\r\\n  </dataConfig>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用DataImport导入。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_190412.png\"},\"children\":[]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"3211-solrconfigxml\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.11 solrconfig.xml\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节在使用DataImport的时候，使用到了一个配置文件solrconfig.xml,这个配置文件是solr中常用的4个配置文件之一。但是相对schema文件，用的很少。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solrconfig.xml作用：主要配置SolrCore相关的一些信息。Lucene的版本,第三方依赖包加载路径，索引和搜索相关的配置；JMX配置，缓存配置等；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lucene的版本配置；一般和Solr版本一致；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<luceneMatchVersion>7.7.2</luceneMatchVersion>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<luceneMatchVersion>7.7.2</luceneMatchVersion>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"第三方依赖包加载路径\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<lib dir=\\\"${solr.install.dir:../../../..}/contrib/extraction/lib\\\" regex=\\\".*\\\\.jar\\\" />\\r\\n<!-- 告诉solr,第三方依赖包的位置。一般我们并不会在lib中进行设置，因为lib中的设置，只能该solrCore使用，\\r\\n其他SolrCore无法使用，一般第三方的依赖包，我们直接会放在Solr/WEB-INF/lib下。所有的solrCore共享。 -->\\r\\n<!-- solr.install.dir：SolrCore所在目录，当前配置文件属于哪个SolrCore，solr.install.dir就是那个SolrCore目录 -->\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<lib dir=\\\"${solr.install.dir:../../../..}/contrib/extraction/lib\\\" regex=\\\".*\\\\.jar\\\" />\\r\\n<!-- 告诉solr,第三方依赖包的位置。一般我们并不会在lib中进行设置，因为lib中的设置，只能该solrCore使用，\\r\\n其他SolrCore无法使用，一般第三方的依赖包，我们直接会放在Solr/WEB-INF/lib下。所有的solrCore共享。 -->\\r\\n<!-- solr.install.dir：SolrCore所在目录，当前配置文件属于哪个SolrCore，solr.install.dir就是那个SolrCore目录 -->\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"索引数据所在目录：默认位置SolrCore/data\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<dataDir>${solr.data.dir:}</dataDir>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<dataDir>${solr.data.dir:}</dataDir>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"用来配置创建索引的类\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<directoryFactory name=\\\"DirectoryFactory\\\" class=\\\"${solr.directoryFactory:solr.NRTCachingDirectoryFactory}\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<directoryFactory name=\\\"DirectoryFactory\\\" class=\\\"${solr.directoryFactory:solr.NRTCachingDirectoryFactory}\\\" />\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"用来设置Lucene倒排索引的编码工厂类，默认实现是官方提供的SchemaCodecFactory类。；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<codecFactory class=\\\"solr.SchemaCodecFactory\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<codecFactory class=\\\"solr.SchemaCodecFactory\\\"/>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":6},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"索引相关配置\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_200805.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":7},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索相关配置\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_201038.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"3212-query\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.12 Query\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"接下来我们讲解后台管理系统中Query功能，Query的主要作用是查询；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"接下来我们来讲解一下基本使用\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q:表示主查询条件，必须有.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"fq:过滤条件。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"start,rows:指定分页；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"fl:指定查询结果文档中需要的域；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"wt:查询结果的格式，JSON/XML;\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_202357.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询book_description中包含java；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询book_description中包含java并且book_name中包含lucene；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对查询的结果按照价格升序，降序。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分页查询满足条件的第一页2条数据，第二页2条数据\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"start=(页码-1) * 每页条数\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将查询结果中id域去掉；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询的结果以JSON形式返回；\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h4\",\"props\":{\"id\":\"3213-solrcore其它菜单\"},\"children\":[{\"type\":\"text\",\"value\":\"3.2.13 SolrCore其它菜单\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"overview（概览）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：包含基本统计如当前文档数，最大文档数；删除文档数，当前SolrCore配置目录；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_204229.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"files\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：对SolrCore/conf目录下文件预览\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_204405.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Ping：拼接Solr的连通性；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Plugins:Solr使用的一些插件；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Replication：集群状态查看，后面搭建完毕集群再来说；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Schema：管理Schema文件中的Field，可以查看和添加域，动态域和复制域；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_204622.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"SegmentsInfo\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"展示底层Lucence索引段，包括每个段的大小和数据条数。Solr底层是基于lucene实现的，索引数据最终是存储到SolrCore/data/index目录的索引文件中；这些索引文件有_e开始的, _0开始的....对应的就是不同的索引段。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-15_215512.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"4-solr查询\"},\"children\":[{\"type\":\"text\",\"value\":\"4. Solr查询\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"41-solr查询概述理解\"},\"children\":[{\"type\":\"text\",\"value\":\"4.1 Solr查询概述(理解)\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们先从整体上对solr查询进行认识。当用户发起一个查询的请求，这个请求会被Solr中的Request Handler所接受并处理，Request Handler是Solr中定义好的组件，专门用来处理用户查询的请求。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Request Handler相关的配置在solrconfig.xml中；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"下面就是一个请求处理器的配置\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"name:uri;\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"class:请求处理器处理请求的类；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"lst:参数设置,eg:rows每页显示的条数。wt:结果的格式\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <requestHandler name=\\\"/select\\\" class=\\\"solr.SearchHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"echoParams\\\">explicit</str>\\r\\n      <int name=\\\"rows\\\">10</int>\\r\\n      <str name=\\\"df\\\">text</str>\\r\\n      <!-- Change from JSON to XML format (the default prior to Solr 7.0)\\r\\n            <str name=\\\"wt\\\">xml</str> \\r\\n          -->\\r\\n    </lst>\\r\\n  </requestHandler>\\r\\n  <requestHandler name=\\\"/query\\\" class=\\\"solr.SearchHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"echoParams\\\">explicit</str>\\r\\n      <str name=\\\"wt\\\">json</str>\\r\\n      <str name=\\\"indent\\\">true</str>\\r\\n      <str name=\\\"df\\\">text</str>\\r\\n    </lst>\\r\\n  </requestHandler>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <requestHandler name=\\\"/select\\\" class=\\\"solr.SearchHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"echoParams\\\">explicit</str>\\r\\n      <int name=\\\"rows\\\">10</int>\\r\\n      <str name=\\\"df\\\">text</str>\\r\\n      <!-- Change from JSON to XML format (the default prior to Solr 7.0)\\r\\n            <str name=\\\"wt\\\">xml</str> \\r\\n          -->\\r\\n    </lst>\\r\\n  </requestHandler>\\r\\n  <requestHandler name=\\\"/query\\\" class=\\\"solr.SearchHandler\\\">\\r\\n    <lst name=\\\"defaults\\\">\\r\\n      <str name=\\\"echoParams\\\">explicit</str>\\r\\n      <str name=\\\"wt\\\">json</str>\\r\\n      <str name=\\\"indent\\\">true</str>\\r\\n      <str name=\\\"df\\\">text</str>\\r\\n    </lst>\\r\\n  </requestHandler>\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这是Solr底层处理查询的组件，RequestHandler,简单认识一下；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"宏观认识Solr查询的流程；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当用户输入查询的字符串eg:book_name:java,选择查询处理器/select.点击搜索；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"请求首先会到达RequestHandler。RequestHandler会将查询的字符串交由QueryParser进行解析。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"QueryParser会从索引库中搜索出相关的结果。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"ResponseWriter将最终结果响应给用户；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过这幅图大家需要明确的是，查询的本质就是基于Http协议和Solr服务进行请求和响应的一个过程。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-16_164833.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"42-相关度排序\"},\"children\":[{\"type\":\"text\",\"value\":\"4.2 相关度排序\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节我们了解完毕Solr的查询流程，接下来我们来讲解相关度排序。什么叫相关度排序呢？\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"比如查询book_description中包含java的文档。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询结果；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-16_082630.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"疑问：为什么id为40的文档再最前面？这里面就牵扯到Lucene的相关度排序；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"相关度排序是查询结果按照与查询关键字的相关性进行排序，越相关的越靠前。比如搜索“java”关键字，与该关键字最相关的文档应该排在前边。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"影响相关度排序2个要素\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Term Frequency (tf)：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"指此Term在此文档中出现了多少次。tf越大说明越重要。词(Term)在文档中出现的次数越多，说明此词(Term)对该文档越重要，如“java”这个词，在文档中出现的次数很多，说明该文档主要就是讲java技术的。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Document Frequency (df)：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"指有多少文档包含次Term。df越大说明越不重要。比如，在一篇英语文档中，this出现的次数更多，就说明越重要吗？不是的，有越多的文档包含此词(Term),说明此词(Term)太普通，不足以区分这些文档，因而重要性越低。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"相关度评分\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr底层会根据一定的算法，对文档进行一个打分。打分比较高的排名靠前，打分比较低的排名靠后。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"设置boost（权重）值影响相关度打分；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"举例：查询book_name或者book_description域中包含java的文档；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"book_name中包含java或者book_description域中包含java的文档都会被查询出来。假如我们认为book_name中包含java应该排名靠前。可以给book_name域增加权重值。book_name域中有java的文档就可以靠前。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"43-查询解析器queryparser\"},\"children\":[{\"type\":\"text\",\"value\":\"4.3 查询解析器(QueryParser)\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们在讲解查询流程的时候，我们说用户输入的查询内容，需要被查询解析器解析。所以查询解析器QueryParser作用就是对查询的内容进行解析。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr提供了多种查询解析器，为我们使用者提供了极大的灵活性及控制如何解析器查询内容。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr提供的查询解析器包含以下：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Standard Query Parser:标准查询解析器；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"DisMax Query Parser:DisMax 查询解析器；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Extends DisMax Query Parser:扩展DisMax 查询解析器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Others Query Parser:其他查询解析器\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当然Solr也运行用户自定义查询解析器。需要继承QParserPlugin类；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"默认解析器：lucene\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr默认使用的解析器是lucene，即Standard Query Parser。Standard Query Parser支持lucene原生的查询语法，并且进行增强,使你可以方便地构造结构化查询语句。当然，它还有不好的，就是容错比较差，总是把错误抛出来，而不是像dismax一样消化掉。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询解析器: disMax\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"只支持lucene查询语法的一个很小的子集：简单的短语查询、+  - 修饰符、AND OR 布尔操作；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"可以灵活设置各个查询字段的相关性权重，可以灵活增加满足某特定查询文档的相关性权重。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询解析器:edisMax\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"扩展 DisMax Query Parse 使支标准查询语法（是 Standard Query Parser 和 DisMax Query Parser 的复合）。也增加了不少参数来改进disMax。支持的语法很丰富；很好的容错能力；灵活的加权评分设置。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于不同的解析器来说，支持的查询语法和查询参数，也是不同的。我们不可能把所有解析器的查询语法和参数讲完。实际开发也用不上。我们重点讲解的是Standard Query Parser支持的语法和参数。\"}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"44-查询语法\"},\"children\":[{\"type\":\"text\",\"value\":\"4.4 查询语法\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们查询功能都是通过后台管理界面完成查询的。实际上，底层就是向Solr请求处理器发送了一个查询的请求，传递了查询的参数，下面我们要讲解的就是查询语法和参数。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-16_170250.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"地址信息\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://localhost:8080/solr/collection1/select?q=book_name:java\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_name:java\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询请求url\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://localhost:8080/solr\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"solr服务地址\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"collection1\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"solrCore\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"/select\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"请求处理器\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"?q=xxx\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询的参数\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"441-基本查询参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.4.1 基本查询参数\"}]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数名\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"描述\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"q\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询条件，必填项\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"fq\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"过滤查询\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"start\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"结果集第一条记录的偏移量，用于分页，默认值0\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"rows\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"返回文档的记录数，用于分页，默认值10\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"sort\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"排序，格式：\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/Snipaste_2023-01-10_04-42-35.png\"},\"children\":[]},{\"type\":\"text\",\"value\":\" 默认是相关性降序\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"fl\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定返回的域名，多个域名用逗号或者空格分隔，默认返回所有域\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"wt\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定响应的格式，例如xml、json等；\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询所有文档：\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询book_name域中包含java的文档\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_name:java\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_name:java\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询book_description域中包含java,book_name中包含java。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_description:java&fq=book_name:java\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_description:java&fq=book_name:java\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询第一页的2个文档\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询第一页的2个文档\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&start=0&rows=2\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&start=2&rows=2\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&start=0&rows=2\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&start=2&rows=2\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询所有文档并且按照book_num升序,降序\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+asc\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+desc\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+asc\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+desc\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询所有文档并且按照book_num降序,如果数量一样按照价格升序。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+desc,book_price+asc\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_num+desc,book_price+asc\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询所有数据文档,将id域排除\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=book_name,book_price,book_num,book_pic\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=book_name,book_price,book_num,book_pic\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于基础查询来说还有其他的一些系统级别的参数，但是一般用的较少。简单说2个。\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"描述\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数名称\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"选择哪个查询解析器对q中的参数进行解析，默认lucene，还可以使用dismax|edismax\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"defType\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"覆盖schema.xml的defaultOperator（有空格时用\\\"AND\\\"还是用\\\"OR\\\"操作逻辑）.默认为OR。\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"q.op\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认查询字段\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"df\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"（query type）指定那个类型来处理查询请求，一般不用指定，默认是standard\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"qt\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询结果是否进行缩进，开启，一般调试json,php,phps,ruby输出才有必要用这个参数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"indent\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询语法的版本，建议不使用它，由服务器指定默认值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"version\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"defType:更改Solr的查询解析器的。一旦查询解析器发生改变，支持其他的查询参数和语法。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q.op：如果我们搜索的关键字可以分出很多的词，到底是基于这些词进行与的关系还是或关系。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=book_name:java编程 搜索book_name中包含java编程关键字   \\r\\njava编程---->java 编程词。\\r\\n搜索的条件时候是book_name中不仅行包含java而且包含编程，还是只要有一个即可。\\r\\nq=book_name&q.op=AND \\r\\nq=book_name&q.op=OR\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=book_name:java编程 搜索book_name中包含java编程关键字   \\r\\njava编程---->java 编程词。\\r\\n搜索的条件时候是book_name中不仅行包含java而且包含编程，还是只要有一个即可。\\r\\nq=book_name&q.op=AND \\r\\nq=book_name&q.op=OR\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"df:指定默认搜索的域,一旦我们指定了默认搜索的域，在搜索的时候，我们可以省略域名,仅仅指定搜索的关键字\\r\\n就可以在默认域中搜索\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=java&df=book_name\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=java&df=book_name\"}]}]}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"442-组合查询\"},\"children\":[{\"type\":\"text\",\"value\":\"4.4.2 组合查询\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节我们讲解了基础查询，接下来我们讲解组合查询。在Solr中提供了运算符，通过运算符我们就可以进行组合查询。\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"运算符\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"通配符，替代任意单个字符（不能在检索的项开始使用*或者?符号）\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"*\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"通配符，替代任意多个字符（不能在检索的项开始使用*或者?符号）\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示相似度查询，如查询类似于\\\"roam\\\"的词，我们可以这样写：roam\"},{\"type\":\"element\",\"tag\":\"del\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将找到形如foam和roams的单词；roam\"}]},{\"type\":\"text\",\"value\":\"0.8，检索返回相似度在0.8以上的文档。 邻近检索，如检索相隔10个单词的\\\"apache\\\"和\\\"jakarta\\\"，\\\"jakarta apache\\\"~10\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"AND\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示且，等同于 “&&”\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"OR\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示或，等同于 “||”\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"NOT\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示否\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"()\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"用于构成子查询\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"范围查询，包含头尾\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"{}\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"范围查询，不包含头尾\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"+\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"存在运算符，表示文档中必须存在 “+” 号后的项\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"-\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"不存在运算符，表示文档中不包含 “-” 号后的项\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实例：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"?\"}]},{\"type\":\"text\",\"value\":\"查询book_name中包含c?的词。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_name:c?\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_name:c?\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"*\"}]},{\"type\":\"text\",\"value\":\"查询book_name总含spring*的词\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_name:spring*\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_name:spring*\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"text\",\"value\":\"模糊查询book_name中包含和java及和java比较像的词，相似度0.75以上\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_name:java~0.75\\r\\n# java和jave相似度就是0.75.4个字符中3个相同。\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_name:java~0.75\\r\\n# java和jave相似度就是0.75.4个字符中3个相同。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-16_210920.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"AND\"}]},{\"type\":\"text\",\"value\":\"查询book_name域中既包含servlet又包含jsp的文档；\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"方式1：使用and\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=book_name:servlet AND book_name:jsp\\r\\nq=book_name:servlet && book_name:jsp\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=book_name:servlet AND book_name:jsp\\r\\nq=book_name:servlet && book_name:jsp\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"方式2：使用+\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=+book_name:servlet +book_name:jsp\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=+book_name:servlet +book_name:jsp\"}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"OR\"}]},{\"type\":\"text\",\"value\":\"查询book_name域中既包含servlet或者包含jsp的文档；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=book_name:servlet OR book_name:jsp\\r\\nq=book_name:servlet || book_name:jsp\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=book_name:servlet OR book_name:jsp\\r\\nq=book_name:servlet || book_name:jsp\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"NOT\"}]},{\"type\":\"text\",\"value\":\"查询book_name域中包含spring，并且id不是4的文档\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"book_name:spring AND NOT id:4\\r\\n+book_name:spring  -id:4\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"book_name:spring AND NOT id:4\\r\\n+book_name:spring  -id:4\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"TO\"}]},{\"type\":\"text\",\"value\":\"范围查询\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询商品数量>=4并且<=10\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_num:[4 TO 10]\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_num:[4 TO 10]\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询商品数量>4并且<10\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_num:{4 TO 10}\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_num:{4 TO 10}\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询商品数量大于125\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=book_num:{125 TO *]\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=book_num:{125 TO *]\"}]}]}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"443-q和fq的区别\"},\"children\":[{\"type\":\"text\",\"value\":\"4.4.3 q和fq的区别\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在讲解基础查询的时候我们使用了q和fq,这2个参数从使用上比较的类似，很多使用者可能认为他们的功能相同，下面我们来阐述他们两者的区别；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"从使用上：q必须传递参数,fq可选的参数。在执行查询的时候，必须有q,而fq可以有，也可以没有；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"从功能上：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q有2项功能\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"第一项：根据用户输入的查询条件，查询符合条件的文档。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"第二项：使用相关性算法,匹配到的文档进行相关度排序。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"fq只有一项功能\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对匹配到的文档进行过滤,不会影响相关度排序,效率高；\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"演示：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询book_descrption中包含java并且book_name中包含java文档；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"单独使用q来完成；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581905637539\",\"src\":\"imgs/1581905637539.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"由于book_name条件的加入造成排序结果的改变；说明q查询符合条件的文档，也可以进行相关度排序；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用q + fq完成\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581906045538\",\"src\":\"imgs/1581906045538.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"说明fq:仅仅只会进行条件过滤，不会影响相关度排序；\"}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"444-solr返回结果和排序\"},\"children\":[{\"type\":\"text\",\"value\":\"4.4.4 Solr返回结果和排序\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"返回结果的格式\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中默认支持多种返回结果的格式。分别是XML，JSON,Ruby,Python,Binary Java,PHP,CVS等。下面是Solr支持的响应结果格式以及对应的实现类。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_130205.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于使用者来说，我们只需要指定wt参数即可；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询所有数据文档返回xml\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&wt=xml\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&wt=xml\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"返回结果文档包含的域\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过fl指定返回的文档包含哪些域。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"返回伪域。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"将返回结果中价格转化为分。product是Solr中的一个函数，表示乘法。后面我们会讲解。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=*,product(book_price,100)\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=*,product(book_price,100)\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_131447.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"域指定别名\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上面的查询我们多了一个伪域。可以为伪域起别名fen\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=*,fen:product(book_price,100)\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=*,fen:product(book_price,100)\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_132149.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"同理也可以给原有域起别名\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=name:book_name,price:book_price\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&fl=name:book_name,price:book_price\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_132318.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中我们是通过sort参数进行排序。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_price+asc&wt=json&rows=50\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=*:*&sort=book_price+asc&wt=json&rows=50\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"特殊情况：某些文档book_price域值为null,null值排在最前面还是最后面。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义域类型的时候需要指定2个属性sortMissingLast,sortMissingFirst\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"sortMissingLast=true,无论升序还是降序，null值都排在最后\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"sortMissingFirst=true,无论升序还是降序，null值都排在最前\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<fieldtype name=\\\"fieldName\\\" class=\\\"xx\\\" sortMissingLast=\\\"true\\\" sortMissingFirst=\\\"false\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<fieldtype name=\\\"fieldName\\\" class=\\\"xx\\\" sortMissingLast=\\\"true\\\" sortMissingFirst=\\\"false\\\"/>\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"45-高级查询-facet查询\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5 高级查询-facet查询\"}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"451简单介绍\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.1简单介绍\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet 是 solr 的高级搜索功能之一 , 可以给用户提供更友好的搜索体验 。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作用：可以根据用户搜索条件 ,按照指定域进行分组并统计,类似于关系型数据库中的group by分组查询；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"eg:查询title中包含手机的商品，按照品牌进行分组，并且统计数量。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"select brand,COUNT(*)from tb_item where title like '%手机%' group by brand\\n\",\"language\":\"sql\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"select brand,COUNT(*)from tb_item where title like '%手机%' group by brand\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"适合场景：在电商网站的搜索页面中，我们根据不同的关键字搜索。对应的品牌列表会跟着变化。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这个功能就可以基于Facet来实现；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_002123.png\"},\"children\":[]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_002750.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Facet比较适合的域\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一般代表了实体的某种公共属性的域 , 如商品的品牌，商品的分类 , 商品的制造厂家 , 书籍的出版商等等；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Facet域的要求\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Facet 的域必须被索引， 一般来说该域无需分词，无需存储 ,无需分词是因为该域的值代表了一个整体概念 , 如商品的品牌 ” 联想 ” 代表了一个整体概念 , 如果拆成 ” 联 ”,” 想 ” 两个字都不具有实际意义 . 另外该字段的值无需进行大小写转换等处理 , 保持其原貌即可 .无需存储是因为查询到的文档中不需要该域的数据 , 而是作为对查询结果进行分组的一种手段 , 用户一般会沿着这个分组进一步深入搜索。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"452-数据准备\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.2 数据准备\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"为了更好的学习我们后面的知识，我们将商品表数据导入到Solr索引库；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"删除图书相关的数据\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<delete>\\r\\n  <query>*:*</query>\\r\\n</delete>\\r\\n<commit />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<delete>\\r\\n  <query>*:*</query>\\r\\n</delete>\\r\\n<commit />\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建和商品相关的域\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <field name=\\\"item_title\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>   标题域\\r\\n  <field name=\\\"item_price\\\" type=\\\"pfloat\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>    价格域\\r\\n  <field name=\\\"item_images\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\"/>   图片域\\r\\n  <field name=\\\"item_createtime\\\" type=\\\"pdate\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/> 创建时间域\\r\\n  <field name=\\\"item_updatetime\\\" type=\\\"pdate\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/> 更新时间域\\r\\n  <field name=\\\"item_category\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>  商品分类域\\r\\n  <field name=\\\"item_brand\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>     品牌域\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <field name=\\\"item_title\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>   标题域\\r\\n  <field name=\\\"item_price\\\" type=\\\"pfloat\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>    价格域\\r\\n  <field name=\\\"item_images\\\" type=\\\"string\\\" indexed=\\\"false\\\" stored=\\\"true\\\"/>   图片域\\r\\n  <field name=\\\"item_createtime\\\" type=\\\"pdate\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/> 创建时间域\\r\\n  <field name=\\\"item_updatetime\\\" type=\\\"pdate\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/> 更新时间域\\r\\n  <field name=\\\"item_category\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>  商品分类域\\r\\n  <field name=\\\"item_brand\\\" type=\\\"string\\\" indexed=\\\"true\\\" stored=\\\"true\\\"/>     品牌域\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改solrcore/conf目录中solr-data-config.xml配置文件，使用DataImport进行导入；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<entity name=\\\"item\\\" query=\\\"select id,title,price,image,create_time,update_time,category,brand from tb_item\\\">\\r\\n  <field column=\\\"id\\\" name=\\\"id\\\" />\\r\\n  <field column=\\\"title\\\" name=\\\"item_title\\\" />\\r\\n  <field column=\\\"price\\\" name=\\\"item_price\\\" />\\r\\n  <field column=\\\"image\\\" name=\\\"item_images\\\" />\\r\\n  <field column=\\\"create_time\\\" name=\\\"item_createtime\\\" />\\r\\n  <field column=\\\"update_time\\\" name=\\\"item_updatetime\\\" />\\r\\n  <field column=\\\"category\\\" name=\\\"item_category\\\" />\\r\\n  <field column=\\\"brand\\\" name=\\\"item_brand\\\" />\\r\\n</entity>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<entity name=\\\"item\\\" query=\\\"select id,title,price,image,create_time,update_time,category,brand from tb_item\\\">\\r\\n  <field column=\\\"id\\\" name=\\\"id\\\" />\\r\\n  <field column=\\\"title\\\" name=\\\"item_title\\\" />\\r\\n  <field column=\\\"price\\\" name=\\\"item_price\\\" />\\r\\n  <field column=\\\"image\\\" name=\\\"item_images\\\" />\\r\\n  <field column=\\\"create_time\\\" name=\\\"item_createtime\\\" />\\r\\n  <field column=\\\"update_time\\\" name=\\\"item_updatetime\\\" />\\r\\n  <field column=\\\"category\\\" name=\\\"item_category\\\" />\\r\\n  <field column=\\\"brand\\\" name=\\\"item_brand\\\" />\\r\\n</entity>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启服务，使用DateImport导入；\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_105318.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_111434.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"453-facet查询的分类\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.3 Facet查询的分类\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet_queries:表示根据条件进行分组统计查询。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet_fields：代表根据域分组统计查询。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet_ranges：可以根据时间区间和数字区间进行分组统计查询；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet_intervals：可以根据时间区间和数字区间进行分组统计查询；\"}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"454-facet_fields\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.4 facet_fields\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：对item_title中包含手机的文档，按照品牌域进行分组，并且统计数量；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进行 Facet 查询需要在请求参数中加入 ”facet=on” 或者 ”facet=true” 只有这样 Facet 组件才起作用\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分组的字段通过在请求中加入 ”facet.field” 参数加以声明\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=item_title:手机&facet=on&facet.field=item_brand\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=item_title:手机&facet=on&facet.field=item_brand\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分组结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_113525.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果需要对多个字段进行 Facet查询 , 那么将该参数声明多次；各个分组结果互不影响eg:还想对分类进行分组统计.\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=item_title:手机&facet=on&facet.field=item_brand&facet.field=item_category\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=item_title:手机&facet=on&facet.field=item_brand&facet.field=item_category\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分组结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_113756.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"其他参数的使用。\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在facet中，还提供的其他的一些参数，可以对分组统计的结果进行优化处理；\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.prefix\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示 Facet 域值的前缀 . 比如 ”facet.field=item_brand&facet.prefix=中国”, 那么对 item_brand字段进行 Facet 查询 , 只会分组统计以中国为前缀的品牌。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.sort\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"表示 Facet 字段值以哪种顺序返回 . 可接受的值为 true|false. true表示按照 count 值从大到小排列 . false表示按照域值的自然顺序( 字母 , 数字的顺序 ) 排列 . 默认情况下为 true.\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.limit\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"限制 Facet 域值返回的结果条数 . 默认值为 100. 如果此值为负数 , 表示不限制 .\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.offset\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"返回结果集的偏移量 , 默认为 0. 它与 facet.limit 配合使用可以达到分页的效果\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.mincount\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"限制了 Facet 最小 count, 默认为 0. 合理设置该参数可以将用户的关注点集中在少数比较热门的领域 .\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.missing\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认为 ””, 如果设置为 true 或者 on, 那么将统计那些该 Facet 字段值为 null 的记录.\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.method\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"取值为 enum 或 fc, 默认为 fc. 该参数表示了两种 Facet 的算法 , 与执行效率相关 .enum 适用于域值种类较少的情况 , 比如域类型为布尔型 .fc适合于域值种类较多的情况。\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet.prefix\"}]},{\"type\":\"text\",\"value\":\" 分组统计以中国前缀的品牌\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.prefix=中国\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.prefix=中国\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_170253.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet.sort\"}]},{\"type\":\"text\",\"value\":\" 按照品牌值进行字典排序\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.sort=false\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.sort=false\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_170454.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet.limit\"}]},{\"type\":\"text\",\"value\":\" 限制分组统计的条数为10\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.limit=10\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.limit=10\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_170841.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet.offset\"}]},{\"type\":\"text\",\"value\":\"结合facet.limit对分组结果进行分页\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.offset=5\\r\\n&facet.limit=5\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.offset=5\\r\\n&facet.limit=5\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_171236.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet.mincount\"}]},{\"type\":\"text\",\"value\":\" 搜索标题中有手机的商品，并且对品牌进行分组统计查询，排除统计数量为0的品牌\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.mincount=1\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&facet=on\\r\\n&facet.field=item_brand\\r\\n&facet.mincount=1\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_171759.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"455-facet_ranges\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.5 facet_ranges\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"除了字段分组查询外，还有日期区间，数字区间分组查询。作用：将某一个时间区间(数字区间)，按照指定大小分割,统计数量；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：分组查询2015年，每一个月添加的商品数量；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"该参数表示需要进行分组的字段名 , 与 facet.field 一样 , 该参数可以被设置多次 , 表示对多个字段进行分组。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range.start\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"起始时间/数字 , 时间的一般格式为 ” 1995-12-31T23:59:59Z”, 另外可以使用 ”NOW”,”YEAR”,”MONTH” 等等 , 具体格式可以参考 org.apache.solr.schema. DateField 的 java doc.\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range.end\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"结束时间 数字\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range.gap\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"时间间隔 . 如果 start 为 2019-1-1,end 为 2020-1-1.gap 设置为 ”+1MONTH” 表示间隔1 个月 , 那么将会把这段时间划分为 12 个间隔段 . 注意 ”+” 因为是特殊字符所以应该用 ”%2B” 代替 .\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range.hardend\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"取值可以为 true|false它表示 gap 迭代到 end 处采用何种处理 . 举例说明 start 为 2019-1-1,end 为 2019-12-25,gap 为 ”+1MONTH”,hardend 为 false 的话最后一个时间段为 2009-12-1 至 2010-1-1;hardend 为 true 的话最后一个时间段为 2009-12-1 至 2009-12-25 举例start为0，end为1200，gap为500，hardend为false,最后一个数字区间\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1000,1200\"}]},{\"type\":\"text\",\"value\":\" ,hardend为true最后一个数字区间\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1000,1500\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.range.other\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"取值范围为 before|after|between|none|all, 默认为 none. before 会对 start 之前的值做统计 . after 会对 end 之后的值做统计 . between 会对 start 至 end 之间所有值做统计 . 如果 hardend 为 true 的话 , 那么该值就是各个时间段统计值的和 . none 表示该项禁用. all 表示 before,after,between都会统计.\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"facet=on&\\r\\nfacet.range=item_createtime&\\r\\nfacet.range.start=2015-01-01T00:00:00Z&\\r\\nfacet.range.end=2016-01-01T00:00:00Z&\\r\\nfacet.range.gap=%2B1MONTH\\r\\n&facet.range.other=all\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet=on&\\r\\nfacet.range=item_createtime&\\r\\nfacet.range.start=2015-01-01T00:00:00Z&\\r\\nfacet.range.end=2016-01-01T00:00:00Z&\\r\\nfacet.range.gap=%2B1MONTH\\r\\n&facet.range.other=all\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1581916975134\",\"src\":\"imgs/1581916975134.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：分组统计价格在0\"},{\"type\":\"element\",\"tag\":\"del\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1000,1000\"}]},{\"type\":\"text\",\"value\":\"2000，2000\"},{\"type\":\"element\",\"tag\":\"del\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"3000... 19000\"}]},{\"type\":\"text\",\"value\":\"20000及20000以上每个价格区间商品数量；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"facet=on&\\r\\nfacet.range=item_price&\\r\\nfacet.range.start=0&\\r\\nfacet.range.end=20000&\\r\\nfacet.range.gap=1000&\\r\\nfacet.range.hardend=true&\\r\\nfacet.range.other=all\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet=on&\\r\\nfacet.range=item_price&\\r\\nfacet.range.start=0&\\r\\nfacet.range.end=20000&\\r\\nfacet.range.gap=1000&\\r\\nfacet.range.hardend=true&\\r\\nfacet.range.other=all\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_132922.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"456-facet_queries\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.6 facet_queries\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在facet中还提供了第三种分组查询的方式facet query。提供了类似 filter query (fq)的语法可以更为灵活的对任意字段进行分组统计查询 .\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询分类是平板电视的商品数量 品牌是华为的商品数量 品牌是三星的商品数量；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"facet=on&\\r\\nfacet.query=item_category:平板电视&\\r\\nfacet.query=item_brand:华为&\\r\\nfacet.query=item_brand:三星\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet=on&\\r\\nfacet.query=item_category:平板电视&\\r\\nfacet.query=item_brand:华为&\\r\\nfacet.query=item_brand:三星\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_163534.png\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们会发现统计的结果中对应名称tem_category:平板电视和item_brand:华为，我们也可以起别名；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"facet=on&\\r\\nfacet.query={!key=平板电视}item_category:平板电视&\\r\\nfacet.query={!key=华为品牌}item_brand:华为&\\r\\nfacet.query={!key=三星品牌}item_brand:三星\\r\\n{---->%7B   }---->%7D\\r\\n这样可以让字段名统一起来，方便我们拿到请求数据后，封装成自己的对象;\\r\\n\\r\\nfacet=on&\\r\\nfacet.query=%7B!key=平板电视%7Ditem_category:平板电视&\\r\\nfacet.query=%7B!key=华为品牌%7Ditem_brand:华为&\\r\\nfacet.query=%7B!key=三星品牌%7Ditem_brand:三星\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"facet=on&\\r\\nfacet.query={!key=平板电视}item_category:平板电视&\\r\\nfacet.query={!key=华为品牌}item_brand:华为&\\r\\nfacet.query={!key=三星品牌}item_brand:三星\\r\\n{---->%7B   }---->%7D\\r\\n这样可以让字段名统一起来，方便我们拿到请求数据后，封装成自己的对象;\\r\\n\\r\\nfacet=on&\\r\\nfacet.query=%7B!key=平板电视%7Ditem_category:平板电视&\\r\\nfacet.query=%7B!key=华为品牌%7Ditem_brand:华为&\\r\\nfacet.query=%7B!key=三星品牌%7Ditem_brand:三星\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_195847.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"457-facet_interval\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.7 facet_interval\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Facet中还提供了一种分组查询方式facet_interval。功能类似于facet_ranges。facet_interval通过设置一个区间及域名，可以统计可变区间对应的文档数量；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过facet_ranges和facet_interval都可以实现范围查询功能，但是底层实现不同，性能也不同.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数：\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数名\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.interval\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"此参数指定统计查询的域。它可以在同一请求中多次使用以指示多个字段。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"facet.interval.set\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定区间。如果统计的域有多个，可以通过\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"f.<fieldname>.facet.interval.set\"}]},{\"type\":\"text\",\"value\":\"语法指定不同域的区间。区间语法 区间必须以'（' 或 '\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"' 开头，然后是逗号（'，'），最终值，最后是 ')' 或'\"}]},{\"type\":\"text\",\"value\":\"'。 例如：（1,10） - 将包含大于1且小于10的值\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1,10\"}]},{\"type\":\"text\",\"value\":\")-  将包含大于或等于1且小于10的值 \"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1,10\"}]},{\"type\":\"text\",\"value\":\" -  将包含大于等于1且小于等于10的值\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：统计item_price在\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"0-10\"}]},{\"type\":\"text\",\"value\":\"及\"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1000-2000\"}]},{\"type\":\"text\",\"value\":\"的商品数量和item_createtime在2019年~现在添加的商品数量\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.interval=item_price\\r\\n&f.item_price.facet.interval.set=[0,10]\\r\\n&f.item_price.facet.interval.set=[1000,2000]\\r\\n&facet.interval=item_createtime\\r\\n&f.item_createtime.facet.interval.set=[2019-01-01T0:0:0Z,NOW]\\r\\n由于有特殊符号需要进行URL编码[---->%5B   ]---->%5D\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&facet=on\\r\\n&facet.interval=item_price\\r\\n&f.item_price.facet.interval.set=%5B0,10%5D\\r\\n&f.item_price.facet.interval.set=%5B1000,2000%5D\\r\\n&facet.interval=item_createtime\\r\\n&f.item_createtime.facet.interval.set=%5B2019-01-01T0:0:0Z,NOW%5D\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.interval=item_price\\r\\n&f.item_price.facet.interval.set=[0,10]\\r\\n&f.item_price.facet.interval.set=[1000,2000]\\r\\n&facet.interval=item_createtime\\r\\n&f.item_createtime.facet.interval.set=[2019-01-01T0:0:0Z,NOW]\\r\\n由于有特殊符号需要进行URL编码[---->%5B   ]---->%5D\\r\\nhttp://localhost:8080/solr/collection1/select?q=*:*&facet=on\\r\\n&facet.interval=item_price\\r\\n&f.item_price.facet.interval.set=%5B0,10%5D\\r\\n&f.item_price.facet.interval.set=%5B1000,2000%5D\\r\\n&facet.interval=item_createtime\\r\\n&f.item_createtime.facet.interval.set=%5B2019-01-01T0:0:0Z,NOW%5D\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-20_191158.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"458-facet中其他的用法\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.8 facet中其他的用法\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"tag操作符和ex操作符\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"首先我们来看一下使用场景，当查询使用q或者fq指定查询条件的时候，查询条件的域刚好是facet的域；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"分组的结果就会被限制，其他的分组数据就没有意义。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&fq=item_brand:三星 \\r\\n&facet=on\\r\\n&facet.field=item_brand导致分组结果中只有三星品牌有数量，其他品牌都没有数量\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&fq=item_brand:三星 \\r\\n&facet=on\\r\\n&facet.field=item_brand导致分组结果中只有三星品牌有数量，其他品牌都没有数量\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_201921.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果想查看其他品牌手机的数量。给过滤条件定义标记，在分组统计的时候，忽略过滤条件；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询文档是2个条件，分组统计只有一个条件\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&q=item_title:手机\\r\\n&fq={!tag=brandTag}item_brand:三星   \\r\\n&facet=on\\r\\n&facet.field={!ex=brandTag}item_brand\\r\\n{---->%7B   }---->%7D\\r\\n\\r\\n&q=item_title:手机\\r\\n&fq=%7B!tag=brandTag%7Ditem_brand:三星   \\r\\n&facet=on\\r\\n&facet.field=%7B!ex=brandTag%7Ditem_brand\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"&q=item_title:手机\\r\\n&fq={!tag=brandTag}item_brand:三星   \\r\\n&facet=on\\r\\n&facet.field={!ex=brandTag}item_brand\\r\\n{---->%7B   }---->%7D\\r\\n\\r\\n&q=item_title:手机\\r\\n&fq=%7B!tag=brandTag%7Ditem_brand:三星   \\r\\n&facet=on\\r\\n&facet.field=%7B!ex=brandTag%7Ditem_brand\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试结果：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-17_202534.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"459-facetpivot\"},\"children\":[{\"type\":\"text\",\"value\":\"4.5.9 facet.pivot\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"多维度分组查询。听起来比较抽象。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"举例：统计每一个品牌和其不同分类商品对应的数量；\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"品牌\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"分类\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数量\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"华为\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"手机\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"200\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"华为\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"电脑\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"300\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"三星\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"手机\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"200\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"三星\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"电脑\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"20\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"三星\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"平板电视\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"200\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"。。。\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"。。。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这种需求就可以使用维度查询完成。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"&facet=on\\r\\n&facet.pivot=item_brand,item_category\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"&facet=on\\r\\n&facet.pivot=item_brand,item_category\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_104450.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"46-高级查询-group查询\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6  高级查询-group查询\"}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"461-group介绍和入门\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.1 group介绍和入门\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"solr group作用：将具有相同字段值的文档分组，并返回每个组的顶部文档。 Group和Facet的概念很像，都是用来分组,但是分组的结果是不同；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group查询相关参数\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"类型\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"说明\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设为true，表示结果需要分组\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.field\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"字符串\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"需要分组的字段，字段类型需要是StrField或TextField\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.func\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询语句\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"可以指定查询函数\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.query\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"查询语句\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"可以指定查询语句\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"rows\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"返回多少组结果，默认10\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"start\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定结果开始位置/偏移量\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.limit\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"每组返回多数条结果,默认1\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.offset\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定每组结果开始位置/偏移量\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"sort\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"排序算法\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"控制各个组的返回顺序\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.sort\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"排序算法\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"控制每一分组内部的顺序\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.format\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"grouped/simple\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设置为simple可以使得结果以单一列表形式返回\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.main\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设为true时，结果将主要由第一个字段的分组命令决定\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.ngroups\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设为true时，Solr将返回分组数量，默认fasle\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.truncate\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"布尔值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设为true时，facet数量将基于group分组中匹相关性高的文档，默认fasle\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"group.cache.percent\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"整数0-100\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"设为大于0时，表示缓存结果，默认为0。该项对于布尔查询，通配符查询，模糊查询有改善，却会减慢普通词查询。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询Item_title中包含手机的文档，按照品牌对文档进行分组；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.field=item_brand\\r\\ngroup分组结果和Fact分组查询的结果完全不同，他把同组的文档放在一起，显示该组文档数量，仅仅展示了第一个文档。\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.field=item_brand\\r\\ngroup分组结果和Fact分组查询的结果完全不同，他把同组的文档放在一起，显示该组文档数量，仅仅展示了第一个文档。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_112242.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"462-group参数-分页参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.2 group参数-分页参数\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节我们讲解了group的入门，接下来我们对group中的参数进行详解。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"首先我们先来观察一下入门的分组结果。只返回10个组结果。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1582000644409\",\"src\":\"imgs/1582000644409.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"rows\"}]},{\"type\":\"text\",\"value\":\"通过rows参数设置返回组的个数。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机&group=true&group.field=item_brand&rows=13\\r\\n比上面分组结果多了三个组\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机&group=true&group.field=item_brand&rows=13\\r\\n比上面分组结果多了三个组\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_124038.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过start和rows参数结合使用可以对分组结果分页；查询第一页3个分组结果\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=3\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=3\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_124530.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"除了可以对分组结果进行分页，可以对组内文档进行分页。默认情况下。只展示该组顶部文档。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：展示每组前5个文档。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=3\\r\\n&group.limit=5&group.offset=0\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=3\\r\\n&group.limit=5&group.offset=0\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_125336.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"463-group参数-排序参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.3 group参数-排序参数\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"排序参数分为分组排序和组内文档排序；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"sort\"}]},{\"type\":\"text\",\"value\":\"分组进行排序\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：按照品牌名称进行字典排序\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=5\\r\\n&group.limit=5&group.offset=0\\r\\n&sort=item_brand asc\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=5\\r\\n&group.limit=5&group.offset=0\\r\\n&sort=item_brand asc\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group.sort\"}]},{\"type\":\"text\",\"value\":\"组内文档进行排序\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：组内文档按照价格降序；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=5\\r\\n&group.limit=5&group.offset=0\\r\\n&group.sort=item_price+desc\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机&group=true&group.field=item_brand&start=0&rows=5\\r\\n&group.limit=5&group.offset=0\\r\\n&group.sort=item_price+desc\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"464-group查询结果分组\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.4 group查询结果分组\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在group中除了支持根据Field进行分组，还支持查询条件分组。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：对item_brand是华为，三星，TCL的三个品牌,分组展示对应的文档信息。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.query=item_brand:华为\\r\\n&group.query=item_brand:三星\\r\\n&group.query=item_brand:TCL\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.query=item_brand:华为\\r\\n&group.query=item_brand:三星\\r\\n&group.query=item_brand:TCL\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_140314.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"465-group-函数分组了解\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.5 group 函数分组（了解）\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在group查询中除了支持Field分组，Query分组。还支持函数分组。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"按照价格范围对商品进行分组。0\"},{\"type\":\"element\",\"tag\":\"del\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1000属于第1组，1000\"}]},{\"type\":\"text\",\"value\":\"2000属于第二组，否则属于第3组。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=*:*&\\r\\ngroup=true&\\r\\ngroup.func=map(item_price,0,1000,1,map(item_price,1000,2000,2,3))\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=*:*&\\r\\ngroup=true&\\r\\ngroup.func=map(item_price,0,1000,1,map(item_price,1000,2000,2,3))\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"map(x,10,100,1,2) 在函数参数中的x如果落在[10,100)之间，则将x的值映射为1，否则将其值映射为2\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"map(x,10,100,1,2) 在函数参数中的x如果落在[10,100)之间，则将x的值映射为1，否则将其值映射为2\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_095224.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"467-group其他参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.6.7 group其他参数\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group.ngroups:是否统计组数量\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.field=item_brand\\r\\n&group.ngroups=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&group=true\\r\\n&group.field=item_brand\\r\\n&group.ngroups=true\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group.cache.percent\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr Group查询相比Solr的标准查询来说，速度相对要慢很多。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"可以通过group.cache.percent参数来开启group查询缓存。该参数默认值为0.可以设置为0-100之间的数字\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"该值设置的越大，越占用系统内存。对于布尔类型等分组查询。效果比较明显。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group.main\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"获取每一个分组中相关度最高的文档即顶层文档，构成一个文档列表。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&group.field=item_brand\\r\\n&group=true\\r\\n&group.main=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&group.field=item_brand\\r\\n&group=true\\r\\n&group.main=true\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"group.truncate(了解)\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"按照品牌分组展示相关的商品；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=*:*&group=true&group.field=item_brand\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=*:*&group=true&group.field=item_brand\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在次基础上使用facet，按照分类分组统计；统计的结果，基于q中的条件进行的facet分组。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=*：*&group=true&group.field=item_brand\\r\\n&facet=true\\r\\n&facet.field=item_category\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=*：*&group=true&group.field=item_brand\\r\\n&facet=true\\r\\n&facet.field=item_category\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果我们想基于每个分组中匹配度高的文档进行Facet分组统计\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=*:*&group=true&group.field=item_brand\\r\\n&facet=true\\r\\n&facet.field=item_category\\r\\n&group.truncate=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=*:*&group=true&group.field=item_brand\\r\\n&facet=true\\r\\n&facet.field=item_category\\r\\n&group.truncate=true\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"47-高级查询-高亮查询\"},\"children\":[{\"type\":\"text\",\"value\":\"4.7  高级查询-高亮查询\"}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"471-高亮的概述\"},\"children\":[{\"type\":\"text\",\"value\":\"4.7.1 高亮的概述\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"高亮显示是指根据关键字搜索文档的时候，显示的页面对关键字给定了特殊样式， 让它显示更加突出，如下面商品搜索中，关键字变成了红色，其实就是给定了红色样 ；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_194149.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"高亮的本质，是对域中包含关键字前后加标签\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-18_194449.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"472-solr高亮分类和高亮基本使用\"},\"children\":[{\"type\":\"text\",\"value\":\"4.7.2 Solr高亮分类和高亮基本使用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"上一节我们简单阐述了什么是高亮，接下来我们来讲解Solr中高亮的实现方案；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Solr中提供了常用的3种高亮的组件（Highlighter）也称为高亮器，来支持高亮查询。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Unified Highlighter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Unified Highlighter是最新的Highlighter（从Solr6.4开始），它是最性能最突出和最精确的选择。它可以通过插件/扩展来处理特定的需求和其他需求。官方建议使用该Highlighter，即使它不是默认值。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Original Highlighter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Original Highlighter，有时被称为\\\"Standard Highlighter\\\" or \\\"Default Highlighter\\\"，是Solr最初的Highlighter，提供了一些定制选项，曾经一度被选择。它的查询精度足以满足大多数需求，尽管它不如统一的Highlighter完美；\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"FastVector Highlighter\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"FastVector Highlighter特别支持多色高亮显示，一个域中不同的词采用不同的html标签作为前后缀。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Highlighter公共的一些参数，先来认识一下其中重要的一些参数；\"},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"描述\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"通过此参数值用来开启或者禁用高亮.默认值是false.如果你想使用高亮，必须设置成true\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.method\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"unified|original|fastVector\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"使用哪种哪种高亮组件. 接收的值有: \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"unified\"}]},{\"type\":\"text\",\"value\":\", \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"original\"}]},{\"type\":\"text\",\"value\":\", \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"fastVector\"}]},{\"type\":\"text\",\"value\":\". 默认值是 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"original\"}]},{\"type\":\"text\",\"value\":\".\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.fl\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"filed1,filed2...\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定高亮字段列表.多个字段之间以逗号或空格分开.表示那个字段要参与高亮。默认值为空字符串。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.q\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"item_title:三星\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"高亮查询条件，此参数运行高亮的查询条件和q中的查询条件不同。如果你设置了它, 你需要设置 \"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.qparser\"}]},{\"type\":\"text\",\"value\":\".默认值和q中的查询条件一致\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.tag.pre\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<em>\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"高亮词开头添加的标签，可以是任意字符串，一般设置为HTML标签，默认值为\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<em>\"}]},{\"type\":\"text\",\"value\":\".对于Original Highlighter需要指定hl.simple.pre\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.tag.post\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"</em>\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"高亮词后面添加的标签，可以是任意字符串，一般设置为HTML标签，默认值\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"</em>\"}]},{\"type\":\"text\",\"value\":\".对于Original Highlighter需要指定hl.simple.post\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.qparser\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"lucene|dismax|edismax\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"用于hl.q查询的查询解析器。仅当hl.q设置时适用。默认值是defType参数的值，而defType参数又默认为lucene。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.requireFieldMatch\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认为fasle. 如果置为true，除非该字段的查询结果不为空才会被高亮。它的默认值是false，意味 着它可能匹配某个字段却高亮一个不同的字段。如果hl.fl使用了通配符，那么就要启用该参数\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.usePhraseHighlighter\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认true．如果一个查询中含有短语（引号框起来的）那么会保证一定要完全匹配短语的才会被高亮\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.highlightMultiTerm\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认true.如果设置为true,solr将会高亮出现在多terms查询中的短语。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.snippets\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认为1.指定每个字段生成的高亮字段的最大数量.\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.fragsize\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"每个snippet返回的最大字符数。默认是100.如果为0，那么该字段不会被fragmented且整个字段的值会被返回\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.encoder\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"html\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"如果为空（默认值），则存储的文本将返回，而不使用highlighter执行任何转义/编码。如果设置为html，则将对特殊的html/XML字符进行编码；\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.maxAnalyzedChars\"}]}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认10000. 搜索高亮的最大字符,对一个大字段使用一个复杂的正则表达式是非常昂贵的。\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"高亮的入门案例：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询item_title中包含手机的文档，并且对item_title中的手机关键字进行高亮；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_102857.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"473-solr高亮中其他的参数介绍\"},\"children\":[{\"type\":\"text\",\"value\":\"4.7.3 Solr高亮中其他的参数介绍\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.fl\"}]},{\"type\":\"text\",\"value\":\"指定高亮的域，表示哪些域要参于高亮；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询Item_title:手机的文档， Item_title,item_category为高亮域\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果中item_title手机产生了高亮，item_category中手机也产生了高亮.\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_162842.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这种高亮肯对我们来说是不合理的。可以使用hl.requireFieldMatch参数解决。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.requireFieldMatch\"}]},{\"type\":\"text\",\"value\":\"只有符合对应查询条件的域中参数才进行高亮；只有item_title手机才会高亮。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.requireFieldMatch=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:手机\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.requireFieldMatch=true\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_163021.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.q\"}]},{\"type\":\"text\",\"value\":\" 默认情况下高亮是基于q中的条件参数。  使用fl.q让高亮的条件参数和q的条件参数不一致。比较少见。但是solr提供了这种功能。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询Item_tile中包含三星的文档，对item_category为手机的进行高亮；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:三星\\r\\n&hl=true\\r\\n&hl.q=item_category:手机\\r\\n&hl.fl=item_category\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:三星\\r\\n&hl=true\\r\\n&hl.q=item_category:手机\\r\\n&hl.fl=item_category\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_105634.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.highlightMultiTerm\"}]},{\"type\":\"text\",\"value\":\"默认为true，如果为true，Solr将对通配符查询进行高亮。如果为false，则根本不会高亮显示它们。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:micro* OR item_title:panda\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:micro* OR item_title:panda\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_224730.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对应基于通配符查询的结果不进行高亮；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:micro* OR item_title:panda\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\\r\\n&hl.highlightMultiTerm=false\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:micro* OR item_title:panda\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<em>\\r\\n&hl.simple.post=</em>\\r\\n&hl.highlightMultiTerm=false\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.usePhraseHighlighter\"}]},{\"type\":\"text\",\"value\":\"为true时，将来我们基于短语进行搜索的时候，短语做为一个整体被高亮。为false时，短语中的每个单词都会被单独高亮。在Solr中短语需要用引号引起来；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:\\\"老人手机\\\"\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:\\\"老人手机\\\"\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_211655.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"关闭hl.usePhraseHighlighter=false;\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:\\\"老人手机\\\"\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.usePhraseHighlighter=false;\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:\\\"老人手机\\\"\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.usePhraseHighlighter=false;\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-22_211733.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"474-highlighter的切换\"},\"children\":[{\"type\":\"text\",\"value\":\"4.7.4 Highlighter的切换\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"之前我们已经讲解完毕Highlighter中的通用参数，所有Highlighter都有的。接下来我们要讲解的是Highlighter的切换和特有参数。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如何切换到unified (\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"hl.method=unified\"}]},{\"type\":\"text\",\"value\":\"),切换完毕后，其实我们是看不出他和original有什么区别。因为unified Highlighter比original Highlighter只是性能提高。精确度提高。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"区别不是很大，unified 相比original 的粒度更细；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:三星平板电视\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.method=unified\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:三星平板电视\\r\\n&hl=true\\r\\n&hl.fl=item_title\\r\\n&hl.simple.pre=<font>\\r\\n&hl.simple.post=</font>\\r\\n&hl.method=unified\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_191319.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如何切换到fastVector\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"优势：使用fastVector最大的好处，就是可以为域中不同的词使用不同的颜色，第一个词使用黄色，第二个使用红色。而且fastVector和orignal可以混合使用，不同的域使用不同的Highlighter；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用fastVector的要求：使用FastVector Highlighter需要在高亮域上设置三个属性（termVectors、termPositions和termOffset）；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：查询item_title中包含三星平板电视，item_category是平板电视的文档。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"item_title中的高亮词要显示不同的颜色。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_title\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\" termVectors=\\\"true\\\" termPositions=\\\"true\\\" termOffsets=\\\"true\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_title\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"true\\\" termVectors=\\\"true\\\" termPositions=\\\"true\\\" termOffsets=\\\"true\\\" />\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<!-- 重启Solr,重写生成索引； -->\\r\\n<delete>\\r\\n<query>*:*</query>\\r\\n</delete>\\r\\n<commit/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<!-- 重启Solr,重写生成索引； -->\\r\\n<delete>\\r\\n<query>*:*</query>\\r\\n</delete>\\r\\n<commit/>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改solrcofig.xml配置文件指定fastVector高亮器的前后缀\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<!-- 官方给的一个例子 -->\\r\\n<fragmentsBuilder name=\\\"colored\\\" class=\\\"solr.highlight.ScoreOrderFragmentsBuilder\\\">\\r\\n  <lst name=\\\"defaults\\\">\\r\\n    <str name=\\\"hl.tag.pre\\\">\\r\\n      <![CDATA[\\r\\n      <b style=\\\"background:yellow\\\">,<b style=\\\"background:lawgreen\\\">,\\r\\n      <b style=\\\"background:aquamarine\\\">,<b style=\\\"background:magenta\\\">,\\r\\n      <b style=\\\"background:palegreen\\\">,<b style=\\\"background:coral\\\">,\\r\\n      <b style=\\\"background:wheat\\\">,<b style=\\\"background:khaki\\\">,\\r\\n      <b style=\\\"background:lime\\\">,<b style=\\\"background:deepskyblue\\\">]]>\\r\\n    </str>\\r\\n    <str name=\\\"hl.tag.post\\\">\\r\\n      <![CDATA[</b>]]>\\r\\n    </str>\\r\\n  </lst>\\r\\n</fragmentsBuilder>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<!-- 官方给的一个例子 -->\\r\\n<fragmentsBuilder name=\\\"colored\\\" class=\\\"solr.highlight.ScoreOrderFragmentsBuilder\\\">\\r\\n  <lst name=\\\"defaults\\\">\\r\\n    <str name=\\\"hl.tag.pre\\\">\\r\\n      <![CDATA[\\r\\n      <b style=\\\"background:yellow\\\">,<b style=\\\"background:lawgreen\\\">,\\r\\n      <b style=\\\"background:aquamarine\\\">,<b style=\\\"background:magenta\\\">,\\r\\n      <b style=\\\"background:palegreen\\\">,<b style=\\\"background:coral\\\">,\\r\\n      <b style=\\\"background:wheat\\\">,<b style=\\\"background:khaki\\\">,\\r\\n      <b style=\\\"background:lime\\\">,<b style=\\\"background:deepskyblue\\\">]]>\\r\\n    </str>\\r\\n    <str name=\\\"hl.tag.post\\\">\\r\\n      <![CDATA[</b>]]>\\r\\n    </str>\\r\\n  </lst>\\r\\n</fragmentsBuilder>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需要请求处理器中配置使用colored这一套fastVector的前后缀；\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<str name=\\\"hl.fragmentsBuilder\\\">colored</str>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<str name=\\\"hl.fragmentsBuilder\\\">colored</str>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:三星平板电视 AND item_category:平板电视\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.method=original\\r\\n&f.item_title.hl.method=fastVector\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:三星平板电视 AND item_category:平板电视\\r\\n&hl=true\\r\\n&hl.fl=item_title,item_category\\r\\n&hl.method=original\\r\\n&f.item_title.hl.method=fastVector\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-19_215803.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"到这关于Highlighter的切换我们就讲解完毕了。不同的Highlighter也有自己特有的参数，这些参数大多是性能参数。大家可以参考官方文档。\\r\\n\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/highlighting.html#the-fastvector-highlighter\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/highlighting.html#the-fastvector-highlighter\"}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"48-solr-query-suggest\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8  Solr Query Suggest\"}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"481-solr-query-suggest简介\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.1 Solr Query Suggest简介\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Solr从1.4开始便提供了Query Suggest，Query Suggest目前是各大搜索应用的标配，主要作用是避免用户输入错误的搜索词，同时将用户引导到相应的关键词上进行搜索。Solr内置了Query Suggest的功能，它在Solr里叫做Suggest模块. 使用该模块.我们通常可以实现2种功能。拼写检查(Spell-Checking)，再一个就是自动建议(AutoSuggest)。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"什么是拼写检查(Spell-Checking)\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"比如说用户搜索的是sorl,搜索应用可能会提示你，你是不是想搜索solr.百度就有这个功能。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_095627.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这就是拼写检查(Spell Checking)的功能。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"什么又是自动建议(AutoSuggest)\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"AutoSuggest是指用户在搜索的时候，给用户一些提示建议，可以帮助用户快速构建自己的查询。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"比如我们搜索java.\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-26_170949.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"482-spell-checking的使用\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.2 Spell-Checking的使用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要想使用Spell-Checking首先要做的事情，就是在SolrConfig.xml文件中配置SpellCheckComponent；并且要指定拼接检查器，Solr一共提供了4种拼写检查器IndexBasedSpellChecker，DirectSolrSpellChecker,FileBasedSpellChecker和WordBreakSolrSpellChecker。这4种拼写检查的组件，我们通常使用的都是第二种。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"IndexBasedSpellChecker（了解）\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"IndexBasedSpellChecker 使用 Solr 索引作为拼写检查的基础。它要求定义一个域作为拼接检查term的基础域。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：对item_title域,item_brand域,item_category域进行拼接检查。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义一个域作为拼接检查term 的基础域item_title_spell，将item_title，item_brand，item_category域复制到item_title_spell；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"item_title_spell\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"false\\\" multiValued=\\\"true\\\" />\\r\\n<copyField source=\\\"item_title\\\" dest=\\\"item_title_spell\\\" />\\r\\n<copyField source=\\\"item_brand\\\" dest=\\\"item_title_spell\\\" />\\r\\n<copyField source=\\\"item_category\\\" dest=\\\"item_title_spell\\\" />\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"item_title_spell\\\" type=\\\"text_ik\\\" indexed=\\\"true\\\" stored=\\\"false\\\" multiValued=\\\"true\\\" />\\r\\n<copyField source=\\\"item_title\\\" dest=\\\"item_title_spell\\\" />\\r\\n<copyField source=\\\"item_brand\\\" dest=\\\"item_title_spell\\\" />\\r\\n<copyField source=\\\"item_category\\\" dest=\\\"item_title_spell\\\" />\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在SolrConfig.xml中配置IndexBasedSpellChecker作为拼写检查的组件\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<searchComponent name=\\\"indexspellcheck\\\" class=\\\"solr.SpellCheckComponent\\\">\\r\\n  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"classname\\\">solr.IndexBasedSpellChecker</str> <!--组件的实现类-->\\r\\n    <str name=\\\"spellcheckIndexDir\\\">./spellchecker</str> <!--拼写检查索引生成目录-->\\r\\n    <str name=\\\"field\\\">item_title_spell</str> <!--拼写检查的域-->\\r\\n    <str name=\\\"buildOnCommit\\\">true</str><!--是否每次提交文档的时候，都生成拼写检查的索引-->\\r\\n    <!-- optional elements with defaults\\r\\n    <str name=\\\"distanceMeasure\\\">org.apache.lucene.search.spell.LevensteinDistance</str>\\r\\n    <str name=\\\"accuracy\\\">0.5</str>\\r\\n    -->\\r\\n</lst>\\r\\n</searchComponent>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<searchComponent name=\\\"indexspellcheck\\\" class=\\\"solr.SpellCheckComponent\\\">\\r\\n  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"classname\\\">solr.IndexBasedSpellChecker</str> <!--组件的实现类-->\\r\\n    <str name=\\\"spellcheckIndexDir\\\">./spellchecker</str> <!--拼写检查索引生成目录-->\\r\\n    <str name=\\\"field\\\">item_title_spell</str> <!--拼写检查的域-->\\r\\n    <str name=\\\"buildOnCommit\\\">true</str><!--是否每次提交文档的时候，都生成拼写检查的索引-->\\r\\n    <!-- optional elements with defaults\\r\\n    <str name=\\\"distanceMeasure\\\">org.apache.lucene.search.spell.LevensteinDistance</str>\\r\\n    <str name=\\\"accuracy\\\">0.5</str>\\r\\n    -->\\r\\n</lst>\\r\\n</searchComponent>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在请求处理器中配置拼写检查的组件；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>indexspellcheck</str>\\r\\n</arr>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>indexspellcheck</str>\\r\\n</arr>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"q=item_title:meta\\r\\n&spellcheck=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"q=item_title:meta\\r\\n&spellcheck=true\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_113946.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"DirectSolrSpellChecker\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：基于item_title域,item_brand域,item_category域进行搜索的时候，需要进行拼接检查。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用流程：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"首先要定义一个词典域，拼写检查是需要根据错误词--->正确的词，正确的词构成的域；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"由于我们在进行拼写检查的时候，可能会有中文，所以需要首先创建一个词典域的域类型。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<!-- 说明 这里spell 单独定义一个类型 是为了屏蔽搜索分词对中文拼写检测的影响,分词后查询结果过多不会给出建议词 -->\\r\\n<fieldType name=\\\"spell_text_ik\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\" class=\\\"org.wltea.analyzer.lucene.IKAnalyzer\\\" />\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.WhitespaceTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<!-- 说明 这里spell 单独定义一个类型 是为了屏蔽搜索分词对中文拼写检测的影响,分词后查询结果过多不会给出建议词 -->\\r\\n<fieldType name=\\\"spell_text_ik\\\" class=\\\"solr.TextField\\\">\\r\\n  <analyzer type=\\\"index\\\" class=\\\"org.wltea.analyzer.lucene.IKAnalyzer\\\" />\\r\\n  <analyzer type=\\\"query\\\">\\r\\n    <tokenizer class=\\\"solr.WhitespaceTokenizerFactory\\\" />\\r\\n  </analyzer>\\r\\n</fieldType>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"定义一个词典的域，将需要进行拼写检查的域复制到该域；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<field name=\\\"spell\\\" type=\\\"spell_text_ik\\\" multiValued=\\\"true\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\\r\\n<copyField source=\\\"item_title\\\" dest=\\\"spell\\\"/>\\r\\n<copyField source=\\\"item_brand\\\" dest=\\\"spell\\\"/>\\r\\n<copyField source=\\\"item_category\\\" dest=\\\"spell\\\"/>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<field name=\\\"spell\\\" type=\\\"spell_text_ik\\\" multiValued=\\\"true\\\" indexed=\\\"true\\\" stored=\\\"false\\\"/>\\r\\n<copyField source=\\\"item_title\\\" dest=\\\"spell\\\"/>\\r\\n<copyField source=\\\"item_brand\\\" dest=\\\"spell\\\"/>\\r\\n<copyField source=\\\"item_category\\\" dest=\\\"spell\\\"/>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改SolrConfig.xml中的配置文件中的拼写检查器组件。指定拼写词典域的类型，词典域\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_122824.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在Request Handler中配置拼写检查组件\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>spellcheck</str>\\r\\n</arr>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>spellcheck</str>\\r\\n</arr>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启，重新创建索引。\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试，spellcheck=true参数表示是否开启拼写检查，搜索内容一定大于等于4个字符。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=item_title:iphono&spellcheck=true\\r\\nhttp://localhost:8080/solr/collection1/select?q=item_title:galax&spellcheck=true\\r\\nhttp://localhost:8080/solr/collection1/select?q=item_brand:中国移走&spellcheck=true\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=item_title:iphono&spellcheck=true\\r\\nhttp://localhost:8080/solr/collection1/select?q=item_title:galax&spellcheck=true\\r\\nhttp://localhost:8080/solr/collection1/select?q=item_brand:中国移走&spellcheck=true\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_130320.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"FileBasedSpellChecker\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用外部文件作为拼写检查字的词典，基于词典中的词进行拼写检查。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在solrconfig.xml中配置拼写检查的组件。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<searchComponent name=\\\"fileChecker\\\" class=\\\"solr.SpellCheckComponent\\\">\\r\\n  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"classname\\\">solr.FileBasedSpellChecker</str>\\r\\n    <str name=\\\"name\\\">fileChecker</str>\\r\\n    <str name=\\\"sourceLocation\\\">spellings.txt</str>\\r\\n    <str name=\\\"characterEncoding\\\">UTF-8</str>\\r\\n    <!-- optional elements with defaults-->\\r\\n    <str name=\\\"distanceMeasure\\\">org.apache.lucene.search.spell.LevensteinDistance</str>\\r\\n\\r\\n    <!--精确度，介于0和1之间的值。值越大，匹配的结果数越少。假设对 helle进行拼写检查，\\r\\n        如果此值设置够小的话，\\\" hellcat\\\"，\\\"hello\\\"都会被认为是\\\"helle\\\"的正确的拼写。如果此值设置够大，则\\\"hello\\\"会被认为是正确的拼写 -->\\r\\n    <str name=\\\"accuracy\\\">0.5</str>\\r\\n\\r\\n    <!--表示最多有几个字母变动。比如：对\\\"manag\\\"进行拼写检查，则会找到\\\"manager\\\"做为正确的拼写检查；如果对\\\"mana\\\"进行拼写检查，因为\\\"mana\\\"到\\\"manager\\\"，需有3个字母的变动，所以\\\"manager\\\"会被遗弃  -->\\r\\n    <int name=\\\"maxEdits\\\">2</int>\\r\\n\\r\\n    <!-- 最小的前辍数。如设置为1，意思是指第一个字母不能错。比如：输入\\\"cinner\\\",虽然和\\\"dinner\\\"只有一个字母的编辑距离，但是变动的是第一个字母，所以\\\"dinner\\\"不是\\\"cinner\\\"的正确拼写 -->\\r\\n    <int name=\\\"minPrefix\\\">1</int>\\r\\n    <!-- 进行拼写检查所需要的最小的字符数。此处设置为4，表示如果只输入了3个以下字符，则不会进行拼写检查(3个以下的字符用户基本) -->\\r\\n    <int name=\\\"minQueryLength\\\">4</int>\\r\\n\\r\\n\\r\\n    <!-- 被推荐的词在文档中出现的最小频率。整数表示在文档中出现的次数，百分比数表示有百分之多少的文档出现了该推荐词-->\\r\\n    <float name=\\\"maxQueryFrequency\\\">0.01</float>\\r\\n  </lst>\\r\\n</searchComponent>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<searchComponent name=\\\"fileChecker\\\" class=\\\"solr.SpellCheckComponent\\\">\\r\\n  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"classname\\\">solr.FileBasedSpellChecker</str>\\r\\n    <str name=\\\"name\\\">fileChecker</str>\\r\\n    <str name=\\\"sourceLocation\\\">spellings.txt</str>\\r\\n    <str name=\\\"characterEncoding\\\">UTF-8</str>\\r\\n    <!-- optional elements with defaults-->\\r\\n    <str name=\\\"distanceMeasure\\\">org.apache.lucene.search.spell.LevensteinDistance</str>\\r\\n\\r\\n    <!--精确度，介于0和1之间的值。值越大，匹配的结果数越少。假设对 helle进行拼写检查，\\r\\n        如果此值设置够小的话，\\\" hellcat\\\"，\\\"hello\\\"都会被认为是\\\"helle\\\"的正确的拼写。如果此值设置够大，则\\\"hello\\\"会被认为是正确的拼写 -->\\r\\n    <str name=\\\"accuracy\\\">0.5</str>\\r\\n\\r\\n    <!--表示最多有几个字母变动。比如：对\\\"manag\\\"进行拼写检查，则会找到\\\"manager\\\"做为正确的拼写检查；如果对\\\"mana\\\"进行拼写检查，因为\\\"mana\\\"到\\\"manager\\\"，需有3个字母的变动，所以\\\"manager\\\"会被遗弃  -->\\r\\n    <int name=\\\"maxEdits\\\">2</int>\\r\\n\\r\\n    <!-- 最小的前辍数。如设置为1，意思是指第一个字母不能错。比如：输入\\\"cinner\\\",虽然和\\\"dinner\\\"只有一个字母的编辑距离，但是变动的是第一个字母，所以\\\"dinner\\\"不是\\\"cinner\\\"的正确拼写 -->\\r\\n    <int name=\\\"minPrefix\\\">1</int>\\r\\n    <!-- 进行拼写检查所需要的最小的字符数。此处设置为4，表示如果只输入了3个以下字符，则不会进行拼写检查(3个以下的字符用户基本) -->\\r\\n    <int name=\\\"minQueryLength\\\">4</int>\\r\\n\\r\\n\\r\\n    <!-- 被推荐的词在文档中出现的最小频率。整数表示在文档中出现的次数，百分比数表示有百分之多少的文档出现了该推荐词-->\\r\\n    <float name=\\\"maxQueryFrequency\\\">0.01</float>\\r\\n  </lst>\\r\\n</searchComponent>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在SolrCore/conf目录下，创建一个拼写检查词典文件，该文件已经存在。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_130104.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"加入拼写检查的词；\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"pizza\\r\\nhistory\\r\\n传智播客\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pizza\\r\\nhistory\\r\\n传智播客\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在请求处理器中配置拼写检查组件\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>fileChecker</str>\\r\\n</arr>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<arr name=\\\"last-components\\\">\\r\\n  <str>fileChecker</str>\\r\\n</arr>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=item_title:pizzaaa&spellcheck=true&spellcheck.dictionary=fileChecker&spellcheck.build=true\"}]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-02-20_134547.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"WordBreakSolrSpellChecker\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"WordBreakSolrSpellChecker可以通过组合相邻的查询词/或将查询词分解成多个词来提供建议。是对SpellCheckComponent增强，通常WordBreakSolrSpellChecker拼写检查器可以配合一个传统的检查器（即：DirectSolrSpellChecker）。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"name\\\">wordbreak</str>\\r\\n    <str name=\\\"classname\\\">solr.WordBreakSolrSpellChecker</str>\\r\\n    <str name=\\\"field\\\">sepll</str>\\r\\n    <str name=\\\"combineWords\\\">true</str>\\r\\n    <str name=\\\"breakWords\\\">true</str>\\r\\n    <int name=\\\"maxChanges\\\">10</int>\\r\\n  </lst>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"  <lst name=\\\"spellchecker\\\">\\r\\n    <str name=\\\"name\\\">wordbreak</str>\\r\\n    <str name=\\\"classname\\\">solr.WordBreakSolrSpellChecker</str>\\r\\n    <str name=\\\"field\\\">sepll</str>\\r\\n    <str name=\\\"combineWords\\\">true</str>\\r\\n    <str name=\\\"breakWords\\\">true</str>\\r\\n    <int name=\\\"maxChanges\\\">10</int>\\r\\n  </lst>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=item_title:iphone&spellcheck=true&spellcheck.dictionary=default&spellcheck.dictionary=wordbreak\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"483-拼写检查相关的参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.3 拼写检查相关的参数\"}]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"描述\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"spellcheck\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true | false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"此参数为请求打开拼写检查建议。如果\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"true\"}]},{\"type\":\"text\",\"value\":\"，则会生成拼写建议。如果需要拼写检查，则这是必需的。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"spellcheck.build\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true | false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"如果设置为\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"true\"}]},{\"type\":\"text\",\"value\":\"，则此参数将创建用于拼写检查的字典。在典型的搜索应用程序中，您需要在使用拼写检查之前构建字典。但是，并不总是需要先建立一个字典。例如，您可以将拼写检查器配置为使用已存在的字典。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"spellcheck.count\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"此参数指定拼写检查器应为某个术语返回的最大建议数。如果未设置此参数，则该值默认为\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"1\"}]},{\"type\":\"text\",\"value\":\"。如果参数已设置但未分配一个数字，则该值默认为\"},{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"5\"}]},{\"type\":\"text\",\"value\":\"。如果参数设置为正整数，则该数字将成为拼写检查程序返回的建议的最大数量。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"spellcheck.dictionary\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定要使用的拼写检查器\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认值defualt\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"其他参数参考\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/spell-checking.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/spell-checking.html\"}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"484-autosuggest-入门\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.4 AutoSuggest 入门\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"AutoSuggest 是搜索应用一个方便的功能，对用户输入的关键字进行预测和建议，减少了用户的输入。首先我们先来讲解一下suggest的入门流程；\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在solrconfig.xml中配置suggsetComponent,并且要在组件中配置自动建议器,配置文件已经配置过。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<searchComponent name=\\\"suggest\\\" class=\\\"solr.SuggestComponent\\\">\\r\\n  <lst name=\\\"suggester\\\">\\r\\n    <str name=\\\"name\\\">mySuggester</str> 自动建议器名称，需要在查询的时候指定\\r\\n    <str name=\\\"lookupImpl\\\">FuzzyLookupFactory</str>  查找器工厂类，确定如何从字典索引中查找词\\r\\n    <str name=\\\"dictionaryImpl\\\">DocumentDictionaryFactory</str>决定如何将词存入到索引。\\r\\n    <str name=\\\"field\\\">item_title</str>  词典域。一般指定查询的域/或者复制域。\\r\\n    <str name=\\\"weightField\\\">item_price</str>   \\r\\n    <str name=\\\"suggestAnalyzerFieldType\\\">text_ik</str>\\r\\n  </lst>\\r\\n</searchComponent>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<searchComponent name=\\\"suggest\\\" class=\\\"solr.SuggestComponent\\\">\\r\\n  <lst name=\\\"suggester\\\">\\r\\n    <str name=\\\"name\\\">mySuggester</str> 自动建议器名称，需要在查询的时候指定\\r\\n    <str name=\\\"lookupImpl\\\">FuzzyLookupFactory</str>  查找器工厂类，确定如何从字典索引中查找词\\r\\n    <str name=\\\"dictionaryImpl\\\">DocumentDictionaryFactory</str>决定如何将词存入到索引。\\r\\n    <str name=\\\"field\\\">item_title</str>  词典域。一般指定查询的域/或者复制域。\\r\\n    <str name=\\\"weightField\\\">item_price</str>   \\r\\n    <str name=\\\"suggestAnalyzerFieldType\\\">text_ik</str>\\r\\n  </lst>\\r\\n</searchComponent>\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"修改组件参数\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在请求处理器中配置suggest组件，sugges名称要和SearchComponent的name一致。\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<arr name=\\\"components\\\">\\r\\n  <str>suggest</str>\\r\\n</arr>\\r\\n<!-- 补充：在solrConfig.xml中已经定义了一个请求处理器,并且已经配置了查询建议组件 -->\\r\\n<requestHandler name=\\\"/suggest\\\" class=\\\"solr.SearchHandler\\\" startup=\\\"lazy\\\">\\r\\n  <lst name=\\\"defaults\\\">\\r\\n    <str name=\\\"suggest\\\">true</str>\\r\\n    <str name=\\\"suggest.count\\\">10</str>\\r\\n  </lst>\\r\\n  <arr name=\\\"components\\\">\\r\\n    <str>suggest</str>\\r\\n  </arr>\\r\\n</requestHandler> \\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<arr name=\\\"components\\\">\\r\\n  <str>suggest</str>\\r\\n</arr>\\r\\n<!-- 补充：在solrConfig.xml中已经定义了一个请求处理器,并且已经配置了查询建议组件 -->\\r\\n<requestHandler name=\\\"/suggest\\\" class=\\\"solr.SearchHandler\\\" startup=\\\"lazy\\\">\\r\\n  <lst name=\\\"defaults\\\">\\r\\n    <str name=\\\"suggest\\\">true</str>\\r\\n    <str name=\\\"suggest.count\\\">10</str>\\r\\n  </lst>\\r\\n  <arr name=\\\"components\\\">\\r\\n    <str>suggest</str>\\r\\n  </arr>\\r\\n</requestHandler> \"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"执行查询，指定suggest参数\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/suggest?q=三星\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/suggest?q=三星\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"http://localhost:8080/solr/collection1/select?q=三星&suggest=true&suggest.dictionary=mySuggester\\n\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=三星&suggest=true&suggest.dictionary=mySuggester\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"结果\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"imgs/2020-03-30_203630.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"485-autosuggest中相关的参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.5  AutoSuggest中相关的参数。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"<searchComponent name=\\\"suggest\\\" class=\\\"solr.SuggestComponent\\\">\\r\\n  <lst name=\\\"suggester\\\">\\r\\n    <!-- 自动建议器名称，需要在查询的时候指定 -->\\r\\n    <str name=\\\"name\\\">mySuggester</str>\\r\\n    <!-- 表示自动建议的内容是基于哪个域的 -->\\r\\n    <str name=\\\"field\\\">item_title</str>\\r\\n    <!-- 词典实现类，表示分词（Term）是如何存储Suggestion字典的。 DocumentDictionaryFactory一个基于词，权重,创建词典; -->\\r\\n    <str name=\\\"dictionaryImpl\\\">DocumentDictionaryFactory</str>\\r\\n    <!-- 查询实现类，表示如何在Suggestion词典中找到分词（Term） -->\\r\\n    <str name=\\\"lookupImpl\\\">FuzzyLookupFactory</str>\\r\\n    <!-- 权重域。 -->\\r\\n    <str name=\\\"weightField\\\">item_price</str>\\r\\n    <!-- 域类型 -->\\r\\n    <str name=\\\"suggestAnalyzerFieldType\\\">text_ik</str>\\r\\n    <str name=\\\"buildOnCommit\\\">true</str>\\r\\n  </lst>\\r\\n</searchComponent>\\n\",\"language\":\"xml\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"<searchComponent name=\\\"suggest\\\" class=\\\"solr.SuggestComponent\\\">\\r\\n  <lst name=\\\"suggester\\\">\\r\\n    <!-- 自动建议器名称，需要在查询的时候指定 -->\\r\\n    <str name=\\\"name\\\">mySuggester</str>\\r\\n    <!-- 表示自动建议的内容是基于哪个域的 -->\\r\\n    <str name=\\\"field\\\">item_title</str>\\r\\n    <!-- 词典实现类，表示分词（Term）是如何存储Suggestion字典的。 DocumentDictionaryFactory一个基于词，权重,创建词典; -->\\r\\n    <str name=\\\"dictionaryImpl\\\">DocumentDictionaryFactory</str>\\r\\n    <!-- 查询实现类，表示如何在Suggestion词典中找到分词（Term） -->\\r\\n    <str name=\\\"lookupImpl\\\">FuzzyLookupFactory</str>\\r\\n    <!-- 权重域。 -->\\r\\n    <str name=\\\"weightField\\\">item_price</str>\\r\\n    <!-- 域类型 -->\\r\\n    <str name=\\\"suggestAnalyzerFieldType\\\">text_ik</str>\\r\\n    <str name=\\\"buildOnCommit\\\">true</str>\\r\\n  </lst>\\r\\n</searchComponent>\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"486-autosuggest查询相关参数\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.6 AutoSuggest查询相关参数\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code-inline\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"http://localhost:8080/solr/collection1/select?q=三星&suggest=true&suggest.dictionary=mySuggester\"}]}]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"参数\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"值\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"描述\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"suggest\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"是否开启suggest\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"suggest.dictionary\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"字符串\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定使用的suggest器名称\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"suggest.count\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"数值\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"默认值是1\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"suggest.build\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"true|false\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"如果设置为true，这个请求会导致重建suggest索引。这个字段一般用于初始化的操作中，在线上环境，一般不会每个请求都重建索引，如果线上你希望保持字典最新，最好使用buildOnCommit或者buildOnOptimize来操作。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h5\",\"props\":{\"id\":\"487-其他lookupimpldictionaryimpl\"},\"children\":[{\"type\":\"text\",\"value\":\"4.8.7 其他lookupImpl,dictionaryImpl.\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"其他的实现大家可以参考。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://lucene.apache.org/solr/guide/8_1/suggester.html\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://lucene.apache.org/solr/guide/8_1/suggester.html\"}]}]}]},{\"type\":\"element\",\"tag\":\"style\",\"children\":[{\"type\":\"text\",\"value\":\".ct-08fb6b{color:#6E7781}\\n.ct-9e7b00{color:#CF222E}\\n.ct-0d7501{color:#0A3069}\\n.ct-c55f0e{color:#0550AE}\\n.ct-2447a2{color:#24292F}\\n.dark .ct-2447a2{color:#C9D1D9}\\n.dark .ct-c55f0e{color:#79C0FF}\\n.dark .ct-0d7501{color:#A5D6FF}\\n.dark .ct-9e7b00{color:#FF7B72}\\n.dark .ct-08fb6b{color:#8B949E}\"}]}],\"toc\":{\"title\":\"\",\"searchDepth\":2,\"depth\":2,\"links\":[{\"id\":\"1-solr简介\",\"depth\":2,\"text\":\"1. Solr简介\",\"children\":[{\"id\":\"前言\",\"depth\":3,\"text\":\"前言\"},{\"id\":\"11-solr是什么\",\"depth\":3,\"text\":\"1.1 Solr是什么\"},{\"id\":\"12-solr的发展历程\",\"depth\":3,\"text\":\"1.2 Solr的发展历程\"},{\"id\":\"13-solr的功能优势\",\"depth\":3,\"text\":\"1.3 Solr的功能优势\"}]},{\"id\":\"2-下载和安装\",\"depth\":2,\"text\":\"2. 下载和安装\",\"children\":[{\"id\":\"21-下载\",\"depth\":3,\"text\":\"2.1 下载\"},{\"id\":\"22-solr学习资源\",\"depth\":3,\"text\":\"2.2 Solr学习资源\"},{\"id\":\"23-window下安装solr\",\"depth\":3,\"text\":\"2.3 Window下安装Solr\"},{\"id\":\"24-linux下安装solr\",\"depth\":3,\"text\":\"2.4 Linux下安装Solr\"}]},{\"id\":\"3-solr基础\",\"depth\":2,\"text\":\"3. Solr基础\",\"children\":[{\"id\":\"31-solrcore\",\"depth\":3,\"text\":\"3.1 SolrCore\"},{\"id\":\"32-solr后台管理系统的使用\",\"depth\":3,\"text\":\"3.2 Solr后台管理系统的使用\"},{\"id\":\"3210-solr的数据导入dataimport\",\"depth\":3,\"text\":\"3.2.10 Solr的数据导入（DataImport）\"}]},{\"id\":\"4-solr查询\",\"depth\":2,\"text\":\"4. Solr查询\",\"children\":[{\"id\":\"41-solr查询概述理解\",\"depth\":3,\"text\":\"4.1 Solr查询概述(理解)\"},{\"id\":\"42-相关度排序\",\"depth\":3,\"text\":\"4.2 相关度排序\"},{\"id\":\"43-查询解析器queryparser\",\"depth\":3,\"text\":\"4.3 查询解析器(QueryParser)\"},{\"id\":\"44-查询语法\",\"depth\":3,\"text\":\"4.4 查询语法\"},{\"id\":\"45-高级查询-facet查询\",\"depth\":3,\"text\":\"4.5 高级查询-facet查询\"},{\"id\":\"46-高级查询-group查询\",\"depth\":3,\"text\":\"4.6  高级查询-group查询\"},{\"id\":\"47-高级查询-高亮查询\",\"depth\":3,\"text\":\"4.7  高级查询-高亮查询\"},{\"id\":\"48-solr-query-suggest\",\"depth\":3,\"text\":\"4.8  Solr Query Suggest\"}]}]}},\"_type\":\"markdown\",\"_id\":\"content:3.Note:1.program:12.learnSolr.md\",\"_source\":\"content\",\"_file\":\"3.Note/1.program/12.learnSolr.md\",\"_extension\":\"md\"},\"hash\":\"PM3bp2DtFo\"}";

export { _12_learnSolr as default };
//# sourceMappingURL=12.learnSolr.mjs.map
