// ROLLUP_NO_REPLACE 
 const _10_learnDocker = "{\"parsed\":{\"_path\":\"/note/program/learndocker\",\"_dir\":\"program\",\"_draft\":false,\"_partial\":false,\"_locale\":\"en\",\"_empty\":false,\"title\":\"Docker\",\"description\":\"\",\"excerpt\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tag\":\"h1\",\"props\":{\"id\":\"docker\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"初识-docker\"},\"children\":[{\"type\":\"text\",\"value\":\"初识 Docker\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们写的代码会接触到好几个环境：开发环境、测试环境以及生产环境：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-11-35.png\"},\"children\":[]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-12-56.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"docker概念\"},\"children\":[{\"type\":\"text\",\"value\":\"docker概念\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 是一个开源的应用容器引擎\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-15-05.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"诞生于 2013 年初，基于 Go 语言实现， dotCloud 公司出品（后改名为Docker Inc）\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器是完全使用沙箱机制，相互隔离\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器性能开销极低。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 从 17.03 版本之后分为 CE（Community Edition: 社区版） 和 EE（Enterprise Edition: 企业版）\"}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"安装docker\"},\"children\":[{\"type\":\"text\",\"value\":\"安装docker\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker可以运行在MAC、Windows、CentOS、UBUNTU等操作系统上，本课程基于CentOS 7 安装\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker官网：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://www.docker.com\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://www.docker.com\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 1、yum 包更新到最新 \\r\\nyum update\\r\\n# 2、安装需要的软件包， yum-util 提供yum-config-manager功能，另外两个是devicemapper驱动依赖的 \\r\\nyum install -y yum-utils device-mapper-persistent-data lvm2\\r\\n# 3、 设置yum源\\r\\nyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\\r\\n# 4、 安装docker，出现输入的界面都按 y \\r\\nyum install -y docker-ce\\r\\n# 5、 查看docker版本，验证是否验证成功\\r\\ndocker -v\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"# 1、yum 包更新到最新 \\r\\nyum update\\r\\n# 2、安装需要的软件包， yum-util 提供yum-config-manager功能，另外两个是devicemapper驱动依赖的 \\r\\nyum install -y yum-utils device-mapper-persistent-data lvm2\\r\\n# 3、 设置yum源\\r\\nyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\\r\\n# 4、 安装docker，出现输入的界面都按 y \\r\\nyum install -y docker-ce\\r\\n# 5、 查看docker版本，验证是否验证成功\\r\\ndocker -v\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"docker架构\"},\"children\":[{\"type\":\"text\",\"value\":\"docker架构\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"镜像（Image）：Docker 镜像（Image），就相当于是一个 root 文件系统。比如官方镜像 ubuntu:16.04 就包含了完整的一套 Ubuntu16.04 最小系统的 root 文件系统。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器（Container）：镜像（Image）和容器（Contain er）的关系，就像是面向对象程序设计中的类和对象一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"仓库（Repository）：仓库可看成一个代码控制中心， 用来保存镜像。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-16-22.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"配置-docker-镜像加速器\"},\"children\":[{\"type\":\"text\",\"value\":\"配置 Docker 镜像加速器\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"默认情况下，将来从docker hub（\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://hub.docker.com/%EF%BC%89%E4%B8%8A%E4%B8%8B%E8%BD%BDdocker%E9%95%9C%E5%83%8F%EF%BC%8C%E5%A4%AA%E6%85%A2%E3%80%82%E4%B8%80%E8%88%AC%E9%83%BD%E4%BC%9A%E9%85%8D%E7%BD%AE%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E5%99%A8%EF%BC%9A\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://hub.docker.com/）上下载docker镜像，太慢。一般都会配置镜像加速器：\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"USTC：中科大镜像加速器（\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://docker.mirrors.ustc.edu.cn%EF%BC%89\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://docker.mirrors.ustc.edu.cn）\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"阿里云\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"网易云\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"腾讯云\"}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker-命令\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 命令\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"进程相关命令\"},\"children\":[{\"type\":\"text\",\"value\":\"进程相关命令\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"启动docker服务\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"systemctl start docker\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"systemctl start docker\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"停止docker服务\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"systemctl stop docker\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"systemctl stop docker\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启docker服务\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"systemctl restart docker\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"systemctl restart docker\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查看docker服务状态\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"systemctl status docker\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"systemctl status docker\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"开机启动docker服务\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"systemctl enable docker\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"systemctl enable docker\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"镜像相关命令\"},\"children\":[{\"type\":\"text\",\"value\":\"镜像相关命令\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"查看镜像\"},\"children\":[{\"type\":\"text\",\"value\":\"查看镜像\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查看本地所有的镜像\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker images\\r\\ndocker images –q # 查看所用镜像的id\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker images\\r\\ndocker images –q # 查看所用镜像的id\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"搜索镜像\"},\"children\":[{\"type\":\"text\",\"value\":\"搜索镜像\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"从网络中查找需要的镜像\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker search 镜像名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker search 镜像名称\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"拉取镜像\"},\"children\":[{\"type\":\"text\",\"value\":\"拉取镜像\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"从Docker仓库下载镜像到本地，镜像名称格式为 名称:版本号，如果版本号不指定则是最新的版本。如果不知道镜像版本，可以去docker hub 搜索对应镜像查看。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker pull 镜像名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull 镜像名称\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"删除镜像\"},\"children\":[{\"type\":\"text\",\"value\":\"删除镜像\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"删除本地镜像\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker rmi 镜像id # 删除指定本地镜像\\r\\ndocker rmi `docker images -q` # 删除所有本地镜像\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker rmi 镜像id # 删除指定本地镜像\\r\\ndocker rmi `docker images -q` # 删除所有本地镜像\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"容器相关命令\"},\"children\":[{\"type\":\"text\",\"value\":\"容器相关命令\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"查看容器\"},\"children\":[{\"type\":\"text\",\"value\":\"查看容器\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker ps # 查看正在运行的容器\\r\\ndocker ps –a # 查看所有容器\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker ps # 查看正在运行的容器\\r\\ndocker ps –a # 查看所有容器\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"创建\"},\"children\":[{\"type\":\"text\",\"value\":\"创建\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run 参数\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run 参数\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数说明：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-i：保持容器运行。通常与 -t 同时使用。加入it这两个参数后，容器创建后自动进入容器中，退出容器后，容器自动关闭。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-t：为容器重新分配一个伪输入终端，通常与 -i 同时使用。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-d：以守护（后台）模式运行容器。创建一个容器在后台运行，需要使用docker exec 进入容器。退出后，容器不会关闭。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-it 创建的容器一般称为交互式容器，-id 创建的容器一般称为守护式容器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"--name：为创建的容器命名。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"进入容器\"},\"children\":[{\"type\":\"text\",\"value\":\"进入容器\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker exec 参数 # 退出容器，容器不会关闭\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker exec 参数 # 退出容器，容器不会关闭\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"启动容器\"},\"children\":[{\"type\":\"text\",\"value\":\"启动容器\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker start 容器名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker start 容器名称\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"停止容器\"},\"children\":[{\"type\":\"text\",\"value\":\"停止容器\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker stop 容器名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker stop 容器名称\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"删除容器\"},\"children\":[{\"type\":\"text\",\"value\":\"删除容器\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果容器是运行状态则删除失败，需要停止容器才能删除\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker rm 容器名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker rm 容器名称\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"查看容器信息\"},\"children\":[{\"type\":\"text\",\"value\":\"查看容器信息\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker inspect 容器名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker inspect 容器名称\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker-容器数据卷\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 容器数据卷\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"数据卷概念及作用\"},\"children\":[{\"type\":\"text\",\"value\":\"数据卷概念及作用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"思考：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 容器删除后，在容器中产生的数据还在吗？\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-24-37.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 容器和外部机器可以直接交换文件吗？\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-25-50.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器之间想要进行数据交互？\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷概念\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷是宿主机中的一个目录或文件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当容器目录和数据卷目录绑定后，对方的修改会立即同步\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一个数据卷可以被多个容器同时挂载\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一个容器也可以被挂载多个数据卷\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-27-31.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷作用\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器数据持久化\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"外部机器和容器间接通信\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器之间数据交换\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"配置数据卷\"},\"children\":[{\"type\":\"text\",\"value\":\"配置数据卷\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建启动容器时，使用 –v 参数 设置数据卷\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run ... –v 宿主机目录(文件):容器内目录(文件) ...\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run ... –v 宿主机目录(文件):容器内目录(文件) ...\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-28-36.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"注意事项：\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"目录必须是绝对路径\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果目录不存在，会自动创建\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"可以挂载多个数据卷\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"配置数据卷容器\"},\"children\":[{\"type\":\"text\",\"value\":\"配置数据卷容器\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷容器\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"多容器进行数据交换\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"多个容器挂载同一个数据卷\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷容器\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-30-01.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置数据卷容器\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建启动c3数据卷容器，使用 –v 参数 设置数据卷\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run –it --name=c3 –v /volume centos:7 /bin/bash\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run –it --name=c3 –v /volume centos:7 /bin/bash\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建启动 c1 c2 容器，使用 –-volumes-from 参数 设置数据卷\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run –it --name=c1 --volumes-from c3 centos:7 /bin/bash\\r\\ndocker run –it --name=c2 --volumes-from c3 centos:7 /bin/bash\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run –it --name=c1 --volumes-from c3 centos:7 /bin/bash\\r\\ndocker run –it --name=c2 --volumes-from c3 centos:7 /bin/bash\\n\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"数据卷小结\"},\"children\":[{\"type\":\"text\",\"value\":\"数据卷小结\"}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷概念\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"宿主机的一个目录或文件\"}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷作用\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器数据持久化\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"客户端和容器数据交换\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器间数据交换\"}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷容器\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建一个容器，挂载一个目录，让其他容器继承自该容器( --volume-from )。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过简单方式实现数据卷配置\"}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker-应用部署\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 应用部署\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"mysql部署\"},\"children\":[{\"type\":\"text\",\"value\":\"MySQL部署\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：在Docker容器中部署MySQL，并通过外部mysql客户端操作MySQL Server。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 搜索mysql镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 拉取mysql镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 创建容器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 操作容器中的mysql\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"端口映射\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器内的网络服务和外部机器不能直接通信\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"外部机器和宿主机可以直接通信\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"宿主机和容器可以直接通信\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当容器中的网络服务需要被外部机器访问时，可以将容器中提供服务的端口映射到宿主机的端口上。外部机器访问宿主机的该端口，从而间接访问容器的服务。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这种操作称为：端口映射\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-35-01.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索mysql镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker search mysql\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker search mysql\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拉取mysql镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker pull mysql:5.6\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull mysql:5.6\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建容器，设置端口映射、目录映射\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 在/root目录下创建mysql目录用于存储mysql数据信息\\r\\nmkdir ~/mysql\\r\\ncd ~/mysql\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"# 在/root目录下创建mysql目录用于存储mysql数据信息\\r\\nmkdir ~/mysql\\r\\ncd ~/mysql\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run -id \\\\\\r\\n-p 3307:3306 \\\\\\r\\n--name=c_mysql \\\\\\r\\n-v $PWD/conf:/etc/mysql/conf.d \\\\\\r\\n-v $PWD/logs:/logs \\\\\\r\\n-v $PWD/data:/var/lib/mysql \\\\\\r\\n-e MYSQL_ROOT_PASSWORD=123456 \\\\\\r\\nmysql:5.6\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run -id \\\\\\r\\n-p 3307:3306 \\\\\\r\\n--name=c_mysql \\\\\\r\\n-v $PWD/conf:/etc/mysql/conf.d \\\\\\r\\n-v $PWD/logs:/logs \\\\\\r\\n-v $PWD/data:/var/lib/mysql \\\\\\r\\n-e MYSQL_ROOT_PASSWORD=123456 \\\\\\r\\nmysql:5.6\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数说明：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-p 3307:3306\"}]},{\"type\":\"text\",\"value\":\"：将容器的 3306 端口映射到宿主机的 3307 端口。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/conf:/etc/mysql/conf.d\"}]},{\"type\":\"text\",\"value\":\"：将主机当前目录下的 conf/my.cnf 挂载到容器的 /etc/mysql/my.cnf。配置目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/logs:/logs\"}]},{\"type\":\"text\",\"value\":\"：将主机当前目录下的 logs 目录挂载到容器的 /logs。日志目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/data:/var/lib/mysql\"}]},{\"type\":\"text\",\"value\":\" ：将主机当前目录下的data目录挂载到容器的 /var/lib/mysql 。数据目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"**-e MYSQL_ROOT_PASSWORD=123456：**初始化 root 用户的密码。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入容器，操作mysql\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker exec –it c_mysql /bin/bash\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker exec –it c_mysql /bin/bash\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用外部机器连接容器中的mysql\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1573636765632\",\"src\":\"./imgs/1573636765632.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"tomcat部署\"},\"children\":[{\"type\":\"text\",\"value\":\"Tomcat部署\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：在Docker容器中部署Tomcat，并通过外部机器访问Tomcat部署的项目。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 搜索tomcat镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 拉取tomcat镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 创建容器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 部署项目\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"⑤ 测试访问\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索tomcat镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker search tomcat\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker search tomcat\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拉取tomcat镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker pull tomcat\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull tomcat\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建容器，设置端口映射、目录映射\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 在/root目录下创建tomcat目录用于存储tomcat数据信息\\r\\nmkdir ~/tomcat\\r\\ncd ~/tomcat\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"# 在/root目录下创建tomcat目录用于存储tomcat数据信息\\r\\nmkdir ~/tomcat\\r\\ncd ~/tomcat\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run -id --name=c_tomcat \\\\\\r\\n-p 8080:8080 \\\\\\r\\n-v $PWD:/usr/local/tomcat/webapps \\\\\\r\\ntomcat \\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run -id --name=c_tomcat \\\\\\r\\n-p 8080:8080 \\\\\\r\\n-v $PWD:/usr/local/tomcat/webapps \\\\\\r\\ntomcat \\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数说明：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"**-p 8080:8080：**将容器的8080端口映射到主机的8080端口\"},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"text\",\"value\":\"**-v $PWD:/usr/local/tomcat/webapps：**将主机中当前目录挂载到容器的webapps\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用外部机器访问tomcat\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1573649804623\",\"src\":\"./imgs/1573649804623.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"nginx部署\"},\"children\":[{\"type\":\"text\",\"value\":\"Nginx部署\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：在Docker容器中部署Nginx，并通过外部机器访问Nginx。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 搜索Nginx镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 拉取Nginx镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 创建容器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 测试访问\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索nginx镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker search nginx\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker search nginx\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拉取nginx镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker pull nginx\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull nginx\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建容器，设置端口映射、目录映射\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 在/root目录下创建nginx目录用于存储nginx数据信息\\r\\nmkdir ~/nginx\\r\\ncd ~/nginx\\r\\nmkdir conf\\r\\ncd conf\\r\\n# 在~/nginx/conf/下创建nginx.conf文件,粘贴下面内容\\r\\nvim nginx.conf\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"# 在/root目录下创建nginx目录用于存储nginx数据信息\\r\\nmkdir ~/nginx\\r\\ncd ~/nginx\\r\\nmkdir conf\\r\\ncd conf\\r\\n# 在~/nginx/conf/下创建nginx.conf文件,粘贴下面内容\\r\\nvim nginx.conf\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"user  nginx;\\r\\nworker_processes  1;\\r\\n\\r\\nerror_log  /var/log/nginx/error.log warn;\\r\\npid        /var/run/nginx.pid;\\r\\n\\r\\nevents {\\r\\n    worker_connections  1024;\\r\\n}\\r\\n\\r\\nhttp {\\r\\n    include       /etc/nginx/mime.types;\\r\\n    default_type  application/octet-stream;\\r\\n\\r\\n    log_format  main  '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\r\\n                      '$status $body_bytes_sent \\\"$http_referer\\\" '\\r\\n                      '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\r\\n\\r\\n    access_log  /var/log/nginx/access.log  main;\\r\\n\\r\\n    sendfile        on;\\r\\n    #tcp_nopush     on;\\r\\n    keepalive_timeout  65;\\r\\n\\r\\n    #gzip  on;\\r\\n    include /etc/nginx/conf.d/*.conf;\\r\\n}\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"user  nginx;\\r\\nworker_processes  1;\\r\\n\\r\\nerror_log  /var/log/nginx/error.log warn;\\r\\npid        /var/run/nginx.pid;\\r\\n\\r\\nevents {\\r\\n    worker_connections  1024;\\r\\n}\\r\\n\\r\\nhttp {\\r\\n    include       /etc/nginx/mime.types;\\r\\n    default_type  application/octet-stream;\\r\\n\\r\\n    log_format  main  '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\r\\n                      '$status $body_bytes_sent \\\"$http_referer\\\" '\\r\\n                      '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\r\\n\\r\\n    access_log  /var/log/nginx/access.log  main;\\r\\n\\r\\n    sendfile        on;\\r\\n    #tcp_nopush     on;\\r\\n    keepalive_timeout  65;\\r\\n\\r\\n    #gzip  on;\\r\\n    include /etc/nginx/conf.d/*.conf;\\r\\n}\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run -id --name=c_nginx \\\\\\r\\n-p 80:80 \\\\\\r\\n-v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf \\\\\\r\\n-v $PWD/logs:/var/log/nginx \\\\\\r\\n-v $PWD/html:/usr/share/nginx/html \\\\\\r\\nnginx\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run -id --name=c_nginx \\\\\\r\\n-p 80:80 \\\\\\r\\n-v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf \\\\\\r\\n-v $PWD/logs:/var/log/nginx \\\\\\r\\n-v $PWD/html:/usr/share/nginx/html \\\\\\r\\nnginx\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数说明：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-p 80:80\"}]},{\"type\":\"text\",\"value\":\"：将容器的 80端口映射到宿主机的 80 端口。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf\"}]},{\"type\":\"text\",\"value\":\"：将主机当前目录下的 /conf/nginx.conf 挂载到容器的 :/etc/nginx/nginx.conf。配置目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/logs:/var/log/nginx\"}]},{\"type\":\"text\",\"value\":\"：将主机当前目录下的 logs 目录挂载到容器的/var/log/nginx。日志目录\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用外部机器访问nginx\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1573652396669\",\"src\":\"./imgs/1573652396669.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"redis部署\"},\"children\":[{\"type\":\"text\",\"value\":\"Redis部署\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：在Docker容器中部署Redis，并通过外部机器访问Redis。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 搜索Redis镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 拉取Redis镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 创建容器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 测试访问\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索redis镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker search redis\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker search redis\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拉取redis镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker pull redis:5.0\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull redis:5.0\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建容器，设置端口映射\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run -id --name=c_redis -p 6379:6379 redis:5.0\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run -id --name=c_redis -p 6379:6379 redis:5.0\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用外部机器连接redis\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"./redis-cli.exe -h 192.168.149.135 -p 6379\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"./redis-cli.exe -h 192.168.149.135 -p 6379\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"dockerfile\"},\"children\":[{\"type\":\"text\",\"value\":\"Dockerfile\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"docker-镜像原理\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 镜像原理\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"思考：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 镜像本质是什么？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"是一个分层文件系统\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 中一个centos镜像为什么只有200MB，而一个centos操作系统的iso文件要几个个G？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"•\\tCentos的iso镜像文件包含bootfs和rootfs，而docker的centos镜像复用操作系统的bootfs，只有rootfs和其他镜像层\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 中一个tomcat镜像为什么有500MB，而一个tomcat安装包只有70多MB？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"•\\t由于docker中镜像是分层的，tomcat虽然只有70多MB，但他需要依赖于父镜像和基础镜像，所有整个对外暴露的tomcat镜像大小500多MB\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"操作系统组成部分：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进程调度子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进程通信子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"内存管理子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"设备管理子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"文件管理子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"网络通信子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作业控制子系统\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Linux文件系统由bootfs和rootfs两部分组成\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"bootfs：包含bootloader（引导加载程序）和 kernel（内核）\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"rootfs： root文件系统，包含的就是典型 Linux 系统中的/dev，/proc，/bin，/etc等标准目录和文件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"不同的linux发行版，bootfs基本一样，而rootfs不同，如ubuntu，centos等\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-39-04.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 镜像原理\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker镜像是由特殊的文件系统叠加而成\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"最底端是 bootfs，并使用宿主机的bootfs\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"第二层是 root文件系统rootfs,称为base image\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"然后再往上可以叠加其他的镜像文件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"统一文件系统（Union File System）技术能够将不同的层整合成一个文件系统，为这些层提供了一个统一的视角，这样就隐藏了多层的存在，在用户的角度看来，只存在一个文件系统。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一个镜像可以放在另一个镜像的上面。位于下面的镜像称为父镜像，最底部的镜像成为基础镜像。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当从一个镜像启动容器时，Docker会在最顶层加载一个读写文件系统作为容器\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-41-04.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"镜像制作\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器转为镜像\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker commit 容器id 镜像名称:版本号\\r\\ndocker save -o 压缩文件名称 镜像名称:版本号\\r\\ndocker load –i 压缩文件名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker commit 容器id 镜像名称:版本号\\r\\ndocker save -o 压缩文件名称 镜像名称:版本号\\r\\ndocker load –i 压缩文件名称\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-43-43.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"dockerfile概念及作用\"},\"children\":[{\"type\":\"text\",\"value\":\"Dockerfile概念及作用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Dockerfile 是一个文本文件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"包含了一条条的指令\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"每一条指令构建一层，基于基础镜像，最终构建出一个新的镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于开发人员：可以为开发团队提供一个完全一致的开发环境\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于测试人员：可以直接拿开发时所构建的镜像或者通过Dockerfile文件构建一个新的镜像开始工作了\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于运维人员：在部署时，可以实现应用的无缝移植\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Dochub网址：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://hub.docker.com\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://hub.docker.com\"}]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-45-24.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"dockerfile关键字\"},\"children\":[{\"type\":\"text\",\"value\":\"Dockerfile关键字\"}]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"关键字\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"作用\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"备注\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"FROM\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定父镜像\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定dockerfile基于那个image构建\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"MAINTAINER\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"作者信息\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"用来标明这个dockerfile谁写的\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"LABEL\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"标签\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"用来标明dockerfile的标签 可以使用Label代替Maintainer 最终都是在docker image基本信息中可以查看\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"RUN\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"执行命令\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"执行一段命令 默认是/bin/sh 格式: RUN command 或者 RUN \"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\\"command\\\" , \\\"param1\\\",\\\"param2\\\"\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"CMD\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"容器启动命令\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"提供启动容器时候的默认命令 和ENTRYPOINT配合使用.格式 CMD command param1 param2 或者 CMD \"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\\"command\\\" , \\\"param1\\\",\\\"param2\\\"\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ENTRYPOINT\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"入口\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"一般在制作一些执行就关闭的容器中会使用\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"COPY\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"复制文件\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"build的时候复制文件到image中\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ADD\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"添加文件\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"build的时候添加文件到image中 不仅仅局限于当前build上下文 可以来源于远程服务\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ENV\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"环境变量\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定build时候的环境变量 可以在启动的容器的时候 通过-e覆盖 格式ENV name=value\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ARG\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"构建参数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"构建参数 只在构建的时候使用的参数 如果有ENV 那么ENV的相同名字的值始终覆盖arg的参数\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"VOLUME\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"定义外部可以挂载的数据卷\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定build的image那些目录可以启动的时候挂载到文件系统中 启动容器的时候使用 -v 绑定 格式 VOLUME \"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\\"目录\\\"\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"EXPOSE\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"暴露端口\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"定义容器运行的时候监听的端口 启动容器的使用-p来绑定暴露端口 格式: EXPOSE 8080 或者 EXPOSE 8080/udp\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"WORKDIR\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"工作目录\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定容器内部的工作目录 如果没有创建则自动创建 如果指定/ 使用的是绝对地址 如果不是/开头那么是在上一条workdir的路径的相对路径\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"USER\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定执行用户\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定build或者启动的时候 用户 在RUN CMD ENTRYPONT执行的时候的用户\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"HEALTHCHECK\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"健康检查\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定监测当前容器的健康监测的命令 基本上没用 因为很多时候 应用本身有健康监测机制\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ONBUILD\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"触发器\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"当存在ONBUILD关键字的镜像作为基础镜像的时候 当执行FROM完成之后 会执行 ONBUILD的命令 但是不影响当前镜像 用处也不怎么大\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"STOPSIGNAL\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"发送信号量到宿主机\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"该STOPSIGNAL指令设置将发送到容器的系统调用信号以退出。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"SHELL\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定执行脚本的shell\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定RUN CMD ENTRYPOINT 执行命令的时候 使用的shell\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"案例\"},\"children\":[{\"type\":\"text\",\"value\":\"案例\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求1：自定义centos7镜像。要求：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"默认登录路径为 /usr\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"可以使用vim\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤1：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 定义父镜像：FROM centos:7\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 定义作者信息：MAINTAINER itheima \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"mailto:itheima@itcast.cn\"},\"children\":[{\"type\":\"text\",\"value\":\"itheima@itcast.cn\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 执行安装vim命令： RUN yum install -y vim\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 定义默认的工作目录：WORKDIR /usr\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"⑤ 定义容器启动执行的命令：CMD /bin/bash\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"⑥ 通过dockerfile构建镜像：docker bulid –f dockerfile文件路径 –t 镜像名称:版本\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求2：定义dockerfile，发布springboot项目\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤2：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 定义父镜像：FROM java:8\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 定义作者信息：MAINTAINER itheima \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"mailto:itheima@itcast.cn\"},\"children\":[{\"type\":\"text\",\"value\":\"itheima@itcast.cn\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 将jar包添加到容器： ADD springboot.jar app.jar\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 定义容器启动执行的命令：CMD java–jar app.jar\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"⑤ 通过dockerfile构建镜像：docker bulid –f dockerfile文件路径 –t 镜像名称:版本\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker-服务编排\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 服务编排\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"服务编排概念\"},\"children\":[{\"type\":\"text\",\"value\":\"服务编排概念\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"微服务架构的应用系统中一般包含若干个微服务，每个微服务一般都会部署多个实例，如果每个微服务都要手动启停，维护的工作量会很大。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要从Dockerfile build image 或者去dockerhub拉取image\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要创建多个container\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要管理这些container（启动停止删除）\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"服务编排\"}]},{\"type\":\"text\",\"value\":\"：按照一定的业务规则批量管理容器\"}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"docker-compose-概述\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker Compose 概述\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker Compose是一个编排多容器分布式部署的工具，提供命令集管理容器化应用的完整开发周期，包括服务构建，启动和停止。使用步骤：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"利用 Dockerfile 定义运行环境镜像\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用 docker-compose.yml 定义组成应用的各服务\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"运行 docker-compose up 启动应用\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-49-38.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装Docker Compose\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# Compose目前已经完全支持Linux、Mac OS和Windows，在我们安装Compose之前，需要先安装Docker。下面我 们以编译好的二进制包方式安装在Linux系统中。 \\r\\ncurl -L https://github.com/docker/compose/releases/download/1.22.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose\\r\\n# 设置文件可执行权限 \\r\\nchmod +x /usr/local/bin/docker-compose\\r\\n# 查看版本信息 \\r\\ndocker-compose -version\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"# Compose目前已经完全支持Linux、Mac OS和Windows，在我们安装Compose之前，需要先安装Docker。下面我 们以编译好的二进制包方式安装在Linux系统中。 \\r\\ncurl -L https://github.com/docker/compose/releases/download/1.22.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose\\r\\n# 设置文件可执行权限 \\r\\nchmod +x /usr/local/bin/docker-compose\\r\\n# 查看版本信息 \\r\\ndocker-compose -version\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"卸载Docker Compose\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 二进制包方式安装的，删除二进制文件即可\\r\\nrm /usr/local/bin/docker-compose\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"# 二进制包方式安装的，删除二进制文件即可\\r\\nrm /usr/local/bin/docker-compose\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用docker compose编排nginx+springboot项目\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建docker-compose目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"mkdir ~/docker-compose\\r\\ncd ~/docker-compose\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"mkdir ~/docker-compose\\r\\ncd ~/docker-compose\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编写 docker-compose.yml 文件\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"version: '3'\\r\\nservices:\\r\\n  nginx:\\r\\n      image: nginx\\r\\n      ports:\\r\\n        - 80:80\\r\\n      links:\\r\\n        - app\\r\\n      volumes:\\r\\n        - ./nginx/conf.d:/etc/nginx/conf.d\\r\\n      app:\\r\\n        image: app\\r\\n        expose:\\r\\n          - \\\"8080\\\"\\n\",\"language\":\"ini\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"version: '3'\\r\\nservices:\\r\\n  nginx:\\r\\n      image: nginx\\r\\n      ports:\\r\\n        - 80:80\\r\\n      links:\\r\\n        - app\\r\\n      volumes:\\r\\n        - ./nginx/conf.d:/etc/nginx/conf.d\\r\\n      app:\\r\\n        image: app\\r\\n        expose:\\r\\n          - \\\"8080\\\"\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建./nginx/conf.d目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"mkdir -p ./nginx/conf.d\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"mkdir -p ./nginx/conf.d\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在./nginx/conf.d目录下 编写itheima.conf文件\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"server {\\r\\n    listen 80;\\r\\n    access_log off;\\r\\n    location / {\\r\\n      proxy_pass http://app:8080;\\r\\n  }  \\r\\n}\\n\",\"language\":\"ini\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"server {\\r\\n    listen 80;\\r\\n    access_log off;\\r\\n    location / {\\r\\n      proxy_pass http://app:8080;\\r\\n  }  \\r\\n}\\n\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在~/docker-compose 目录下 使用docker-compose 启动容器\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  docker-compose up\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"  docker-compose up\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试访问\\r\\n\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://192.168.149.135/hello\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://192.168.149.135/hello\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker-私有仓库\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 私有仓库\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"搭建私有仓库\"},\"children\":[{\"type\":\"text\",\"value\":\"搭建私有仓库\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker官方的Docker hub（\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://hub.docker.com%EF%BC%89%E6%98%AF%E4%B8%80%E4%B8%AA%E7%94%A8%E4%BA%8E%E7%AE%A1%E7%90%86%E5%85%AC%E5%85%B1%E9%95%9C%E5%83%8F%E7%9A%84%E4%BB%93%E5%BA%93%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%BB%8E%E4%B8%8A%E9%9D%A2%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F%E5%88%B0%E6%9C%AC%E5%9C%B0%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%8A%8A%E6%88%91%E4%BB%AC%E8%87%AA%E5%B7%B1%E7%9A%84%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E4%B8%8A%E5%8E%BB%E3%80%82%E4%BD%86%E6%98%AF%EF%BC%8C%E6%9C%89%E6%97%B6%E5%80%99%E6%88%91%E4%BB%AC%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E4%BA%92%E8%81%94%E7%BD%91%EF%BC%8C%E6%88%96%E8%80%85%E4%BD%A0%E4%B8%8D%E5%B8%8C%E6%9C%9B%E5%B0%86%E8%87%AA%E5%B7%B1%E7%9A%84%E9%95%9C%E5%83%8F%E6%94%BE%E5%88%B0%E5%85%AC%E7%BD%91%E5%BD%93%E4%B8%AD%EF%BC%8C%E9%82%A3%E4%B9%88%E6%88%91%E4%BB%AC%E5%B0%B1%E9%9C%80%E8%A6%81%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E6%9D%A5%E5%AD%98%E5%82%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%87%AA%E5%B7%B1%E7%9A%84%E9%95%9C%E5%83%8F%E3%80%82\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://hub.docker.com）是一个用于管理公共镜像的仓库，我们可以从上面拉取镜像到本地，也可以把我们自己的镜像推送上去。但是，有时候我们的服务器无法访问互联网，或者你不希望将自己的镜像放到公网当中，那么我们就需要搭建自己的私有仓库来存储和管理自己的镜像。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 1、拉取私有仓库镜像 \\r\\ndocker pull registry\\r\\n# 2、启动私有仓库容器 \\r\\ndocker run -id --name=registry -p 5000:5000 registry\\r\\n# 3、打开浏览器 输入地址http://私有仓库服务器ip:5000/v2/_catalog，看到{\\\"repositories\\\":[]} 表示私有仓库 搭建成功\\r\\n# 4、修改daemon.json   \\r\\nvim /etc/docker/daemon.json    \\r\\n# 在上述文件中添加一个key，保存退出。此步用于让 docker 信任私有仓库地址；注意将私有仓库服务器ip修改为自己私有仓库服务器真实ip \\r\\n{\\\"insecure-registries\\\":[\\\"私有仓库服务器ip:5000\\\"]} \\r\\n# 5、重启docker 服务 \\r\\nsystemctl restart docker\\r\\ndocker start registry\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"# 1、拉取私有仓库镜像 \\r\\ndocker pull registry\\r\\n# 2、启动私有仓库容器 \\r\\ndocker run -id --name=registry -p 5000:5000 registry\\r\\n# 3、打开浏览器 输入地址http://私有仓库服务器ip:5000/v2/_catalog，看到{\\\"repositories\\\":[]} 表示私有仓库 搭建成功\\r\\n# 4、修改daemon.json   \\r\\nvim /etc/docker/daemon.json    \\r\\n# 在上述文件中添加一个key，保存退出。此步用于让 docker 信任私有仓库地址；注意将私有仓库服务器ip修改为自己私有仓库服务器真实ip \\r\\n{\\\"insecure-registries\\\":[\\\"私有仓库服务器ip:5000\\\"]} \\r\\n# 5、重启docker 服务 \\r\\nsystemctl restart docker\\r\\ndocker start registry\\n\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"上传镜像到私有仓库\"},\"children\":[{\"type\":\"text\",\"value\":\"上传镜像到私有仓库\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 1、标记镜像为私有仓库的镜像     \\r\\ndocker tag centos:7 私有仓库服务器IP:5000/centos:7\\r\\n \\r\\n# 2、上传标记的镜像     \\r\\ndocker push 私有仓库服务器IP:5000/centos:7\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"# 1、标记镜像为私有仓库的镜像     \\r\\ndocker tag centos:7 私有仓库服务器IP:5000/centos:7\\r\\n \\r\\n# 2、上传标记的镜像     \\r\\ndocker push 私有仓库服务器IP:5000/centos:7\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"从私有仓库拉取镜像\"},\"children\":[{\"type\":\"text\",\"value\":\"从私有仓库拉取镜像\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"#拉取镜像 \\r\\ndocker pull 私有仓库服务器ip:5000/centos:7\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"#拉取镜像 \\r\\ndocker pull 私有仓库服务器ip:5000/centos:7\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker相关概念\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker相关概念\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"docker容器虚拟化-与-传统虚拟机比较\"},\"children\":[{\"type\":\"text\",\"value\":\"docker容器虚拟化 与 传统虚拟机比较\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器就是将软件打包成标准化单元，以用于开发、交付和部署。\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器镜像是轻量的、可执行的独立软件包 ，包含软件运行所需的所有内容：代码、运行时环境、系统工具、系统库和设置。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器化软件在任何环境中都能够始终如一地运行。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器赋予了软件独立性，使其免受外在环境差异的影响，从而有助于减少团队间在相同基础设施上运行不同软件时的冲突。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-51-39.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"相同：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器和虚拟机具有相似的资源隔离和分配优势\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"不同：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器虚拟化的是操作系统，虚拟机虚拟化的是硬件。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"传统虚拟机可以运行不同的操作系统，容器只能运行同一类型操作系统\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-52-37.png\"},\"children\":[]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-52-43.png\"},\"children\":[]}]}]}]}]}]},\"body\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tag\":\"h1\",\"props\":{\"id\":\"docker\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker\"}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"初识-docker\"},\"children\":[{\"type\":\"text\",\"value\":\"初识 Docker\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们写的代码会接触到好几个环境：开发环境、测试环境以及生产环境：\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-11-35.png\"},\"children\":[]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-12-56.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"docker概念\"},\"children\":[{\"type\":\"text\",\"value\":\"docker概念\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 是一个开源的应用容器引擎\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-15-05.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"诞生于 2013 年初，基于 Go 语言实现， dotCloud 公司出品（后改名为Docker Inc）\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器是完全使用沙箱机制，相互隔离\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器性能开销极低。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 从 17.03 版本之后分为 CE（Community Edition: 社区版） 和 EE（Enterprise Edition: 企业版）\"}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"安装docker\"},\"children\":[{\"type\":\"text\",\"value\":\"安装docker\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker可以运行在MAC、Windows、CentOS、UBUNTU等操作系统上，本课程基于CentOS 7 安装\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker官网：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://www.docker.com\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://www.docker.com\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 1、yum 包更新到最新 \\r\\nyum update\\r\\n# 2、安装需要的软件包， yum-util 提供yum-config-manager功能，另外两个是devicemapper驱动依赖的 \\r\\nyum install -y yum-utils device-mapper-persistent-data lvm2\\r\\n# 3、 设置yum源\\r\\nyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\\r\\n# 4、 安装docker，出现输入的界面都按 y \\r\\nyum install -y docker-ce\\r\\n# 5、 查看docker版本，验证是否验证成功\\r\\ndocker -v\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 1、yum 包更新到最新 \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"yum update\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 2、安装需要的软件包， yum-util 提供yum-config-manager功能，另外两个是devicemapper驱动依赖的 \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"yum install -y yum-utils device-mapper-persistent-data lvm2\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 3、 设置yum源\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 4、 安装docker，出现输入的界面都按 y \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"yum install -y docker-ce\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 5、 查看docker版本，验证是否验证成功\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker -v\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"docker架构\"},\"children\":[{\"type\":\"text\",\"value\":\"docker架构\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"镜像（Image）：Docker 镜像（Image），就相当于是一个 root 文件系统。比如官方镜像 ubuntu:16.04 就包含了完整的一套 Ubuntu16.04 最小系统的 root 文件系统。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器（Container）：镜像（Image）和容器（Contain er）的关系，就像是面向对象程序设计中的类和对象一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"仓库（Repository）：仓库可看成一个代码控制中心， 用来保存镜像。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-16-22.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"配置-docker-镜像加速器\"},\"children\":[{\"type\":\"text\",\"value\":\"配置 Docker 镜像加速器\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"默认情况下，将来从docker hub（\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://hub.docker.com/%EF%BC%89%E4%B8%8A%E4%B8%8B%E8%BD%BDdocker%E9%95%9C%E5%83%8F%EF%BC%8C%E5%A4%AA%E6%85%A2%E3%80%82%E4%B8%80%E8%88%AC%E9%83%BD%E4%BC%9A%E9%85%8D%E7%BD%AE%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E5%99%A8%EF%BC%9A\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://hub.docker.com/）上下载docker镜像，太慢。一般都会配置镜像加速器：\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"USTC：中科大镜像加速器（\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://docker.mirrors.ustc.edu.cn%EF%BC%89\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://docker.mirrors.ustc.edu.cn）\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"阿里云\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"网易云\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"腾讯云\"}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker-命令\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 命令\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"进程相关命令\"},\"children\":[{\"type\":\"text\",\"value\":\"进程相关命令\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"启动docker服务\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"systemctl start docker\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"systemctl start docker\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"停止docker服务\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"systemctl stop docker\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"systemctl stop docker\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"重启docker服务\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"systemctl restart docker\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"systemctl restart docker\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查看docker服务状态\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"systemctl status docker\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"systemctl status docker\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"开机启动docker服务\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"systemctl enable docker\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"systemctl \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-dfea6c\"},\"children\":[{\"type\":\"text\",\"value\":\"enable\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\" docker\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"镜像相关命令\"},\"children\":[{\"type\":\"text\",\"value\":\"镜像相关命令\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"查看镜像\"},\"children\":[{\"type\":\"text\",\"value\":\"查看镜像\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"查看本地所有的镜像\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker images\\r\\ndocker images –q # 查看所用镜像的id\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker images\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker images –q \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 查看所用镜像的id\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"搜索镜像\"},\"children\":[{\"type\":\"text\",\"value\":\"搜索镜像\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"从网络中查找需要的镜像\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker search 镜像名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker search 镜像名称\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"拉取镜像\"},\"children\":[{\"type\":\"text\",\"value\":\"拉取镜像\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"从Docker仓库下载镜像到本地，镜像名称格式为 名称:版本号，如果版本号不指定则是最新的版本。如果不知道镜像版本，可以去docker hub 搜索对应镜像查看。\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker pull 镜像名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull 镜像名称\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"删除镜像\"},\"children\":[{\"type\":\"text\",\"value\":\"删除镜像\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"删除本地镜像\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker rmi 镜像id # 删除指定本地镜像\\r\\ndocker rmi `docker images -q` # 删除所有本地镜像\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker rmi 镜像id \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 删除指定本地镜像\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker rmi \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-5b5f51\"},\"children\":[{\"type\":\"text\",\"value\":\"`docker images -q`\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 删除所有本地镜像\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"容器相关命令\"},\"children\":[{\"type\":\"text\",\"value\":\"容器相关命令\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"查看容器\"},\"children\":[{\"type\":\"text\",\"value\":\"查看容器\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker ps # 查看正在运行的容器\\r\\ndocker ps –a # 查看所有容器\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker ps \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 查看正在运行的容器\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker ps –a \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 查看所有容器\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"创建\"},\"children\":[{\"type\":\"text\",\"value\":\"创建\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run 参数\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run 参数\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数说明：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-i：保持容器运行。通常与 -t 同时使用。加入it这两个参数后，容器创建后自动进入容器中，退出容器后，容器自动关闭。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-t：为容器重新分配一个伪输入终端，通常与 -i 同时使用。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-d：以守护（后台）模式运行容器。创建一个容器在后台运行，需要使用docker exec 进入容器。退出后，容器不会关闭。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-it 创建的容器一般称为交互式容器，-id 创建的容器一般称为守护式容器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"--name：为创建的容器命名。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"进入容器\"},\"children\":[{\"type\":\"text\",\"value\":\"进入容器\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker exec 参数 # 退出容器，容器不会关闭\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-dfea6c\"},\"children\":[{\"type\":\"text\",\"value\":\"exec\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\" 参数 \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 退出容器，容器不会关闭\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"启动容器\"},\"children\":[{\"type\":\"text\",\"value\":\"启动容器\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker start 容器名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker start 容器名称\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"停止容器\"},\"children\":[{\"type\":\"text\",\"value\":\"停止容器\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker stop 容器名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker stop 容器名称\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"删除容器\"},\"children\":[{\"type\":\"text\",\"value\":\"删除容器\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果容器是运行状态则删除失败，需要停止容器才能删除\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker rm 容器名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker rm 容器名称\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"查看容器信息\"},\"children\":[{\"type\":\"text\",\"value\":\"查看容器信息\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker inspect 容器名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker inspect 容器名称\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker-容器数据卷\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 容器数据卷\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"数据卷概念及作用\"},\"children\":[{\"type\":\"text\",\"value\":\"数据卷概念及作用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"思考：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 容器删除后，在容器中产生的数据还在吗？\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-24-37.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 容器和外部机器可以直接交换文件吗？\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-25-50.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器之间想要进行数据交互？\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷概念\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷是宿主机中的一个目录或文件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当容器目录和数据卷目录绑定后，对方的修改会立即同步\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一个数据卷可以被多个容器同时挂载\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一个容器也可以被挂载多个数据卷\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-27-31.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷作用\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器数据持久化\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"外部机器和容器间接通信\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器之间数据交换\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"配置数据卷\"},\"children\":[{\"type\":\"text\",\"value\":\"配置数据卷\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建启动容器时，使用 –v 参数 设置数据卷\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run ... –v 宿主机目录(文件):容器内目录(文件) ...\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run ... –v 宿主机目录(文件):容器内目录(文件) ...\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-28-36.png\"},\"children\":[]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"注意事项：\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"目录必须是绝对路径\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果目录不存在，会自动创建\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"可以挂载多个数据卷\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"配置数据卷容器\"},\"children\":[{\"type\":\"text\",\"value\":\"配置数据卷容器\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷容器\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"多容器进行数据交换\"},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"多个容器挂载同一个数据卷\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷容器\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-30-01.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"配置数据卷容器\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建启动c3数据卷容器，使用 –v 参数 设置数据卷\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run –it --name=c3 –v /volume centos:7 /bin/bash\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run –it --name=c3 –v /volume centos:7 /bin/bash\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建启动 c1 c2 容器，使用 –-volumes-from 参数 设置数据卷\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run –it --name=c1 --volumes-from c3 centos:7 /bin/bash\\r\\ndocker run –it --name=c2 --volumes-from c3 centos:7 /bin/bash\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run –it --name=c1 --volumes-from c3 centos:7 /bin/bash\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run –it --name=c2 --volumes-from c3 centos:7 /bin/bash\"}]}]}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"数据卷小结\"},\"children\":[{\"type\":\"text\",\"value\":\"数据卷小结\"}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷概念\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"宿主机的一个目录或文件\"}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷作用\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器数据持久化\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"客户端和容器数据交换\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器间数据交换\"}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"数据卷容器\"}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建一个容器，挂载一个目录，让其他容器继承自该容器( --volume-from )。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"通过简单方式实现数据卷配置\"}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker-应用部署\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 应用部署\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"mysql部署\"},\"children\":[{\"type\":\"text\",\"value\":\"MySQL部署\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：在Docker容器中部署MySQL，并通过外部mysql客户端操作MySQL Server。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 搜索mysql镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 拉取mysql镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 创建容器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 操作容器中的mysql\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"端口映射\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器内的网络服务和外部机器不能直接通信\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"外部机器和宿主机可以直接通信\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"宿主机和容器可以直接通信\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当容器中的网络服务需要被外部机器访问时，可以将容器中提供服务的端口映射到宿主机的端口上。外部机器访问宿主机的该端口，从而间接访问容器的服务。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"这种操作称为：端口映射\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-35-01.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索mysql镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker search mysql\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker search mysql\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拉取mysql镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker pull mysql:5.6\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull mysql:5.6\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建容器，设置端口映射、目录映射\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 在/root目录下创建mysql目录用于存储mysql数据信息\\r\\nmkdir ~/mysql\\r\\ncd ~/mysql\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 在/root目录下创建mysql目录用于存储mysql数据信息\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"mkdir \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"/mysql\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-dfea6c\"},\"children\":[{\"type\":\"text\",\"value\":\"cd\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"/mysql\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run -id \\\\\\r\\n-p 3307:3306 \\\\\\r\\n--name=c_mysql \\\\\\r\\n-v $PWD/conf:/etc/mysql/conf.d \\\\\\r\\n-v $PWD/logs:/logs \\\\\\r\\n-v $PWD/data:/var/lib/mysql \\\\\\r\\n-e MYSQL_ROOT_PASSWORD=123456 \\\\\\r\\nmysql:5.6\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run -id \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-p 3307:3306 \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"--name=c_mysql \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/conf:/etc/mysql/conf.d \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/logs:/logs \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/data:/var/lib/mysql \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-e MYSQL_ROOT_PASSWORD=123456 \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"mysql:5.6\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数说明：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-p 3307:3306\"}]},{\"type\":\"text\",\"value\":\"：将容器的 3306 端口映射到宿主机的 3307 端口。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/conf:/etc/mysql/conf.d\"}]},{\"type\":\"text\",\"value\":\"：将主机当前目录下的 conf/my.cnf 挂载到容器的 /etc/mysql/my.cnf。配置目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/logs:/logs\"}]},{\"type\":\"text\",\"value\":\"：将主机当前目录下的 logs 目录挂载到容器的 /logs。日志目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/data:/var/lib/mysql\"}]},{\"type\":\"text\",\"value\":\" ：将主机当前目录下的data目录挂载到容器的 /var/lib/mysql 。数据目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"**-e MYSQL_ROOT_PASSWORD=123456：**初始化 root 用户的密码。\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进入容器，操作mysql\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker exec –it c_mysql /bin/bash\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-dfea6c\"},\"children\":[{\"type\":\"text\",\"value\":\"exec\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\" –it c_mysql /bin/bash\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":5},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用外部机器连接容器中的mysql\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1573636765632\",\"src\":\"./imgs/1573636765632.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"tomcat部署\"},\"children\":[{\"type\":\"text\",\"value\":\"Tomcat部署\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：在Docker容器中部署Tomcat，并通过外部机器访问Tomcat部署的项目。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 搜索tomcat镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 拉取tomcat镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 创建容器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 部署项目\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"⑤ 测试访问\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索tomcat镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker search tomcat\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker search tomcat\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拉取tomcat镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker pull tomcat\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull tomcat\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建容器，设置端口映射、目录映射\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 在/root目录下创建tomcat目录用于存储tomcat数据信息\\r\\nmkdir ~/tomcat\\r\\ncd ~/tomcat\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 在/root目录下创建tomcat目录用于存储tomcat数据信息\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"mkdir \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"/tomcat\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-dfea6c\"},\"children\":[{\"type\":\"text\",\"value\":\"cd\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"/tomcat\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run -id --name=c_tomcat \\\\\\r\\n-p 8080:8080 \\\\\\r\\n-v $PWD:/usr/local/tomcat/webapps \\\\\\r\\ntomcat \\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run -id --name=c_tomcat \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-p 8080:8080 \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD:/usr/local/tomcat/webapps \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"tomcat \"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数说明：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"**-p 8080:8080：**将容器的8080端口映射到主机的8080端口\"},{\"type\":\"element\",\"tag\":\"br\",\"props\":{},\"children\":[]},{\"type\":\"text\",\"value\":\"**-v $PWD:/usr/local/tomcat/webapps：**将主机中当前目录挂载到容器的webapps\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用外部机器访问tomcat\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1573649804623\",\"src\":\"./imgs/1573649804623.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"nginx部署\"},\"children\":[{\"type\":\"text\",\"value\":\"Nginx部署\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：在Docker容器中部署Nginx，并通过外部机器访问Nginx。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 搜索Nginx镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 拉取Nginx镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 创建容器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 测试访问\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索nginx镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker search nginx\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker search nginx\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拉取nginx镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker pull nginx\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull nginx\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建容器，设置端口映射、目录映射\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 在/root目录下创建nginx目录用于存储nginx数据信息\\r\\nmkdir ~/nginx\\r\\ncd ~/nginx\\r\\nmkdir conf\\r\\ncd conf\\r\\n# 在~/nginx/conf/下创建nginx.conf文件,粘贴下面内容\\r\\nvim nginx.conf\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 在/root目录下创建nginx目录用于存储nginx数据信息\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"mkdir \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"/nginx\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-dfea6c\"},\"children\":[{\"type\":\"text\",\"value\":\"cd\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"/nginx\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"mkdir conf\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-dfea6c\"},\"children\":[{\"type\":\"text\",\"value\":\"cd\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\" conf\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 在~/nginx/conf/下创建nginx.conf文件,粘贴下面内容\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"vim nginx.conf\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"user  nginx;\\r\\nworker_processes  1;\\r\\n\\r\\nerror_log  /var/log/nginx/error.log warn;\\r\\npid        /var/run/nginx.pid;\\r\\n\\r\\nevents {\\r\\n    worker_connections  1024;\\r\\n}\\r\\n\\r\\nhttp {\\r\\n    include       /etc/nginx/mime.types;\\r\\n    default_type  application/octet-stream;\\r\\n\\r\\n    log_format  main  '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\r\\n                      '$status $body_bytes_sent \\\"$http_referer\\\" '\\r\\n                      '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\r\\n\\r\\n    access_log  /var/log/nginx/access.log  main;\\r\\n\\r\\n    sendfile        on;\\r\\n    #tcp_nopush     on;\\r\\n    keepalive_timeout  65;\\r\\n\\r\\n    #gzip  on;\\r\\n    include /etc/nginx/conf.d/*.conf;\\r\\n}\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"user  nginx\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"worker_processes  1\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"error_log  /var/log/nginx/error.log warn\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"pid        /var/run/nginx.pid\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"events {\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    worker_connections  1024\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"http {\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    include       /etc/nginx/mime.types\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    default_type  application/octet-stream\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    log_format  main  \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-5b5f51\"},\"children\":[{\"type\":\"text\",\"value\":\"'$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"                      \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-5b5f51\"},\"children\":[{\"type\":\"text\",\"value\":\"'$status $body_bytes_sent \\\"$http_referer\\\" '\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"                      \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-5b5f51\"},\"children\":[{\"type\":\"text\",\"value\":\"'\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"'\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    access_log  /var/log/nginx/access.log  main\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    sendfile        on\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"#tcp_nopush     on;\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    keepalive_timeout  65\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"#gzip  on;\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    include /etc/nginx/conf.d/\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\"*\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\".conf\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run -id --name=c_nginx \\\\\\r\\n-p 80:80 \\\\\\r\\n-v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf \\\\\\r\\n-v $PWD/logs:/var/log/nginx \\\\\\r\\n-v $PWD/html:/usr/share/nginx/html \\\\\\r\\nnginx\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run -id --name=c_nginx \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-p 80:80 \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/logs:/var/log/nginx \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/html:/usr/share/nginx/html \\\\\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"nginx\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"参数说明：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-p 80:80\"}]},{\"type\":\"text\",\"value\":\"：将容器的 80端口映射到宿主机的 80 端口。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf\"}]},{\"type\":\"text\",\"value\":\"：将主机当前目录下的 /conf/nginx.conf 挂载到容器的 :/etc/nginx/nginx.conf。配置目录\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"-v $PWD/logs:/var/log/nginx\"}]},{\"type\":\"text\",\"value\":\"：将主机当前目录下的 logs 目录挂载到容器的/var/log/nginx。日志目录\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用外部机器访问nginx\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"1573652396669\",\"src\":\"./imgs/1573652396669.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"redis部署\"},\"children\":[{\"type\":\"text\",\"value\":\"Redis部署\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求：在Docker容器中部署Redis，并通过外部机器访问Redis。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 搜索Redis镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 拉取Redis镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 创建容器\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 测试访问\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"搜索redis镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker search redis\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker search redis\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"拉取redis镜像\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker pull redis:5.0\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull redis:5.0\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建容器，设置端口映射\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker run -id --name=c_redis -p 6379:6379 redis:5.0\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run -id --name=c_redis -p 6379:6379 redis:5.0\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":4},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用外部机器连接redis\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"./redis-cli.exe -h 192.168.149.135 -p 6379\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"./redis-cli.exe -h 192.168.149.135 -p 6379\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"dockerfile\"},\"children\":[{\"type\":\"text\",\"value\":\"Dockerfile\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"docker-镜像原理\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 镜像原理\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"思考：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 镜像本质是什么？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"是一个分层文件系统\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 中一个centos镜像为什么只有200MB，而一个centos操作系统的iso文件要几个个G？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"•\\tCentos的iso镜像文件包含bootfs和rootfs，而docker的centos镜像复用操作系统的bootfs，只有rootfs和其他镜像层\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 中一个tomcat镜像为什么有500MB，而一个tomcat安装包只有70多MB？\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"•\\t由于docker中镜像是分层的，tomcat虽然只有70多MB，但他需要依赖于父镜像和基础镜像，所有整个对外暴露的tomcat镜像大小500多MB\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"操作系统组成部分：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进程调度子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"进程通信子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"内存管理子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"设备管理子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"文件管理子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"网络通信子系统\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"作业控制子系统\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Linux文件系统由bootfs和rootfs两部分组成\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"bootfs：包含bootloader（引导加载程序）和 kernel（内核）\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"rootfs： root文件系统，包含的就是典型 Linux 系统中的/dev，/proc，/bin，/etc等标准目录和文件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"不同的linux发行版，bootfs基本一样，而rootfs不同，如ubuntu，centos等\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-39-04.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker 镜像原理\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker镜像是由特殊的文件系统叠加而成\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"最底端是 bootfs，并使用宿主机的bootfs\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"第二层是 root文件系统rootfs,称为base image\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"然后再往上可以叠加其他的镜像文件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"统一文件系统（Union File System）技术能够将不同的层整合成一个文件系统，为这些层提供了一个统一的视角，这样就隐藏了多层的存在，在用户的角度看来，只存在一个文件系统。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"一个镜像可以放在另一个镜像的上面。位于下面的镜像称为父镜像，最底部的镜像成为基础镜像。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"当从一个镜像启动容器时，Docker会在最顶层加载一个读写文件系统作为容器\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-41-04.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"镜像制作\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器转为镜像\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"docker commit 容器id 镜像名称:版本号\\r\\ndocker save -o 压缩文件名称 镜像名称:版本号\\r\\ndocker load –i 压缩文件名称\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker commit 容器id 镜像名称:版本号\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker save -o 压缩文件名称 镜像名称:版本号\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker load –i 压缩文件名称\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-43-43.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"dockerfile概念及作用\"},\"children\":[{\"type\":\"text\",\"value\":\"Dockerfile概念及作用\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Dockerfile 是一个文本文件\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"包含了一条条的指令\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"每一条指令构建一层，基于基础镜像，最终构建出一个新的镜像\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于开发人员：可以为开发团队提供一个完全一致的开发环境\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于测试人员：可以直接拿开发时所构建的镜像或者通过Dockerfile文件构建一个新的镜像开始工作了\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"对于运维人员：在部署时，可以实现应用的无缝移植\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Dochub网址：\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://hub.docker.com\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://hub.docker.com\"}]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-45-24.png\"},\"children\":[]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"dockerfile关键字\"},\"children\":[{\"type\":\"text\",\"value\":\"Dockerfile关键字\"}]},{\"type\":\"element\",\"tag\":\"table\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"thead\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"关键字\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"作用\"}]},{\"type\":\"element\",\"tag\":\"th\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"备注\"}]}]}]},{\"type\":\"element\",\"tag\":\"tbody\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"FROM\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定父镜像\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定dockerfile基于那个image构建\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"MAINTAINER\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"作者信息\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"用来标明这个dockerfile谁写的\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"LABEL\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"标签\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"用来标明dockerfile的标签 可以使用Label代替Maintainer 最终都是在docker image基本信息中可以查看\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"RUN\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"执行命令\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"执行一段命令 默认是/bin/sh 格式: RUN command 或者 RUN \"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\\"command\\\" , \\\"param1\\\",\\\"param2\\\"\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"CMD\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"容器启动命令\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"提供启动容器时候的默认命令 和ENTRYPOINT配合使用.格式 CMD command param1 param2 或者 CMD \"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\\"command\\\" , \\\"param1\\\",\\\"param2\\\"\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ENTRYPOINT\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"入口\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"一般在制作一些执行就关闭的容器中会使用\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"COPY\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"复制文件\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"build的时候复制文件到image中\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ADD\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"添加文件\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"build的时候添加文件到image中 不仅仅局限于当前build上下文 可以来源于远程服务\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ENV\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"环境变量\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定build时候的环境变量 可以在启动的容器的时候 通过-e覆盖 格式ENV name=value\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ARG\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"构建参数\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"构建参数 只在构建的时候使用的参数 如果有ENV 那么ENV的相同名字的值始终覆盖arg的参数\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"VOLUME\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"定义外部可以挂载的数据卷\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定build的image那些目录可以启动的时候挂载到文件系统中 启动容器的时候使用 -v 绑定 格式 VOLUME \"},{\"type\":\"element\",\"tag\":\"span\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\\"目录\\\"\"}]}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"EXPOSE\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"暴露端口\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"定义容器运行的时候监听的端口 启动容器的使用-p来绑定暴露端口 格式: EXPOSE 8080 或者 EXPOSE 8080/udp\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"WORKDIR\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"工作目录\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定容器内部的工作目录 如果没有创建则自动创建 如果指定/ 使用的是绝对地址 如果不是/开头那么是在上一条workdir的路径的相对路径\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"USER\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定执行用户\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定build或者启动的时候 用户 在RUN CMD ENTRYPONT执行的时候的用户\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"HEALTHCHECK\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"健康检查\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定监测当前容器的健康监测的命令 基本上没用 因为很多时候 应用本身有健康监测机制\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"ONBUILD\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"触发器\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"当存在ONBUILD关键字的镜像作为基础镜像的时候 当执行FROM完成之后 会执行 ONBUILD的命令 但是不影响当前镜像 用处也不怎么大\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"STOPSIGNAL\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"发送信号量到宿主机\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"该STOPSIGNAL指令设置将发送到容器的系统调用信号以退出。\"}]}]},{\"type\":\"element\",\"tag\":\"tr\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"SHELL\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定执行脚本的shell\"}]},{\"type\":\"element\",\"tag\":\"td\",\"props\":{\"align\":null},\"children\":[{\"type\":\"text\",\"value\":\"指定RUN CMD ENTRYPOINT 执行命令的时候 使用的shell\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"案例\"},\"children\":[{\"type\":\"text\",\"value\":\"案例\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求1：自定义centos7镜像。要求：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"默认登录路径为 /usr\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"可以使用vim\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤1：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 定义父镜像：FROM centos:7\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 定义作者信息：MAINTAINER itheima \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"mailto:itheima@itcast.cn\"},\"children\":[{\"type\":\"text\",\"value\":\"itheima@itcast.cn\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 执行安装vim命令： RUN yum install -y vim\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 定义默认的工作目录：WORKDIR /usr\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"⑤ 定义容器启动执行的命令：CMD /bin/bash\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"⑥ 通过dockerfile构建镜像：docker bulid –f dockerfile文件路径 –t 镜像名称:版本\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"需求2：定义dockerfile，发布springboot项目\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"实现步骤2：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"① 定义父镜像：FROM java:8\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"② 定义作者信息：MAINTAINER itheima \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"mailto:itheima@itcast.cn\"},\"children\":[{\"type\":\"text\",\"value\":\"itheima@itcast.cn\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"③ 将jar包添加到容器： ADD springboot.jar app.jar\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"④ 定义容器启动执行的命令：CMD java–jar app.jar\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"⑤ 通过dockerfile构建镜像：docker bulid –f dockerfile文件路径 –t 镜像名称:版本\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker-服务编排\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 服务编排\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"服务编排概念\"},\"children\":[{\"type\":\"text\",\"value\":\"服务编排概念\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"微服务架构的应用系统中一般包含若干个微服务，每个微服务一般都会部署多个实例，如果每个微服务都要手动启停，维护的工作量会很大。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要从Dockerfile build image 或者去dockerhub拉取image\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要创建多个container\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"要管理这些container（启动停止删除）\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"strong\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"服务编排\"}]},{\"type\":\"text\",\"value\":\"：按照一定的业务规则批量管理容器\"}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"docker-compose-概述\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker Compose 概述\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker Compose是一个编排多容器分布式部署的工具，提供命令集管理容器化应用的完整开发周期，包括服务构建，启动和停止。使用步骤：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"利用 Dockerfile 定义运行环境镜像\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":2},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用 docker-compose.yml 定义组成应用的各服务\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"ol\",\"props\":{\"start\":3},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"运行 docker-compose up 启动应用\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-49-38.png\"},\"children\":[]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"安装Docker Compose\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# Compose目前已经完全支持Linux、Mac OS和Windows，在我们安装Compose之前，需要先安装Docker。下面我 们以编译好的二进制包方式安装在Linux系统中。 \\r\\ncurl -L https://github.com/docker/compose/releases/download/1.22.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose\\r\\n# 设置文件可执行权限 \\r\\nchmod +x /usr/local/bin/docker-compose\\r\\n# 查看版本信息 \\r\\ndocker-compose -version\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# Compose目前已经完全支持Linux、Mac OS和Windows，在我们安装Compose之前，需要先安装Docker。下面我 们以编译好的二进制包方式安装在Linux系统中。 \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"curl -L https://github.com/docker/compose/releases/download/1.22.0/docker-compose-\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-5b5f51\"},\"children\":[{\"type\":\"text\",\"value\":\"`uname -s`\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"-\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-5b5f51\"},\"children\":[{\"type\":\"text\",\"value\":\"`uname -m`\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\" -o /usr/local/bin/docker-compose\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 设置文件可执行权限 \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"chmod +x /usr/local/bin/docker-compose\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 查看版本信息 \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker-compose -version\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"卸载Docker Compose\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 二进制包方式安装的，删除二进制文件即可\\r\\nrm /usr/local/bin/docker-compose\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 二进制包方式安装的，删除二进制文件即可\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"rm /usr/local/bin/docker-compose\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"使用docker compose编排nginx+springboot项目\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建docker-compose目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"mkdir ~/docker-compose\\r\\ncd ~/docker-compose\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"mkdir \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"/docker-compose\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-dfea6c\"},\"children\":[{\"type\":\"text\",\"value\":\"cd\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-9da9fe\"},\"children\":[{\"type\":\"text\",\"value\":\"~\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"/docker-compose\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"编写 docker-compose.yml 文件\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"version: '3'\\r\\nservices:\\r\\n  nginx:\\r\\n      image: nginx\\r\\n      ports:\\r\\n        - 80:80\\r\\n      links:\\r\\n        - app\\r\\n      volumes:\\r\\n        - ./nginx/conf.d:/etc/nginx/conf.d\\r\\n      app:\\r\\n        image: app\\r\\n        expose:\\r\\n          - \\\"8080\\\"\\n\",\"language\":\"ini\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"version: \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-5b5f51\"},\"children\":[{\"type\":\"text\",\"value\":\"'3'\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"services:\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"  nginx:\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"      image: nginx\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"      ports:\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"        - 80:80\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"      links:\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"        - app\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"      volumes:\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"        - ./nginx/conf.d:/etc/nginx/conf.d\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"      app:\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"        image: app\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"        expose:\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"          - \"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-5b5f51\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"8080\\\"\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"创建./nginx/conf.d目录\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"mkdir -p ./nginx/conf.d\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"mkdir -p ./nginx/conf.d\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在./nginx/conf.d目录下 编写itheima.conf文件\"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"server {\\r\\n    listen 80;\\r\\n    access_log off;\\r\\n    location / {\\r\\n      proxy_pass http://app:8080;\\r\\n  }  \\r\\n}\\n\",\"language\":\"ini\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"server {\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    listen 80\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    access_log off\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"    location / {\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"      proxy_pass http://app:8080\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\";\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"  }  \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"在~/docker-compose 目录下 使用docker-compose 启动容器\"}]}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"  docker-compose up\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"  docker-compose up\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"测试访问\\r\\n\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"http://192.168.149.135/hello\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"http://192.168.149.135/hello\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker-私有仓库\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker 私有仓库\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"搭建私有仓库\"},\"children\":[{\"type\":\"text\",\"value\":\"搭建私有仓库\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Docker官方的Docker hub（\"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://hub.docker.com%EF%BC%89%E6%98%AF%E4%B8%80%E4%B8%AA%E7%94%A8%E4%BA%8E%E7%AE%A1%E7%90%86%E5%85%AC%E5%85%B1%E9%95%9C%E5%83%8F%E7%9A%84%E4%BB%93%E5%BA%93%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%BB%8E%E4%B8%8A%E9%9D%A2%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F%E5%88%B0%E6%9C%AC%E5%9C%B0%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%8A%8A%E6%88%91%E4%BB%AC%E8%87%AA%E5%B7%B1%E7%9A%84%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E4%B8%8A%E5%8E%BB%E3%80%82%E4%BD%86%E6%98%AF%EF%BC%8C%E6%9C%89%E6%97%B6%E5%80%99%E6%88%91%E4%BB%AC%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E4%BA%92%E8%81%94%E7%BD%91%EF%BC%8C%E6%88%96%E8%80%85%E4%BD%A0%E4%B8%8D%E5%B8%8C%E6%9C%9B%E5%B0%86%E8%87%AA%E5%B7%B1%E7%9A%84%E9%95%9C%E5%83%8F%E6%94%BE%E5%88%B0%E5%85%AC%E7%BD%91%E5%BD%93%E4%B8%AD%EF%BC%8C%E9%82%A3%E4%B9%88%E6%88%91%E4%BB%AC%E5%B0%B1%E9%9C%80%E8%A6%81%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E6%9D%A5%E5%AD%98%E5%82%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%87%AA%E5%B7%B1%E7%9A%84%E9%95%9C%E5%83%8F%E3%80%82\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"https://hub.docker.com）是一个用于管理公共镜像的仓库，我们可以从上面拉取镜像到本地，也可以把我们自己的镜像推送上去。但是，有时候我们的服务器无法访问互联网，或者你不希望将自己的镜像放到公网当中，那么我们就需要搭建自己的私有仓库来存储和管理自己的镜像。\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 1、拉取私有仓库镜像 \\r\\ndocker pull registry\\r\\n# 2、启动私有仓库容器 \\r\\ndocker run -id --name=registry -p 5000:5000 registry\\r\\n# 3、打开浏览器 输入地址http://私有仓库服务器ip:5000/v2/_catalog，看到{\\\"repositories\\\":[]} 表示私有仓库 搭建成功\\r\\n# 4、修改daemon.json   \\r\\nvim /etc/docker/daemon.json    \\r\\n# 在上述文件中添加一个key，保存退出。此步用于让 docker 信任私有仓库地址；注意将私有仓库服务器ip修改为自己私有仓库服务器真实ip \\r\\n{\\\"insecure-registries\\\":[\\\"私有仓库服务器ip:5000\\\"]} \\r\\n# 5、重启docker 服务 \\r\\nsystemctl restart docker\\r\\ndocker start registry\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 1、拉取私有仓库镜像 \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull registry\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 2、启动私有仓库容器 \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run -id --name=registry -p 5000:5000 registry\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 3、打开浏览器 输入地址http://私有仓库服务器ip:5000/v2/_catalog，看到{\\\"repositories\\\":[]} 表示私有仓库 搭建成功\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 4、修改daemon.json   \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"vim /etc/docker/daemon.json    \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 在上述文件中添加一个key，保存退出。此步用于让 docker 信任私有仓库地址；注意将私有仓库服务器ip修改为自己私有仓库服务器真实ip \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-5b5f51\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"insecure-registries\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\":[\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-5b5f51\"},\"children\":[{\"type\":\"text\",\"value\":\"\\\"私有仓库服务器ip:5000\\\"\"}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"]} \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 5、重启docker 服务 \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"systemctl restart docker\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker start registry\"}]}]}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"上传镜像到私有仓库\"},\"children\":[{\"type\":\"text\",\"value\":\"上传镜像到私有仓库\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"# 1、标记镜像为私有仓库的镜像     \\r\\ndocker tag centos:7 私有仓库服务器IP:5000/centos:7\\r\\n \\r\\n# 2、上传标记的镜像     \\r\\ndocker push 私有仓库服务器IP:5000/centos:7\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 1、标记镜像为私有仓库的镜像     \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker tag centos:7 私有仓库服务器IP:5000/centos:7\"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\" \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"# 2、上传标记的镜像     \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker push 私有仓库服务器IP:5000/centos:7\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"从私有仓库拉取镜像\"},\"children\":[{\"type\":\"text\",\"value\":\"从私有仓库拉取镜像\"}]},{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"code\":\"#拉取镜像 \\r\\ndocker pull 私有仓库服务器ip:5000/centos:7\\n\",\"language\":\"shell\"},\"children\":[{\"type\":\"element\",\"tag\":\"pre\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-b09c2b\"},\"children\":[{\"type\":\"text\",\"value\":\"#拉取镜像 \"}]}]},{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"line\"},\"children\":[{\"type\":\"element\",\"tag\":\"span\",\"props\":{\"class\":\"ct-08947d\"},\"children\":[{\"type\":\"text\",\"value\":\"docker pull 私有仓库服务器ip:5000/centos:7\"}]}]}]}]}]},{\"type\":\"element\",\"tag\":\"h2\",\"props\":{\"id\":\"docker相关概念\"},\"children\":[{\"type\":\"text\",\"value\":\"Docker相关概念\"}]},{\"type\":\"element\",\"tag\":\"h3\",\"props\":{\"id\":\"docker容器虚拟化-与-传统虚拟机比较\"},\"children\":[{\"type\":\"text\",\"value\":\"docker容器虚拟化 与 传统虚拟机比较\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器就是将软件打包成标准化单元，以用于开发、交付和部署。\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器镜像是轻量的、可执行的独立软件包 ，包含软件运行所需的所有内容：代码、运行时环境、系统工具、系统库和设置。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器化软件在任何环境中都能够始终如一地运行。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器赋予了软件独立性，使其免受外在环境差异的影响，从而有助于减少团队间在相同基础设施上运行不同软件时的冲突。\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-51-39.png\"},\"children\":[]}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"相同：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器和虚拟机具有相似的资源隔离和分配优势\"}]}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"不同：\"},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"容器虚拟化的是操作系统，虚拟机虚拟化的是硬件。\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"传统虚拟机可以运行不同的操作系统，容器只能运行同一类型操作系统\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-52-37.png\"},\"children\":[]},{\"type\":\"text\",\"value\":\"\\r\\n\"},{\"type\":\"element\",\"tag\":\"img\",\"props\":{\"alt\":\"\",\"src\":\"./assets/Snipaste_2022-10-08_13-52-43.png\"},\"children\":[]}]}]}]}]},{\"type\":\"element\",\"tag\":\"style\",\"children\":[{\"type\":\"text\",\"value\":\".ct-9da9fe{color:#CF222E}\\n.ct-5b5f51{color:#0A3069}\\n.ct-dfea6c{color:#0550AE}\\n.ct-08947d{color:#24292F}\\n.ct-b09c2b{color:#6E7781}\\n.dark .ct-b09c2b{color:#8B949E}\\n.dark .ct-08947d{color:#C9D1D9}\\n.dark .ct-dfea6c{color:#79C0FF}\\n.dark .ct-5b5f51{color:#A5D6FF}\\n.dark .ct-9da9fe{color:#FF7B72}\"}]}],\"toc\":{\"title\":\"\",\"searchDepth\":2,\"depth\":2,\"links\":[{\"id\":\"初识-docker\",\"depth\":2,\"text\":\"初识 Docker\",\"children\":[{\"id\":\"docker概念\",\"depth\":3,\"text\":\"docker概念\"},{\"id\":\"安装docker\",\"depth\":3,\"text\":\"安装docker\"},{\"id\":\"docker架构\",\"depth\":3,\"text\":\"docker架构\"},{\"id\":\"配置-docker-镜像加速器\",\"depth\":3,\"text\":\"配置 Docker 镜像加速器\"}]},{\"id\":\"docker-命令\",\"depth\":2,\"text\":\"Docker 命令\",\"children\":[{\"id\":\"进程相关命令\",\"depth\":3,\"text\":\"进程相关命令\"},{\"id\":\"镜像相关命令\",\"depth\":3,\"text\":\"镜像相关命令\"},{\"id\":\"查看镜像\",\"depth\":3,\"text\":\"查看镜像\"},{\"id\":\"搜索镜像\",\"depth\":3,\"text\":\"搜索镜像\"},{\"id\":\"拉取镜像\",\"depth\":3,\"text\":\"拉取镜像\"},{\"id\":\"删除镜像\",\"depth\":3,\"text\":\"删除镜像\"},{\"id\":\"容器相关命令\",\"depth\":3,\"text\":\"容器相关命令\"},{\"id\":\"查看容器\",\"depth\":3,\"text\":\"查看容器\"},{\"id\":\"创建\",\"depth\":3,\"text\":\"创建\"},{\"id\":\"进入容器\",\"depth\":3,\"text\":\"进入容器\"},{\"id\":\"启动容器\",\"depth\":3,\"text\":\"启动容器\"},{\"id\":\"停止容器\",\"depth\":3,\"text\":\"停止容器\"},{\"id\":\"删除容器\",\"depth\":3,\"text\":\"删除容器\"},{\"id\":\"查看容器信息\",\"depth\":3,\"text\":\"查看容器信息\"}]},{\"id\":\"docker-容器数据卷\",\"depth\":2,\"text\":\"Docker 容器数据卷\",\"children\":[{\"id\":\"数据卷概念及作用\",\"depth\":3,\"text\":\"数据卷概念及作用\"},{\"id\":\"配置数据卷\",\"depth\":3,\"text\":\"配置数据卷\"},{\"id\":\"配置数据卷容器\",\"depth\":3,\"text\":\"配置数据卷容器\"},{\"id\":\"数据卷小结\",\"depth\":3,\"text\":\"数据卷小结\"}]},{\"id\":\"docker-应用部署\",\"depth\":2,\"text\":\"Docker 应用部署\",\"children\":[{\"id\":\"mysql部署\",\"depth\":3,\"text\":\"MySQL部署\"},{\"id\":\"tomcat部署\",\"depth\":3,\"text\":\"Tomcat部署\"},{\"id\":\"nginx部署\",\"depth\":3,\"text\":\"Nginx部署\"},{\"id\":\"redis部署\",\"depth\":3,\"text\":\"Redis部署\"}]},{\"id\":\"dockerfile\",\"depth\":2,\"text\":\"Dockerfile\",\"children\":[{\"id\":\"docker-镜像原理\",\"depth\":3,\"text\":\"Docker 镜像原理\"},{\"id\":\"dockerfile概念及作用\",\"depth\":3,\"text\":\"Dockerfile概念及作用\"},{\"id\":\"dockerfile关键字\",\"depth\":3,\"text\":\"Dockerfile关键字\"},{\"id\":\"案例\",\"depth\":3,\"text\":\"案例\"}]},{\"id\":\"docker-服务编排\",\"depth\":2,\"text\":\"Docker 服务编排\",\"children\":[{\"id\":\"服务编排概念\",\"depth\":3,\"text\":\"服务编排概念\"},{\"id\":\"docker-compose-概述\",\"depth\":3,\"text\":\"Docker Compose 概述\"}]},{\"id\":\"docker-私有仓库\",\"depth\":2,\"text\":\"Docker 私有仓库\",\"children\":[{\"id\":\"搭建私有仓库\",\"depth\":3,\"text\":\"搭建私有仓库\"},{\"id\":\"上传镜像到私有仓库\",\"depth\":3,\"text\":\"上传镜像到私有仓库\"},{\"id\":\"从私有仓库拉取镜像\",\"depth\":3,\"text\":\"从私有仓库拉取镜像\"}]},{\"id\":\"docker相关概念\",\"depth\":2,\"text\":\"Docker相关概念\",\"children\":[{\"id\":\"docker容器虚拟化-与-传统虚拟机比较\",\"depth\":3,\"text\":\"docker容器虚拟化 与 传统虚拟机比较\"}]}]}},\"_type\":\"markdown\",\"_id\":\"content:3.Note:1.program:10.learnDocker.md\",\"_source\":\"content\",\"_file\":\"3.Note/1.program/10.learnDocker.md\",\"_extension\":\"md\"},\"hash\":\"h6egoPR9Wi\"}";

export { _10_learnDocker as default };
//# sourceMappingURL=10.learnDocker.mjs.map
